/*! For license information please see app.js.LICENSE.txt */ ! function (t) {
    function e(e) {
        for (var n, a, s = e[0], u = e[1], l = e[3] || [], h = 0, f = []; h < s.length; h++) a = s[h], Object.prototype.hasOwnProperty.call(r, a) && r[a] && f.push(r[a][0]), r[a] = 0;
        for (n in u) Object.prototype.hasOwnProperty.call(u, n) && (t[n] = u[n]);
        for (c && c(e), l.forEach((function (t) {
                if (void 0 === r[t]) {
                    r[t] = null;
                    var e = document.createElement("link");
                    i.nc && e.setAttribute("nonce", i.nc), e.rel = "prefetch", e.as = "script", e.href = o(t), document.head.appendChild(e)
                }
            })); f.length;) f.shift()()
    }
    var n = {},
        r = {
            2: 0
        };

    function o(t) {
        return i.p + "" + ({
            0: "bld",
            1: "cdf"
        } [t] || t) + ".js?ea0ac4430308"
    }

    function i(e) {
        if (n[e]) return n[e].exports;
        var r = n[e] = {
            i: e,
            l: !1,
            exports: {}
        };
        return t[e].call(r.exports, r, r.exports, i), r.l = !0, r.exports
    }
    i.e = function (t) {
        var e = [],
            n = r[t];
        if (0 !== n)
            if (n) e.push(n[2]);
            else {
                var a = new Promise((function (e, o) {
                    n = r[t] = [e, o]
                }));
                e.push(n[2] = a);
                var s, u = document.createElement("script");
                u.charset = "utf-8", u.timeout = 120, i.nc && u.setAttribute("nonce", i.nc), u.src = o(t);
                var c = new Error;
                s = function (e) {
                    u.onerror = u.onload = null, clearTimeout(l);
                    var n = r[t];
                    if (0 !== n) {
                        if (n) {
                            var o = e && ("load" === e.type ? "missing" : e.type),
                                i = e && e.target && e.target.src;
                            c.message = "Loading chunk " + t + " failed.\n(" + o + ": " + i + ")", c.name = "ChunkLoadError", c.type = o, c.request = i, n[1](c)
                        }
                        r[t] = void 0
                    }
                };
                var l = setTimeout((function () {
                    s({
                        type: "timeout",
                        target: u
                    })
                }), 12e4);
                u.onerror = u.onload = s, document.head.appendChild(u)
            } return Promise.all(e)
    }, i.m = t, i.c = n, i.d = function (t, e, n) {
        i.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: n
        })
    }, i.r = function (t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }, i.t = function (t, e) {
        if (1 & e && (t = i(t)), 8 & e) return t;
        if (4 & e && "object" == typeof t && t && t.__esModule) return t;
        var n = Object.create(null);
        if (i.r(n), Object.defineProperty(n, "default", {
                enumerable: !0,
                value: t
            }), 2 & e && "string" != typeof t)
            for (var r in t) i.d(n, r, function (e) {
                return t[e]
            }.bind(null, r));
        return n
    }, i.n = function (t) {
        var e = t && t.__esModule ? function () {
            return t.default
        } : function () {
            return t
        };
        return i.d(e, "a", e), e
    }, i.o = function (t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, i.p = "/map/js/", i.oe = function (t) {
        throw console.error(t), t
    };
    var a = window.webpackJsonp = window.webpackJsonp || [],
        s = a.push.bind(a);
    a.push = e, a = a.slice();
    for (var u = 0; u < a.length; u++) e(a[u]);
    var c = s;
    i(i.s = 190), e([
        [], {},
        0, [0, 1]
    ])
}([function (t, e, n) {
    (function (e) {
        t.exports = e.jQuery = n(252)
    }).call(this, n(46))
}, function (t, e, n) {
    var r = n(13),
        o = n(47).f,
        i = n(34),
        a = n(35),
        s = n(90),
        u = n(117),
        c = n(76);
    t.exports = function (t, e) {
        var n, l, h, f, p, d = t.target,
            y = t.global,
            g = t.stat;
        if (n = y ? r : g ? r[d] || s(d, {}) : (r[d] || {}).prototype)
            for (l in e) {
                if (f = e[l], h = t.noTargetGet ? (p = o(n, l)) && p.value : n[l], !c(y ? l : d + (g ? "." : "#") + l, t.forced) && void 0 !== h) {
                    if (typeof f == typeof h) continue;
                    u(f, h)
                }(t.sham || h && h.sham) && i(f, "sham", !0), a(n, l, f, t)
            }
    }
}, function (t, e, n) {
    var r = n(100),
        o = n(35),
        i = n(203);
    r || o(Object.prototype, "toString", i, {
        unsafe: !0
    })
}, function (t, e, n) {
    "use strict";
    var r = n(32),
        o = n(79),
        i = n(69),
        a = n(53),
        s = n(102),
        u = a.set,
        c = a.getterFor("Array Iterator");
    t.exports = s(Array, "Array", (function (t, e) {
        u(this, {
            type: "Array Iterator",
            target: r(t),
            index: 0,
            kind: e
        })
    }), (function () {
        var t = c(this),
            e = t.target,
            n = t.kind,
            r = t.index++;
        return !e || r >= e.length ? (t.target = void 0, {
            value: void 0,
            done: !0
        }) : "keys" == n ? {
            value: r,
            done: !1
        } : "values" == n ? {
            value: e[r],
            done: !1
        } : {
            value: [r, e[r]],
            done: !1
        }
    }), "values"), i.Arguments = i.Array, o("keys"), o("values"), o("entries")
}, function (t, e, n) {
    "use strict";
    var r = n(35),
        o = n(23),
        i = n(8),
        a = n(143),
        s = RegExp.prototype,
        u = s.toString,
        c = i((function () {
            return "/a/b" != u.call({
                source: "a",
                flags: "b"
            })
        })),
        l = "toString" != u.name;
    (c || l) && r(RegExp.prototype, "toString", (function () {
        var t = o(this),
            e = String(t.source),
            n = t.flags;
        return "/" + e + "/" + String(void 0 === n && t instanceof RegExp && !("flags" in s) ? a.call(t) : n)
    }), {
        unsafe: !0
    })
}, function (t, e, n) {
    "use strict";
    var r = n(145).charAt,
        o = n(53),
        i = n(102),
        a = o.set,
        s = o.getterFor("String Iterator");
    i(String, "String", (function (t) {
        a(this, {
            type: "String Iterator",
            string: String(t),
            index: 0
        })
    }), (function () {
        var t, e = s(this),
            n = e.string,
            o = e.index;
        return o >= n.length ? {
            value: void 0,
            done: !0
        } : (t = r(n, o), e.index += t.length, {
            value: t,
            done: !1
        })
    }))
}, function (t, e, n) {
    var r = n(13),
        o = n(148),
        i = n(3),
        a = n(34),
        s = n(14),
        u = s("iterator"),
        c = s("toStringTag"),
        l = i.values;
    for (var h in o) {
        var f = r[h],
            p = f && f.prototype;
        if (p) {
            if (p[u] !== l) try {
                a(p, u, l)
            } catch (t) {
                p[u] = l
            }
            if (p[c] || a(p, c, h), o[h])
                for (var d in i)
                    if (p[d] !== i[d]) try {
                        a(p, d, i[d])
                    } catch (t) {
                        p[d] = i[d]
                    }
        }
    }
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(13),
        i = n(48),
        a = n(62),
        s = n(25),
        u = n(97),
        c = n(120),
        l = n(8),
        h = n(22),
        f = n(77),
        p = n(17),
        d = n(23),
        y = n(36),
        g = n(32),
        v = n(61),
        m = n(59),
        _ = n(55),
        b = n(64),
        x = n(75),
        w = n(194),
        S = n(96),
        C = n(47),
        E = n(27),
        T = n(72),
        O = n(34),
        P = n(35),
        A = n(92),
        R = n(73),
        I = n(63),
        k = n(74),
        L = n(14),
        j = n(122),
        M = n(123),
        D = n(65),
        F = n(53),
        G = n(56).forEach,
        N = R("hidden"),
        z = L("toPrimitive"),
        B = F.set,
        U = F.getterFor("Symbol"),
        X = Object.prototype,
        W = o.Symbol,
        V = i("JSON", "stringify"),
        H = C.f,
        Y = E.f,
        Z = w.f,
        q = T.f,
        K = A("symbols"),
        $ = A("op-symbols"),
        J = A("string-to-symbol-registry"),
        Q = A("symbol-to-string-registry"),
        tt = A("wks"),
        et = o.QObject,
        nt = !et || !et.prototype || !et.prototype.findChild,
        rt = s && l((function () {
            return 7 != _(Y({}, "a", {
                get: function () {
                    return Y(this, "a", {
                        value: 7
                    }).a
                }
            })).a
        })) ? function (t, e, n) {
            var r = H(X, e);
            r && delete X[e], Y(t, e, n), r && t !== X && Y(X, e, r)
        } : Y,
        ot = function (t, e) {
            var n = K[t] = _(W.prototype);
            return B(n, {
                type: "Symbol",
                tag: t,
                description: e
            }), s || (n.description = e), n
        },
        it = c ? function (t) {
            return "symbol" == typeof t
        } : function (t) {
            return Object(t) instanceof W
        },
        at = function (t, e, n) {
            t === X && at($, e, n), d(t);
            var r = v(e, !0);
            return d(n), h(K, r) ? (n.enumerable ? (h(t, N) && t[N][r] && (t[N][r] = !1), n = _(n, {
                enumerable: m(0, !1)
            })) : (h(t, N) || Y(t, N, m(1, {})), t[N][r] = !0), rt(t, r, n)) : Y(t, r, n)
        },
        st = function (t, e) {
            d(t);
            var n = g(e),
                r = b(n).concat(ht(n));
            return G(r, (function (e) {
                s && !ut.call(n, e) || at(t, e, n[e])
            })), t
        },
        ut = function (t) {
            var e = v(t, !0),
                n = q.call(this, e);
            return !(this === X && h(K, e) && !h($, e)) && (!(n || !h(this, e) || !h(K, e) || h(this, N) && this[N][e]) || n)
        },
        ct = function (t, e) {
            var n = g(t),
                r = v(e, !0);
            if (n !== X || !h(K, r) || h($, r)) {
                var o = H(n, r);
                return !o || !h(K, r) || h(n, N) && n[N][r] || (o.enumerable = !0), o
            }
        },
        lt = function (t) {
            var e = Z(g(t)),
                n = [];
            return G(e, (function (t) {
                h(K, t) || h(I, t) || n.push(t)
            })), n
        },
        ht = function (t) {
            var e = t === X,
                n = Z(e ? $ : g(t)),
                r = [];
            return G(n, (function (t) {
                !h(K, t) || e && !h(X, t) || r.push(K[t])
            })), r
        };
    u || (P((W = function () {
        if (this instanceof W) throw TypeError("Symbol is not a constructor");
        var t = arguments.length && void 0 !== arguments[0] ? String(arguments[0]) : void 0,
            e = k(t),
            n = function (t) {
                this === X && n.call($, t), h(this, N) && h(this[N], e) && (this[N][e] = !1), rt(this, e, m(1, t))
            };
        return s && nt && rt(X, e, {
            configurable: !0,
            set: n
        }), ot(e, t)
    }).prototype, "toString", (function () {
        return U(this).tag
    })), P(W, "withoutSetter", (function (t) {
        return ot(k(t), t)
    })), T.f = ut, E.f = at, C.f = ct, x.f = w.f = lt, S.f = ht, j.f = function (t) {
        return ot(L(t), t)
    }, s && (Y(W.prototype, "description", {
        configurable: !0,
        get: function () {
            return U(this).description
        }
    }), a || P(X, "propertyIsEnumerable", ut, {
        unsafe: !0
    }))), r({
        global: !0,
        wrap: !0,
        forced: !u,
        sham: !u
    }, {
        Symbol: W
    }), G(b(tt), (function (t) {
        M(t)
    })), r({
        target: "Symbol",
        stat: !0,
        forced: !u
    }, {
        for: function (t) {
            var e = String(t);
            if (h(J, e)) return J[e];
            var n = W(e);
            return J[e] = n, Q[n] = e, n
        },
        keyFor: function (t) {
            if (!it(t)) throw TypeError(t + " is not a symbol");
            if (h(Q, t)) return Q[t]
        },
        useSetter: function () {
            nt = !0
        },
        useSimple: function () {
            nt = !1
        }
    }), r({
        target: "Object",
        stat: !0,
        forced: !u,
        sham: !s
    }, {
        create: function (t, e) {
            return void 0 === e ? _(t) : st(_(t), e)
        },
        defineProperty: at,
        defineProperties: st,
        getOwnPropertyDescriptor: ct
    }), r({
        target: "Object",
        stat: !0,
        forced: !u
    }, {
        getOwnPropertyNames: lt,
        getOwnPropertySymbols: ht
    }), r({
        target: "Object",
        stat: !0,
        forced: l((function () {
            S.f(1)
        }))
    }, {
        getOwnPropertySymbols: function (t) {
            return S.f(y(t))
        }
    }), V && r({
        target: "JSON",
        stat: !0,
        forced: !u || l((function () {
            var t = W();
            return "[null]" != V([t]) || "{}" != V({
                a: t
            }) || "{}" != V(Object(t))
        }))
    }, {
        stringify: function (t, e, n) {
            for (var r, o = [t], i = 1; arguments.length > i;) o.push(arguments[i++]);
            if (r = e, (p(e) || void 0 !== t) && !it(t)) return f(e) || (e = function (t, e) {
                if ("function" == typeof r && (e = r.call(this, t, e)), !it(e)) return e
            }), o[1] = e, V.apply(null, o)
        }
    }), W.prototype[z] || O(W.prototype, z, W.prototype.valueOf), D(W, "Symbol"), I[N] = !0
}, function (t, e) {
    t.exports = function (t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(25),
        i = n(13),
        a = n(22),
        s = n(17),
        u = n(27).f,
        c = n(117),
        l = i.Symbol;
    if (o && "function" == typeof l && (!("description" in l.prototype) || void 0 !== l().description)) {
        var h = {},
            f = function () {
                var t = arguments.length < 1 || void 0 === arguments[0] ? void 0 : String(arguments[0]),
                    e = this instanceof f ? new l(t) : void 0 === t ? l() : l(t);
                return "" === t && (h[e] = !0), e
            };
        c(f, l);
        var p = f.prototype = l.prototype;
        p.constructor = f;
        var d = p.toString,
            y = "Symbol(test)" == String(l("test")),
            g = /^Symbol\((.*)\)[^)]+$/;
        u(p, "description", {
            configurable: !0,
            get: function () {
                var t = s(this) ? this.valueOf() : this,
                    e = d.call(t);
                if (a(h, t)) return "";
                var n = y ? e.slice(7, -1) : e.replace(g, "$1");
                return "" === n ? void 0 : n
            }
        }), r({
            global: !0,
            forced: !0
        }, {
            Symbol: f
        })
    }
}, function (t, e, n) {
    n(123)("iterator")
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(56).map,
        i = n(67),
        a = n(37),
        s = i("map"),
        u = a("map");
    r({
        target: "Array",
        proto: !0,
        forced: !s || !u
    }, {
        map: function (t) {
            return o(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(17),
        i = n(77),
        a = n(94),
        s = n(41),
        u = n(32),
        c = n(78),
        l = n(14),
        h = n(67),
        f = n(37),
        p = h("slice"),
        d = f("slice", {
            ACCESSORS: !0,
            0: 0,
            1: 2
        }),
        y = l("species"),
        g = [].slice,
        v = Math.max;
    r({
        target: "Array",
        proto: !0,
        forced: !p || !d
    }, {
        slice: function (t, e) {
            var n, r, l, h = u(this),
                f = s(h.length),
                p = a(t, f),
                d = a(void 0 === e ? f : e, f);
            if (i(h) && ("function" != typeof (n = h.constructor) || n !== Array && !i(n.prototype) ? o(n) && null === (n = n[y]) && (n = void 0) : n = void 0, n === Array || void 0 === n)) return g.call(h, p, d);
            for (r = new(void 0 === n ? Array : n)(v(d - p, 0)), l = 0; p < d; p++, l++) p in h && c(r, l, h[p]);
            return r.length = l, r
        }
    })
}, function (t, e, n) {
    (function (e) {
        var n = function (t) {
            return t && t.Math == Math && t
        };
        t.exports = n("object" == typeof globalThis && globalThis) || n("object" == typeof window && window) || n("object" == typeof self && self) || n("object" == typeof e && e) || Function("return this")()
    }).call(this, n(46))
}, function (t, e, n) {
    var r = n(13),
        o = n(92),
        i = n(22),
        a = n(74),
        s = n(97),
        u = n(120),
        c = o("wks"),
        l = r.Symbol,
        h = u ? l : l && l.withoutSetter || a;
    t.exports = function (t) {
        return i(c, t) || (s && i(l, t) ? c[t] = l[t] : c[t] = h("Symbol." + t)), c[t]
    }
}, function (t, e, n) {
    var r = n(1),
        o = n(195);
    r({
        target: "Array",
        stat: !0,
        forced: !n(101)((function (t) {
            Array.from(t)
        }))
    }, {
        from: o
    })
}, function (t, e, n) {
    var r = n(25),
        o = n(27).f,
        i = Function.prototype,
        a = i.toString,
        s = /^\s*function ([^ (]*)/;
    r && !("name" in i) && o(i, "name", {
        configurable: !0,
        get: function () {
            try {
                return a.call(this).match(s)[1]
            } catch (t) {
                return ""
            }
        }
    })
}, function (t, e) {
    t.exports = function (t) {
        return "object" == typeof t ? null !== t : "function" == typeof t
    }
}, function (t, e, n) {
    var r = n(1),
        o = n(8),
        i = n(36),
        a = n(81),
        s = n(131);
    r({
        target: "Object",
        stat: !0,
        forced: o((function () {
            a(1)
        })),
        sham: !s
    }, {
        getPrototypeOf: function (t) {
            return a(i(t))
        }
    })
}, function (t, e, n) {
    n(1)({
        target: "Object",
        stat: !0
    }, {
        setPrototypeOf: n(103)
    })
}, function (t, e, n) {
    var r = n(1),
        o = n(48),
        i = n(49),
        a = n(23),
        s = n(17),
        u = n(55),
        c = n(269),
        l = n(8),
        h = o("Reflect", "construct"),
        f = l((function () {
            function t() {}
            return !(h((function () {}), [], t) instanceof t)
        })),
        p = !l((function () {
            h((function () {}))
        })),
        d = f || p;
    r({
        target: "Reflect",
        stat: !0,
        forced: d,
        sham: d
    }, {
        construct: function (t, e) {
            i(t), a(e);
            var n = arguments.length < 3 ? t : i(arguments[2]);
            if (p && !f) return h(t, e, n);
            if (t == n) {
                switch (e.length) {
                    case 0:
                        return new t;
                    case 1:
                        return new t(e[0]);
                    case 2:
                        return new t(e[0], e[1]);
                    case 3:
                        return new t(e[0], e[1], e[2]);
                    case 4:
                        return new t(e[0], e[1], e[2], e[3])
                }
                var r = [null];
                return r.push.apply(r, e), new(c.apply(t, r))
            }
            var o = n.prototype,
                l = u(s(o) ? o : Object.prototype),
                d = Function.apply.call(t, l, e);
            return s(d) ? d : l
        }
    })
}, function (t, e, n) {
    "use strict";
    var r, o, i, a, s = n(1),
        u = n(62),
        c = n(13),
        l = n(48),
        h = n(204),
        f = n(35),
        p = n(137),
        d = n(65),
        y = n(138),
        g = n(17),
        v = n(49),
        m = n(105),
        _ = n(33),
        b = n(91),
        x = n(106),
        w = n(101),
        S = n(139),
        C = n(140).set,
        E = n(205),
        T = n(206),
        O = n(207),
        P = n(142),
        A = n(208),
        R = n(53),
        I = n(76),
        k = n(14),
        L = n(99),
        j = k("species"),
        M = "Promise",
        D = R.get,
        F = R.set,
        G = R.getterFor(M),
        N = h,
        z = c.TypeError,
        B = c.document,
        U = c.process,
        X = l("fetch"),
        W = P.f,
        V = W,
        H = "process" == _(U),
        Y = !!(B && B.createEvent && c.dispatchEvent),
        Z = I(M, (function () {
            if (b(N) === String(N)) {
                if (66 === L) return !0;
                if (!H && "function" != typeof PromiseRejectionEvent) return !0
            }
            if (u && !N.prototype.finally) return !0;
            if (L >= 51 && /native code/.test(N)) return !1;
            var t = N.resolve(1),
                e = function (t) {
                    t((function () {}), (function () {}))
                };
            return (t.constructor = {})[j] = e, !(t.then((function () {})) instanceof e)
        })),
        q = Z || !w((function (t) {
            N.all(t).catch((function () {}))
        })),
        K = function (t) {
            var e;
            return !(!g(t) || "function" != typeof (e = t.then)) && e
        },
        $ = function (t, e, n) {
            if (!e.notified) {
                e.notified = !0;
                var r = e.reactions;
                E((function () {
                    for (var o = e.value, i = 1 == e.state, a = 0; r.length > a;) {
                        var s, u, c, l = r[a++],
                            h = i ? l.ok : l.fail,
                            f = l.resolve,
                            p = l.reject,
                            d = l.domain;
                        try {
                            h ? (i || (2 === e.rejection && et(t, e), e.rejection = 1), !0 === h ? s = o : (d && d.enter(), s = h(o), d && (d.exit(), c = !0)), s === l.promise ? p(z("Promise-chain cycle")) : (u = K(s)) ? u.call(s, f, p) : f(s)) : p(o)
                        } catch (t) {
                            d && !c && d.exit(), p(t)
                        }
                    }
                    e.reactions = [], e.notified = !1, n && !e.rejection && Q(t, e)
                }))
            }
        },
        J = function (t, e, n) {
            var r, o;
            Y ? ((r = B.createEvent("Event")).promise = e, r.reason = n, r.initEvent(t, !1, !0), c.dispatchEvent(r)) : r = {
                promise: e,
                reason: n
            }, (o = c["on" + t]) ? o(r) : "unhandledrejection" === t && O("Unhandled promise rejection", n)
        },
        Q = function (t, e) {
            C.call(c, (function () {
                var n, r = e.value;
                if (tt(e) && (n = A((function () {
                        H ? U.emit("unhandledRejection", r, t) : J("unhandledrejection", t, r)
                    })), e.rejection = H || tt(e) ? 2 : 1, n.error)) throw n.value
            }))
        },
        tt = function (t) {
            return 1 !== t.rejection && !t.parent
        },
        et = function (t, e) {
            C.call(c, (function () {
                H ? U.emit("rejectionHandled", t) : J("rejectionhandled", t, e.value)
            }))
        },
        nt = function (t, e, n, r) {
            return function (o) {
                t(e, n, o, r)
            }
        },
        rt = function (t, e, n, r) {
            e.done || (e.done = !0, r && (e = r), e.value = n, e.state = 2, $(t, e, !0))
        },
        ot = function (t, e, n, r) {
            if (!e.done) {
                e.done = !0, r && (e = r);
                try {
                    if (t === n) throw z("Promise can't be resolved itself");
                    var o = K(n);
                    o ? E((function () {
                        var r = {
                            done: !1
                        };
                        try {
                            o.call(n, nt(ot, t, r, e), nt(rt, t, r, e))
                        } catch (n) {
                            rt(t, r, n, e)
                        }
                    })) : (e.value = n, e.state = 1, $(t, e, !1))
                } catch (n) {
                    rt(t, {
                        done: !1
                    }, n, e)
                }
            }
        };
    Z && (N = function (t) {
        m(this, N, M), v(t), r.call(this);
        var e = D(this);
        try {
            t(nt(ot, this, e), nt(rt, this, e))
        } catch (t) {
            rt(this, e, t)
        }
    }, (r = function (t) {
        F(this, {
            type: M,
            done: !1,
            notified: !1,
            parent: !1,
            reactions: [],
            rejection: !1,
            state: 0,
            value: void 0
        })
    }).prototype = p(N.prototype, {
        then: function (t, e) {
            var n = G(this),
                r = W(S(this, N));
            return r.ok = "function" != typeof t || t, r.fail = "function" == typeof e && e, r.domain = H ? U.domain : void 0, n.parent = !0, n.reactions.push(r), 0 != n.state && $(this, n, !1), r.promise
        },
        catch: function (t) {
            return this.then(void 0, t)
        }
    }), o = function () {
        var t = new r,
            e = D(t);
        this.promise = t, this.resolve = nt(ot, t, e), this.reject = nt(rt, t, e)
    }, P.f = W = function (t) {
        return t === N || t === i ? new o(t) : V(t)
    }, u || "function" != typeof h || (a = h.prototype.then, f(h.prototype, "then", (function (t, e) {
        var n = this;
        return new N((function (t, e) {
            a.call(n, t, e)
        })).then(t, e)
    }), {
        unsafe: !0
    }), "function" == typeof X && s({
        global: !0,
        enumerable: !0,
        forced: !0
    }, {
        fetch: function (t) {
            return T(N, X.apply(c, arguments))
        }
    }))), s({
        global: !0,
        wrap: !0,
        forced: Z
    }, {
        Promise: N
    }), d(N, M, !1, !0), y(M), i = l(M), s({
        target: M,
        stat: !0,
        forced: Z
    }, {
        reject: function (t) {
            var e = W(this);
            return e.reject.call(void 0, t), e.promise
        }
    }), s({
        target: M,
        stat: !0,
        forced: u || Z
    }, {
        resolve: function (t) {
            return T(u && this === i ? N : this, t)
        }
    }), s({
        target: M,
        stat: !0,
        forced: q
    }, {
        all: function (t) {
            var e = this,
                n = W(e),
                r = n.resolve,
                o = n.reject,
                i = A((function () {
                    var n = v(e.resolve),
                        i = [],
                        a = 0,
                        s = 1;
                    x(t, (function (t) {
                        var u = a++,
                            c = !1;
                        i.push(void 0), s++, n.call(e, t).then((function (t) {
                            c || (c = !0, i[u] = t, --s || r(i))
                        }), o)
                    })), --s || r(i)
                }));
            return i.error && o(i.value), n.promise
        },
        race: function (t) {
            var e = this,
                n = W(e),
                r = n.reject,
                o = A((function () {
                    var o = v(e.resolve);
                    x(t, (function (t) {
                        o.call(e, t).then(n.resolve, r)
                    }))
                }));
            return o.error && r(o.value), n.promise
        }
    })
}, function (t, e) {
    var n = {}.hasOwnProperty;
    t.exports = function (t, e) {
        return n.call(t, e)
    }
}, function (t, e, n) {
    var r = n(17);
    t.exports = function (t) {
        if (!r(t)) throw TypeError(String(t) + " is not an object");
        return t
    }
}, function (t, e, n) {
    var r = function (t) {
        "use strict";
        var e = Object.prototype,
            n = e.hasOwnProperty,
            r = "function" == typeof Symbol ? Symbol : {},
            o = r.iterator || "@@iterator",
            i = r.asyncIterator || "@@asyncIterator",
            a = r.toStringTag || "@@toStringTag";

        function s(t, e, n, r) {
            var o = e && e.prototype instanceof l ? e : l,
                i = Object.create(o.prototype),
                a = new w(r || []);
            return i._invoke = function (t, e, n) {
                var r = "suspendedStart";
                return function (o, i) {
                    if ("executing" === r) throw new Error("Generator is already running");
                    if ("completed" === r) {
                        if ("throw" === o) throw i;
                        return {
                            value: void 0,
                            done: !0
                        }
                    }
                    for (n.method = o, n.arg = i;;) {
                        var a = n.delegate;
                        if (a) {
                            var s = _(a, n);
                            if (s) {
                                if (s === c) continue;
                                return s
                            }
                        }
                        if ("next" === n.method) n.sent = n._sent = n.arg;
                        else if ("throw" === n.method) {
                            if ("suspendedStart" === r) throw r = "completed", n.arg;
                            n.dispatchException(n.arg)
                        } else "return" === n.method && n.abrupt("return", n.arg);
                        r = "executing";
                        var l = u(t, e, n);
                        if ("normal" === l.type) {
                            if (r = n.done ? "completed" : "suspendedYield", l.arg === c) continue;
                            return {
                                value: l.arg,
                                done: n.done
                            }
                        }
                        "throw" === l.type && (r = "completed", n.method = "throw", n.arg = l.arg)
                    }
                }
            }(t, n, a), i
        }

        function u(t, e, n) {
            try {
                return {
                    type: "normal",
                    arg: t.call(e, n)
                }
            } catch (t) {
                return {
                    type: "throw",
                    arg: t
                }
            }
        }
        t.wrap = s;
        var c = {};

        function l() {}

        function h() {}

        function f() {}
        var p = {};
        p[o] = function () {
            return this
        };
        var d = Object.getPrototypeOf,
            y = d && d(d(S([])));
        y && y !== e && n.call(y, o) && (p = y);
        var g = f.prototype = l.prototype = Object.create(p);

        function v(t) {
            ["next", "throw", "return"].forEach((function (e) {
                t[e] = function (t) {
                    return this._invoke(e, t)
                }
            }))
        }

        function m(t, e) {
            var r;
            this._invoke = function (o, i) {
                function a() {
                    return new e((function (r, a) {
                        ! function r(o, i, a, s) {
                            var c = u(t[o], t, i);
                            if ("throw" !== c.type) {
                                var l = c.arg,
                                    h = l.value;
                                return h && "object" == typeof h && n.call(h, "__await") ? e.resolve(h.__await).then((function (t) {
                                    r("next", t, a, s)
                                }), (function (t) {
                                    r("throw", t, a, s)
                                })) : e.resolve(h).then((function (t) {
                                    l.value = t, a(l)
                                }), (function (t) {
                                    return r("throw", t, a, s)
                                }))
                            }
                            s(c.arg)
                        }(o, i, r, a)
                    }))
                }
                return r = r ? r.then(a, a) : a()
            }
        }

        function _(t, e) {
            var n = t.iterator[e.method];
            if (void 0 === n) {
                if (e.delegate = null, "throw" === e.method) {
                    if (t.iterator.return && (e.method = "return", e.arg = void 0, _(t, e), "throw" === e.method)) return c;
                    e.method = "throw", e.arg = new TypeError("The iterator does not provide a 'throw' method")
                }
                return c
            }
            var r = u(n, t.iterator, e.arg);
            if ("throw" === r.type) return e.method = "throw", e.arg = r.arg, e.delegate = null, c;
            var o = r.arg;
            return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", e.arg = void 0), e.delegate = null, c) : o : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, c)
        }

        function b(t) {
            var e = {
                tryLoc: t[0]
            };
            1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e)
        }

        function x(t) {
            var e = t.completion || {};
            e.type = "normal", delete e.arg, t.completion = e
        }

        function w(t) {
            this.tryEntries = [{
                tryLoc: "root"
            }], t.forEach(b, this), this.reset(!0)
        }

        function S(t) {
            if (t) {
                var e = t[o];
                if (e) return e.call(t);
                if ("function" == typeof t.next) return t;
                if (!isNaN(t.length)) {
                    var r = -1,
                        i = function e() {
                            for (; ++r < t.length;)
                                if (n.call(t, r)) return e.value = t[r], e.done = !1, e;
                            return e.value = void 0, e.done = !0, e
                        };
                    return i.next = i
                }
            }
            return {
                next: C
            }
        }

        function C() {
            return {
                value: void 0,
                done: !0
            }
        }
        return h.prototype = g.constructor = f, f.constructor = h, f[a] = h.displayName = "GeneratorFunction", t.isGeneratorFunction = function (t) {
            var e = "function" == typeof t && t.constructor;
            return !!e && (e === h || "GeneratorFunction" === (e.displayName || e.name))
        }, t.mark = function (t) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t, f) : (t.__proto__ = f, a in t || (t[a] = "GeneratorFunction")), t.prototype = Object.create(g), t
        }, t.awrap = function (t) {
            return {
                __await: t
            }
        }, v(m.prototype), m.prototype[i] = function () {
            return this
        }, t.AsyncIterator = m, t.async = function (e, n, r, o, i) {
            void 0 === i && (i = Promise);
            var a = new m(s(e, n, r, o), i);
            return t.isGeneratorFunction(n) ? a : a.next().then((function (t) {
                return t.done ? t.value : a.next()
            }))
        }, v(g), g[a] = "Generator", g[o] = function () {
            return this
        }, g.toString = function () {
            return "[object Generator]"
        }, t.keys = function (t) {
            var e = [];
            for (var n in t) e.push(n);
            return e.reverse(),
                function n() {
                    for (; e.length;) {
                        var r = e.pop();
                        if (r in t) return n.value = r, n.done = !1, n
                    }
                    return n.done = !0, n
                }
        }, t.values = S, w.prototype = {
            constructor: w,
            reset: function (t) {
                if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(x), !t)
                    for (var e in this) "t" === e.charAt(0) && n.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = void 0)
            },
            stop: function () {
                this.done = !0;
                var t = this.tryEntries[0].completion;
                if ("throw" === t.type) throw t.arg;
                return this.rval
            },
            dispatchException: function (t) {
                if (this.done) throw t;
                var e = this;

                function r(n, r) {
                    return a.type = "throw", a.arg = t, e.next = n, r && (e.method = "next", e.arg = void 0), !!r
                }
                for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                    var i = this.tryEntries[o],
                        a = i.completion;
                    if ("root" === i.tryLoc) return r("end");
                    if (i.tryLoc <= this.prev) {
                        var s = n.call(i, "catchLoc"),
                            u = n.call(i, "finallyLoc");
                        if (s && u) {
                            if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                            if (this.prev < i.finallyLoc) return r(i.finallyLoc)
                        } else if (s) {
                            if (this.prev < i.catchLoc) return r(i.catchLoc, !0)
                        } else {
                            if (!u) throw new Error("try statement without catch or finally");
                            if (this.prev < i.finallyLoc) return r(i.finallyLoc)
                        }
                    }
                }
            },
            abrupt: function (t, e) {
                for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                    var o = this.tryEntries[r];
                    if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                        var i = o;
                        break
                    }
                }
                i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
                var a = i ? i.completion : {};
                return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, c) : this.complete(a)
            },
            complete: function (t, e) {
                if ("throw" === t.type) throw t.arg;
                return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), c
            },
            finish: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), x(n), c
                }
            },
            catch: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.tryLoc === t) {
                        var r = n.completion;
                        if ("throw" === r.type) {
                            var o = r.arg;
                            x(n)
                        }
                        return o
                    }
                }
                throw new Error("illegal catch attempt")
            },
            delegateYield: function (t, e, n) {
                return this.delegate = {
                    iterator: S(t),
                    resultName: e,
                    nextLoc: n
                }, "next" === this.method && (this.arg = void 0), c
            }
        }, t
    }(t.exports);
    try {
        regeneratorRuntime = r
    } catch (t) {
        Function("r", "regeneratorRuntime = r")(r)
    }
}, function (t, e, n) {
    var r = n(8);
    t.exports = !r((function () {
        return 7 != Object.defineProperty({}, 1, {
            get: function () {
                return 7
            }
        })[1]
    }))
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(8),
        i = n(77),
        a = n(17),
        s = n(36),
        u = n(41),
        c = n(78),
        l = n(98),
        h = n(67),
        f = n(14),
        p = n(99),
        d = f("isConcatSpreadable"),
        y = p >= 51 || !o((function () {
            var t = [];
            return t[d] = !1, t.concat()[0] !== t
        })),
        g = h("concat"),
        v = function (t) {
            if (!a(t)) return !1;
            var e = t[d];
            return void 0 !== e ? !!e : i(t)
        };
    r({
        target: "Array",
        proto: !0,
        forced: !y || !g
    }, {
        concat: function (t) {
            var e, n, r, o, i, a = s(this),
                h = l(a, 0),
                f = 0;
            for (e = -1, r = arguments.length; e < r; e++)
                if (i = -1 === e ? a : arguments[e], v(i)) {
                    if (f + (o = u(i.length)) > 9007199254740991) throw TypeError("Maximum allowed index exceeded");
                    for (n = 0; n < o; n++, f++) n in i && c(h, f, i[n])
                } else {
                    if (f >= 9007199254740991) throw TypeError("Maximum allowed index exceeded");
                    c(h, f++, i)
                } return h.length = f, h
        }
    })
}, function (t, e, n) {
    var r = n(25),
        o = n(115),
        i = n(23),
        a = n(61),
        s = Object.defineProperty;
    e.f = r ? s : function (t, e, n) {
        if (i(t), e = a(e, !0), i(n), o) try {
            return s(t, e, n)
        } catch (t) {}
        if ("get" in n || "set" in n) throw TypeError("Accessors not supported");
        return "value" in n && (t[e] = n.value), t
    }
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(125);
    r({
        target: "Array",
        proto: !0,
        forced: [].forEach != o
    }, {
        forEach: o
    })
}, function (t, e, n) {
    var r = n(13),
        o = n(148),
        i = n(125),
        a = n(34);
    for (var s in o) {
        var u = r[s],
            c = u && u.prototype;
        if (c && c.forEach !== i) try {
            a(c, "forEach", i)
        } catch (t) {
            c.forEach = i
        }
    }
}, function (t, e, n) {
    "use strict";
    var r, o, i, a, s, u, c, l = n(254),
        h = n(268),
        f = Function.prototype.apply,
        p = Function.prototype.call,
        d = Object.create,
        y = Object.defineProperty,
        g = Object.defineProperties,
        v = Object.prototype.hasOwnProperty,
        m = {
            configurable: !0,
            enumerable: !1,
            writable: !0
        };
    o = function (t, e) {
        var n, o;
        return h(e), o = this, r.call(this, t, n = function () {
            i.call(o, t, n), f.call(e, this, arguments)
        }), n.__eeOnceListener__ = e, this
    }, s = {
        on: r = function (t, e) {
            var n;
            return h(e), v.call(this, "__ee__") ? n = this.__ee__ : (n = m.value = d(null), y(this, "__ee__", m), m.value = null), n[t] ? "object" == typeof n[t] ? n[t].push(e) : n[t] = [n[t], e] : n[t] = e, this
        },
        once: o,
        off: i = function (t, e) {
            var n, r, o, i;
            if (h(e), !v.call(this, "__ee__")) return this;
            if (!(n = this.__ee__)[t]) return this;
            if ("object" == typeof (r = n[t]))
                for (i = 0; o = r[i]; ++i) o !== e && o.__eeOnceListener__ !== e || (2 === r.length ? n[t] = r[i ? 0 : 1] : r.splice(i, 1));
            else r !== e && r.__eeOnceListener__ !== e || delete n[t];
            return this
        },
        emit: a = function (t) {
            var e, n, r, o, i;
            if (v.call(this, "__ee__") && (o = this.__ee__[t]))
                if ("object" == typeof o) {
                    for (n = arguments.length, i = new Array(n - 1), e = 1; e < n; ++e) i[e - 1] = arguments[e];
                    for (o = o.slice(), e = 0; r = o[e]; ++e) f.call(r, this, i)
                } else switch (arguments.length) {
                    case 1:
                        p.call(o, this);
                        break;
                    case 2:
                        p.call(o, this, arguments[1]);
                        break;
                    case 3:
                        p.call(o, this, arguments[1], arguments[2]);
                        break;
                    default:
                        for (n = arguments.length, i = new Array(n - 1), e = 1; e < n; ++e) i[e - 1] = arguments[e];
                        f.call(o, this, i)
                }
        }
    }, u = {
        on: l(r),
        once: l(o),
        off: l(i),
        emit: l(a)
    }, c = g({}, u), t.exports = e = function (t) {
        return null == t ? d(c) : g(Object(t), u)
    }, e.methods = s
}, function (t, e, n) {
    var r = n(1),
        o = n(136).entries;
    r({
        target: "Object",
        stat: !0
    }, {
        entries: function (t) {
            return o(t)
        }
    })
}, function (t, e, n) {
    var r = n(60),
        o = n(45);
    t.exports = function (t) {
        return r(o(t))
    }
}, function (t, e) {
    var n = {}.toString;
    t.exports = function (t) {
        return n.call(t).slice(8, -1)
    }
}, function (t, e, n) {
    var r = n(25),
        o = n(27),
        i = n(59);
    t.exports = r ? function (t, e, n) {
        return o.f(t, e, i(1, n))
    } : function (t, e, n) {
        return t[e] = n, t
    }
}, function (t, e, n) {
    var r = n(13),
        o = n(34),
        i = n(22),
        a = n(90),
        s = n(91),
        u = n(53),
        c = u.get,
        l = u.enforce,
        h = String(String).split("String");
    (t.exports = function (t, e, n, s) {
        var u = !!s && !!s.unsafe,
            c = !!s && !!s.enumerable,
            f = !!s && !!s.noTargetGet;
        "function" == typeof n && ("string" != typeof e || i(n, "name") || o(n, "name", e), l(n).source = h.join("string" == typeof e ? e : "")), t !== r ? (u ? !f && t[e] && (c = !0) : delete t[e], c ? t[e] = n : o(t, e, n)) : c ? t[e] = n : a(e, n)
    })(Function.prototype, "toString", (function () {
        return "function" == typeof this && c(this).source || s(this)
    }))
}, function (t, e, n) {
    var r = n(45);
    t.exports = function (t) {
        return Object(r(t))
    }
}, function (t, e, n) {
    var r = n(25),
        o = n(8),
        i = n(22),
        a = Object.defineProperty,
        s = {},
        u = function (t) {
            throw t
        };
    t.exports = function (t, e) {
        if (i(s, t)) return s[t];
        e || (e = {});
        var n = [][t],
            c = !!i(e, "ACCESSORS") && e.ACCESSORS,
            l = i(e, 0) ? e[0] : u,
            h = i(e, 1) ? e[1] : void 0;
        return s[t] = !!n && !o((function () {
            if (c && !r) return !0;
            var t = {
                length: -1
            };
            c ? a(t, 1, {
                enumerable: !0,
                get: u
            }) : t[1] = 1, n.call(t, l, h)
        }))
    }
}, function (t, e, n) {
    var r = n(1),
        o = n(8),
        i = n(32),
        a = n(47).f,
        s = n(25),
        u = o((function () {
            a(1)
        }));
    r({
        target: "Object",
        stat: !0,
        forced: !s || u,
        sham: !s
    }, {
        getOwnPropertyDescriptor: function (t, e) {
            return a(i(t), e)
        }
    })
}, function (t, e, n) {
    var r = n(1),
        o = n(17),
        i = n(23),
        a = n(22),
        s = n(47),
        u = n(81);
    r({
        target: "Reflect",
        stat: !0
    }, {
        get: function t(e, n) {
            var r, c, l = arguments.length < 3 ? e : arguments[2];
            return i(e) === l ? e[n] : (r = s.f(e, n)) ? a(r, "value") ? r.value : void 0 === r.get ? void 0 : r.get.call(l) : o(c = u(e)) ? t(c, n, l) : void 0
        }
    })
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0, e.extend = s, e.indexOf = function (t, e) {
        for (var n = 0, r = t.length; n < r; n++)
            if (t[n] === e) return n;
        return -1
    }, e.escapeExpression = function (t) {
        if ("string" != typeof t) {
            if (t && t.toHTML) return t.toHTML();
            if (null == t) return "";
            if (!t) return t + "";
            t = "" + t
        }
        return i.test(t) ? t.replace(o, a) : t
    }, e.isEmpty = function (t) {
        return !t && 0 !== t || !(!l(t) || 0 !== t.length)
    }, e.createFrame = function (t) {
        var e = s({}, t);
        return e._parent = t, e
    }, e.blockParams = function (t, e) {
        return t.path = e, t
    }, e.appendContextPath = function (t, e) {
        return (t ? t + "." : "") + e
    };
    var r = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;",
            "`": "&#x60;",
            "=": "&#x3D;"
        },
        o = /[&<>"'`=]/g,
        i = /[&<>"'`=]/;

    function a(t) {
        return r[t]
    }

    function s(t) {
        for (var e = 1; e < arguments.length; e++)
            for (var n in arguments[e]) Object.prototype.hasOwnProperty.call(arguments[e], n) && (t[n] = arguments[e][n]);
        return t
    }
    var u = Object.prototype.toString;
    e.toString = u;
    var c = function (t) {
        return "function" == typeof t
    };
    c(/x/) && (e.isFunction = c = function (t) {
        return "function" == typeof t && "[object Function]" === u.call(t)
    }), e.isFunction = c;
    var l = Array.isArray || function (t) {
        return !(!t || "object" != typeof t) && "[object Array]" === u.call(t)
    };
    e.isArray = l
}, function (t, e, n) {
    var r = n(54),
        o = Math.min;
    t.exports = function (t) {
        return t > 0 ? o(r(t), 9007199254740991) : 0
    }
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(56).filter,
        i = n(67),
        a = n(37),
        s = i("filter"),
        u = a("filter");
    r({
        target: "Array",
        proto: !0,
        forced: !s || !u
    }, {
        filter: function (t) {
            return o(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}, function (t, e, n) {
    "use strict";
    var r = n(157),
        o = n(159);
    t.exports = r("Map", (function (t) {
        return function () {
            return t(this, arguments.length ? arguments[0] : void 0)
        }
    }), o)
}, function (t, e, n) {
    t.exports = n(276).default
}, function (t, e) {
    t.exports = function (t) {
        if (null == t) throw TypeError("Can't call method on " + t);
        return t
    }
}, function (t, e) {
    var n;
    n = function () {
        return this
    }();
    try {
        n = n || new Function("return this")()
    } catch (t) {
        "object" == typeof window && (n = window)
    }
    t.exports = n
}, function (t, e, n) {
    var r = n(25),
        o = n(72),
        i = n(59),
        a = n(32),
        s = n(61),
        u = n(22),
        c = n(115),
        l = Object.getOwnPropertyDescriptor;
    e.f = r ? l : function (t, e) {
        if (t = a(t), e = s(e, !0), c) try {
            return l(t, e)
        } catch (t) {}
        if (u(t, e)) return i(!o.f.call(t, e), t[e])
    }
}, function (t, e, n) {
    var r = n(118),
        o = n(13),
        i = function (t) {
            return "function" == typeof t ? t : void 0
        };
    t.exports = function (t, e) {
        return arguments.length < 2 ? i(r[t]) || i(o[t]) : r[t] && r[t][e] || o[t] && o[t][e]
    }
}, function (t, e) {
    t.exports = function (t) {
        if ("function" != typeof t) throw TypeError(String(t) + " is not a function");
        return t
    }
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(93).includes,
        i = n(79);
    r({
        target: "Array",
        proto: !0,
        forced: !n(37)("indexOf", {
            ACCESSORS: !0,
            1: 0
        })
    }, {
        includes: function (t) {
            return o(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }), i("includes")
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(210),
        i = n(45);
    r({
        target: "String",
        proto: !0,
        forced: !n(211)("includes")
    }, {
        includes: function (t) {
            return !!~String(i(this)).indexOf(o(t), arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = ["description", "fileName", "lineNumber", "endLineNumber", "message", "name", "number", "stack"];

    function o(t, e) {
        var n = e && e.loc,
            i = void 0,
            a = void 0,
            s = void 0,
            u = void 0;
        n && (i = n.start.line, a = n.end.line, s = n.start.column, u = n.end.column, t += " - " + i + ":" + s);
        for (var c = Error.prototype.constructor.call(this, t), l = 0; l < r.length; l++) this[r[l]] = c[r[l]];
        Error.captureStackTrace && Error.captureStackTrace(this, o);
        try {
            n && (this.lineNumber = i, this.endLineNumber = a, Object.defineProperty ? (Object.defineProperty(this, "column", {
                value: s,
                enumerable: !0
            }), Object.defineProperty(this, "endColumn", {
                value: u,
                enumerable: !0
            })) : (this.column = s, this.endColumn = u))
        } catch (t) {}
    }
    o.prototype = new Error, e.default = o, t.exports = e.default
}, function (t, e, n) {
    var r, o, i, a = n(191),
        s = n(13),
        u = n(17),
        c = n(34),
        l = n(22),
        h = n(73),
        f = n(63),
        p = s.WeakMap;
    if (a) {
        var d = new p,
            y = d.get,
            g = d.has,
            v = d.set;
        r = function (t, e) {
            return v.call(d, t, e), e
        }, o = function (t) {
            return y.call(d, t) || {}
        }, i = function (t) {
            return g.call(d, t)
        }
    } else {
        var m = h("state");
        f[m] = !0, r = function (t, e) {
            return c(t, m, e), e
        }, o = function (t) {
            return l(t, m) ? t[m] : {}
        }, i = function (t) {
            return l(t, m)
        }
    }
    t.exports = {
        set: r,
        get: o,
        has: i,
        enforce: function (t) {
            return i(t) ? o(t) : r(t, {})
        },
        getterFor: function (t) {
            return function (e) {
                var n;
                if (!u(e) || (n = o(e)).type !== t) throw TypeError("Incompatible receiver, " + t + " required");
                return n
            }
        }
    }
}, function (t, e) {
    var n = Math.ceil,
        r = Math.floor;
    t.exports = function (t) {
        return isNaN(t = +t) ? 0 : (t > 0 ? r : n)(t)
    }
}, function (t, e, n) {
    var r, o = n(23),
        i = n(193),
        a = n(95),
        s = n(63),
        u = n(121),
        c = n(89),
        l = n(73)("IE_PROTO"),
        h = function () {},
        f = function (t) {
            return "<script>" + t + "<\/script>"
        },
        p = function () {
            try {
                r = document.domain && new ActiveXObject("htmlfile")
            } catch (t) {}
            var t, e;
            p = r ? function (t) {
                t.write(f("")), t.close();
                var e = t.parentWindow.Object;
                return t = null, e
            }(r) : ((e = c("iframe")).style.display = "none", u.appendChild(e), e.src = String("javascript:"), (t = e.contentWindow.document).open(), t.write(f("document.F=Object")), t.close(), t.F);
            for (var n = a.length; n--;) delete p.prototype[a[n]];
            return p()
        };
    s[l] = !0, t.exports = Object.create || function (t, e) {
        var n;
        return null !== t ? (h.prototype = o(t), n = new h, h.prototype = null, n[l] = t) : n = p(), void 0 === e ? n : i(n, e)
    }
}, function (t, e, n) {
    var r = n(66),
        o = n(60),
        i = n(36),
        a = n(41),
        s = n(98),
        u = [].push,
        c = function (t) {
            var e = 1 == t,
                n = 2 == t,
                c = 3 == t,
                l = 4 == t,
                h = 6 == t,
                f = 5 == t || h;
            return function (p, d, y, g) {
                for (var v, m, _ = i(p), b = o(_), x = r(d, y, 3), w = a(b.length), S = 0, C = g || s, E = e ? C(p, w) : n ? C(p, 0) : void 0; w > S; S++)
                    if ((f || S in b) && (m = x(v = b[S], S, _), t))
                        if (e) E[S] = m;
                        else if (m) switch (t) {
                    case 3:
                        return !0;
                    case 5:
                        return v;
                    case 6:
                        return S;
                    case 2:
                        u.call(E, v)
                } else if (l) return !1;
                return h ? -1 : c || l ? l : E
            }
        };
    t.exports = {
        forEach: c(0),
        map: c(1),
        filter: c(2),
        some: c(3),
        every: c(4),
        find: c(5),
        findIndex: c(6)
    }
}, function (t, e, n) {
    var r = n(236),
        o = n(110);
    t.exports = function (t, e, n) {
        var i = !0,
            a = !0;
        if ("function" != typeof t) throw new TypeError("Expected a function");
        return o(n) && (i = "leading" in n ? !!n.leading : i, a = "trailing" in n ? !!n.trailing : a), r(t, e, {
            leading: i,
            maxWait: e,
            trailing: a
        })
    }
}, function (t, e, n) {
    var r = n(295),
        o = n(298),
        i = Object.prototype.hasOwnProperty,
        a = o((function (t, e, n) {
            i.call(t, n) ? t[n].push(e) : r(t, n, [e])
        }));
    t.exports = a
}, function (t, e) {
    t.exports = function (t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}, function (t, e, n) {
    var r = n(8),
        o = n(33),
        i = "".split;
    t.exports = r((function () {
        return !Object("z").propertyIsEnumerable(0)
    })) ? function (t) {
        return "String" == o(t) ? i.call(t, "") : Object(t)
    } : Object
}, function (t, e, n) {
    var r = n(17);
    t.exports = function (t, e) {
        if (!r(t)) return t;
        var n, o;
        if (e && "function" == typeof (n = t.toString) && !r(o = n.call(t))) return o;
        if ("function" == typeof (n = t.valueOf) && !r(o = n.call(t))) return o;
        if (!e && "function" == typeof (n = t.toString) && !r(o = n.call(t))) return o;
        throw TypeError("Can't convert object to primitive value")
    }
}, function (t, e) {
    t.exports = !1
}, function (t, e) {
    t.exports = {}
}, function (t, e, n) {
    var r = n(119),
        o = n(95);
    t.exports = Object.keys || function (t) {
        return r(t, o)
    }
}, function (t, e, n) {
    var r = n(27).f,
        o = n(22),
        i = n(14)("toStringTag");
    t.exports = function (t, e, n) {
        t && !o(t = n ? t : t.prototype, i) && r(t, i, {
            configurable: !0,
            value: e
        })
    }
}, function (t, e, n) {
    var r = n(49);
    t.exports = function (t, e, n) {
        if (r(t), void 0 === e) return t;
        switch (n) {
            case 0:
                return function () {
                    return t.call(e)
                };
            case 1:
                return function (n) {
                    return t.call(e, n)
                };
            case 2:
                return function (n, r) {
                    return t.call(e, n, r)
                };
            case 3:
                return function (n, r, o) {
                    return t.call(e, n, r, o)
                }
        }
        return function () {
            return t.apply(e, arguments)
        }
    }
}, function (t, e, n) {
    var r = n(8),
        o = n(14),
        i = n(99),
        a = o("species");
    t.exports = function (t) {
        return i >= 51 || !r((function () {
            var e = [];
            return (e.constructor = {})[a] = function () {
                return {
                    foo: 1
                }
            }, 1 !== e[t](Boolean).foo
        }))
    }
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(56).find,
        i = n(79),
        a = n(37),
        s = !0,
        u = a("find");
    "find" in [] && Array(1).find((function () {
        s = !1
    })), r({
        target: "Array",
        proto: !0,
        forced: s || !u
    }, {
        find: function (t) {
            return o(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }), i("find")
}, function (t, e) {
    t.exports = {}
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(93).indexOf,
        i = n(80),
        a = n(37),
        s = [].indexOf,
        u = !!s && 1 / [1].indexOf(1, -0) < 0,
        c = i("indexOf"),
        l = a("indexOf", {
            ACCESSORS: !0,
            1: 0
        });
    r({
        target: "Array",
        proto: !0,
        forced: u || !c || !l
    }, {
        indexOf: function (t) {
            return u ? s.apply(this, arguments) || 0 : o(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}, function (t, e, n) {
    var r = n(241),
        o = n(242),
        i = n(155),
        a = n(251),
        s = i((function (t, e) {
            if (null == t) return [];
            var n = e.length;
            return n > 1 && a(t, e[0], e[1]) ? e = [] : n > 2 && a(e[0], e[1], e[2]) && (e = [e[0]]), o(t, r(e, 1), [])
        }));
    t.exports = s
}, function (t, e, n) {
    "use strict";
    var r = {}.propertyIsEnumerable,
        o = Object.getOwnPropertyDescriptor,
        i = o && !r.call({
            1: 2
        }, 1);
    e.f = i ? function (t) {
        var e = o(this, t);
        return !!e && e.enumerable
    } : r
}, function (t, e, n) {
    var r = n(92),
        o = n(74),
        i = r("keys");
    t.exports = function (t) {
        return i[t] || (i[t] = o(t))
    }
}, function (t, e) {
    var n = 0,
        r = Math.random();
    t.exports = function (t) {
        return "Symbol(" + String(void 0 === t ? "" : t) + ")_" + (++n + r).toString(36)
    }
}, function (t, e, n) {
    var r = n(119),
        o = n(95).concat("length", "prototype");
    e.f = Object.getOwnPropertyNames || function (t) {
        return r(t, o)
    }
}, function (t, e, n) {
    var r = n(8),
        o = /#|\.prototype\./,
        i = function (t, e) {
            var n = s[a(t)];
            return n == c || n != u && ("function" == typeof e ? r(e) : !!e)
        },
        a = i.normalize = function (t) {
            return String(t).replace(o, ".").toLowerCase()
        },
        s = i.data = {},
        u = i.NATIVE = "N",
        c = i.POLYFILL = "P";
    t.exports = i
}, function (t, e, n) {
    var r = n(33);
    t.exports = Array.isArray || function (t) {
        return "Array" == r(t)
    }
}, function (t, e, n) {
    "use strict";
    var r = n(61),
        o = n(27),
        i = n(59);
    t.exports = function (t, e, n) {
        var a = r(e);
        a in t ? o.f(t, a, i(0, n)) : t[a] = n
    }
}, function (t, e, n) {
    var r = n(14),
        o = n(55),
        i = n(27),
        a = r("unscopables"),
        s = Array.prototype;
    null == s[a] && i.f(s, a, {
        configurable: !0,
        value: o(null)
    }), t.exports = function (t) {
        s[a][t] = !0
    }
}, function (t, e, n) {
    "use strict";
    var r = n(8);
    t.exports = function (t, e) {
        var n = [][t];
        return !!n && r((function () {
            n.call(null, e || function () {
                throw 1
            }, 1)
        }))
    }
}, function (t, e, n) {
    var r = n(22),
        o = n(36),
        i = n(73),
        a = n(131),
        s = i("IE_PROTO"),
        u = Object.prototype;
    t.exports = a ? Object.getPrototypeOf : function (t) {
        return t = o(t), r(t, s) ? t[s] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? u : null
    }
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(199).left,
        i = n(80),
        a = n(37),
        s = i("reduce"),
        u = a("reduce", {
            1: 0
        });
    r({
        target: "Array",
        proto: !0,
        forced: !s || !u
    }, {
        reduce: function (t) {
            return o(this, t, arguments.length, arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(54),
        i = n(200),
        a = n(201),
        s = n(8),
        u = 1..toFixed,
        c = Math.floor,
        l = function (t, e, n) {
            return 0 === e ? n : e % 2 == 1 ? l(t, e - 1, n * t) : l(t * t, e / 2, n)
        };
    r({
        target: "Number",
        proto: !0,
        forced: u && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !s((function () {
            u.call({})
        }))
    }, {
        toFixed: function (t) {
            var e, n, r, s, u = i(this),
                h = o(t),
                f = [0, 0, 0, 0, 0, 0],
                p = "",
                d = "0",
                y = function (t, e) {
                    for (var n = -1, r = e; ++n < 6;) r += t * f[n], f[n] = r % 1e7, r = c(r / 1e7)
                },
                g = function (t) {
                    for (var e = 6, n = 0; --e >= 0;) n += f[e], f[e] = c(n / t), n = n % t * 1e7
                },
                v = function () {
                    for (var t = 6, e = ""; --t >= 0;)
                        if ("" !== e || 0 === t || 0 !== f[t]) {
                            var n = String(f[t]);
                            e = "" === e ? n : e + a.call("0", 7 - n.length) + n
                        } return e
                };
            if (h < 0 || h > 20) throw RangeError("Incorrect fraction digits");
            if (u != u) return "NaN";
            if (u <= -1e21 || u >= 1e21) return String(u);
            if (u < 0 && (p = "-", u = -u), u > 1e-21)
                if (n = (e = function (t) {
                        for (var e = 0, n = t; n >= 4096;) e += 12, n /= 4096;
                        for (; n >= 2;) e += 1, n /= 2;
                        return e
                    }(u * l(2, 69, 1)) - 69) < 0 ? u * l(2, -e, 1) : u / l(2, e, 1), n *= 4503599627370496, (e = 52 - e) > 0) {
                    for (y(0, n), r = h; r >= 7;) y(1e7, 0), r -= 7;
                    for (y(l(10, r, 1), 0), r = e - 1; r >= 23;) g(1 << 23), r -= 23;
                    g(1 << r), y(1, 1), g(2), d = v()
                } else y(0, n), y(1 << -e, 0), d = v() + a.call("0", h);
            return h > 0 ? p + ((s = d.length) <= h ? "0." + a.call("0", h - s) + d : d.slice(0, s - h) + "." + d.slice(s - h)) : p + d
        }
    })
}, function (t, e, n) {
    var r = n(1),
        o = n(202);
    r({
        target: "Object",
        stat: !0,
        forced: Object.assign !== o
    }, {
        assign: o
    })
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(86);
    r({
        target: "RegExp",
        proto: !0,
        forced: /./.exec !== o
    }, {
        exec: o
    })
}, function (t, e, n) {
    "use strict";
    var r, o, i = n(143),
        a = n(209),
        s = RegExp.prototype.exec,
        u = String.prototype.replace,
        c = s,
        l = (r = /a/, o = /b*/g, s.call(r, "a"), s.call(o, "a"), 0 !== r.lastIndex || 0 !== o.lastIndex),
        h = a.UNSUPPORTED_Y || a.BROKEN_CARET,
        f = void 0 !== /()??/.exec("")[1];
    (l || f || h) && (c = function (t) {
        var e, n, r, o, a = this,
            c = h && a.sticky,
            p = i.call(a),
            d = a.source,
            y = 0,
            g = t;
        return c && (-1 === (p = p.replace("y", "")).indexOf("g") && (p += "g"), g = String(t).slice(a.lastIndex), a.lastIndex > 0 && (!a.multiline || a.multiline && "\n" !== t[a.lastIndex - 1]) && (d = "(?: " + d + ")", g = " " + g, y++), n = new RegExp("^(?:" + d + ")", p)), f && (n = new RegExp("^" + d + "$(?!\\s)", p)), l && (e = a.lastIndex), r = s.call(c ? n : a, g), c ? r ? (r.input = r.input.slice(y), r[0] = r[0].slice(y), r.index = a.lastIndex, a.lastIndex += r[0].length) : a.lastIndex = 0 : l && r && (a.lastIndex = a.global ? r.index + r[0].length : e), f && r && r.length > 1 && u.call(r[0], n, (function () {
            for (o = 1; o < arguments.length - 2; o++) void 0 === arguments[o] && (r[o] = void 0)
        })), r
    }), t.exports = c
}, function (t, e, n) {
    var r = n(223);
    t.exports = function (t, e) {
        for (var n = t.length; n--;)
            if (r(t[n][0], e)) return n;
        return -1
    }
}, function (t, e, n) {
    t.exports = function () {
        "use strict";

        function t(t, r, o, i, a) {
            ! function t(n, r, o, i, a) {
                for (; i > o;) {
                    if (i - o > 600) {
                        var s = i - o + 1,
                            u = r - o + 1,
                            c = Math.log(s),
                            l = .5 * Math.exp(2 * c / 3),
                            h = .5 * Math.sqrt(c * l * (s - l) / s) * (u - s / 2 < 0 ? -1 : 1);
                        t(n, r, Math.max(o, Math.floor(r - u * l / s + h)), Math.min(i, Math.floor(r + (s - u) * l / s + h)), a)
                    }
                    var f = n[r],
                        p = o,
                        d = i;
                    for (e(n, o, r), a(n[i], f) > 0 && e(n, o, i); p < d;) {
                        for (e(n, p, d), p++, d--; a(n[p], f) < 0;) p++;
                        for (; a(n[d], f) > 0;) d--
                    }
                    0 === a(n[o], f) ? e(n, o, d) : e(n, ++d, i), d <= r && (o = d + 1), r <= d && (i = d - 1)
                }
            }(t, r, o || 0, i || t.length - 1, a || n)
        }

        function e(t, e, n) {
            var r = t[e];
            t[e] = t[n], t[n] = r
        }

        function n(t, e) {
            return t < e ? -1 : t > e ? 1 : 0
        }
        var r = function (t) {
            void 0 === t && (t = 9), this._maxEntries = Math.max(4, t), this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)), this.clear()
        };

        function o(t, e, n) {
            if (!n) return e.indexOf(t);
            for (var r = 0; r < e.length; r++)
                if (n(t, e[r])) return r;
            return -1
        }

        function i(t, e) {
            a(t, 0, t.children.length, e, t)
        }

        function a(t, e, n, r, o) {
            o || (o = d(null)), o.minX = 1 / 0, o.minY = 1 / 0, o.maxX = -1 / 0, o.maxY = -1 / 0;
            for (var i = e; i < n; i++) {
                var a = t.children[i];
                s(o, t.leaf ? r(a) : a)
            }
            return o
        }

        function s(t, e) {
            return t.minX = Math.min(t.minX, e.minX), t.minY = Math.min(t.minY, e.minY), t.maxX = Math.max(t.maxX, e.maxX), t.maxY = Math.max(t.maxY, e.maxY), t
        }

        function u(t, e) {
            return t.minX - e.minX
        }

        function c(t, e) {
            return t.minY - e.minY
        }

        function l(t) {
            return (t.maxX - t.minX) * (t.maxY - t.minY)
        }

        function h(t) {
            return t.maxX - t.minX + (t.maxY - t.minY)
        }

        function f(t, e) {
            return t.minX <= e.minX && t.minY <= e.minY && e.maxX <= t.maxX && e.maxY <= t.maxY
        }

        function p(t, e) {
            return e.minX <= t.maxX && e.minY <= t.maxY && e.maxX >= t.minX && e.maxY >= t.minY
        }

        function d(t) {
            return {
                children: t,
                height: 1,
                leaf: !0,
                minX: 1 / 0,
                minY: 1 / 0,
                maxX: -1 / 0,
                maxY: -1 / 0
            }
        }

        function y(e, n, r, o, i) {
            for (var a = [n, r]; a.length;)
                if (!((r = a.pop()) - (n = a.pop()) <= o)) {
                    var s = n + Math.ceil((r - n) / o / 2) * o;
                    t(e, s, n, r, i), a.push(n, s, s, r)
                }
        }
        return r.prototype.all = function () {
            return this._all(this.data, [])
        }, r.prototype.search = function (t) {
            var e = this.data,
                n = [];
            if (!p(t, e)) return n;
            for (var r = this.toBBox, o = []; e;) {
                for (var i = 0; i < e.children.length; i++) {
                    var a = e.children[i],
                        s = e.leaf ? r(a) : a;
                    p(t, s) && (e.leaf ? n.push(a) : f(t, s) ? this._all(a, n) : o.push(a))
                }
                e = o.pop()
            }
            return n
        }, r.prototype.collides = function (t) {
            var e = this.data;
            if (!p(t, e)) return !1;
            for (var n = []; e;) {
                for (var r = 0; r < e.children.length; r++) {
                    var o = e.children[r],
                        i = e.leaf ? this.toBBox(o) : o;
                    if (p(t, i)) {
                        if (e.leaf || f(t, i)) return !0;
                        n.push(o)
                    }
                }
                e = n.pop()
            }
            return !1
        }, r.prototype.load = function (t) {
            if (!t || !t.length) return this;
            if (t.length < this._minEntries) {
                for (var e = 0; e < t.length; e++) this.insert(t[e]);
                return this
            }
            var n = this._build(t.slice(), 0, t.length - 1, 0);
            if (this.data.children.length)
                if (this.data.height === n.height) this._splitRoot(this.data, n);
                else {
                    if (this.data.height < n.height) {
                        var r = this.data;
                        this.data = n, n = r
                    }
                    this._insert(n, this.data.height - n.height - 1, !0)
                }
            else this.data = n;
            return this
        }, r.prototype.insert = function (t) {
            return t && this._insert(t, this.data.height - 1), this
        }, r.prototype.clear = function () {
            return this.data = d([]), this
        }, r.prototype.remove = function (t, e) {
            if (!t) return this;
            for (var n, r, i, a = this.data, s = this.toBBox(t), u = [], c = []; a || u.length;) {
                if (a || (a = u.pop(), r = u[u.length - 1], n = c.pop(), i = !0), a.leaf) {
                    var l = o(t, a.children, e);
                    if (-1 !== l) return a.children.splice(l, 1), u.push(a), this._condense(u), this
                }
                i || a.leaf || !f(a, s) ? r ? (n++, a = r.children[n], i = !1) : a = null : (u.push(a), c.push(n), n = 0, r = a, a = a.children[0])
            }
            return this
        }, r.prototype.toBBox = function (t) {
            return t
        }, r.prototype.compareMinX = function (t, e) {
            return t.minX - e.minX
        }, r.prototype.compareMinY = function (t, e) {
            return t.minY - e.minY
        }, r.prototype.toJSON = function () {
            return this.data
        }, r.prototype.fromJSON = function (t) {
            return this.data = t, this
        }, r.prototype._all = function (t, e) {
            for (var n = []; t;) t.leaf ? e.push.apply(e, t.children) : n.push.apply(n, t.children), t = n.pop();
            return e
        }, r.prototype._build = function (t, e, n, r) {
            var o, a = n - e + 1,
                s = this._maxEntries;
            if (a <= s) return i(o = d(t.slice(e, n + 1)), this.toBBox), o;
            r || (r = Math.ceil(Math.log(a) / Math.log(s)), s = Math.ceil(a / Math.pow(s, r - 1))), (o = d([])).leaf = !1, o.height = r;
            var u = Math.ceil(a / s),
                c = u * Math.ceil(Math.sqrt(s));
            y(t, e, n, c, this.compareMinX);
            for (var l = e; l <= n; l += c) {
                var h = Math.min(l + c - 1, n);
                y(t, l, h, u, this.compareMinY);
                for (var f = l; f <= h; f += u) {
                    var p = Math.min(f + u - 1, h);
                    o.children.push(this._build(t, f, p, r - 1))
                }
            }
            return i(o, this.toBBox), o
        }, r.prototype._chooseSubtree = function (t, e, n, r) {
            for (; r.push(e), !e.leaf && r.length - 1 !== n;) {
                for (var o = 1 / 0, i = 1 / 0, a = void 0, s = 0; s < e.children.length; s++) {
                    var u = e.children[s],
                        c = l(u),
                        h = (f = t, p = u, (Math.max(p.maxX, f.maxX) - Math.min(p.minX, f.minX)) * (Math.max(p.maxY, f.maxY) - Math.min(p.minY, f.minY)) - c);
                    h < i ? (i = h, o = c < o ? c : o, a = u) : h === i && c < o && (o = c, a = u)
                }
                e = a || e.children[0]
            }
            var f, p;
            return e
        }, r.prototype._insert = function (t, e, n) {
            var r = n ? t : this.toBBox(t),
                o = [],
                i = this._chooseSubtree(r, this.data, e, o);
            for (i.children.push(t), s(i, r); e >= 0 && o[e].children.length > this._maxEntries;) this._split(o, e), e--;
            this._adjustParentBBoxes(r, o, e)
        }, r.prototype._split = function (t, e) {
            var n = t[e],
                r = n.children.length,
                o = this._minEntries;
            this._chooseSplitAxis(n, o, r);
            var a = this._chooseSplitIndex(n, o, r),
                s = d(n.children.splice(a, n.children.length - a));
            s.height = n.height, s.leaf = n.leaf, i(n, this.toBBox), i(s, this.toBBox), e ? t[e - 1].children.push(s) : this._splitRoot(n, s)
        }, r.prototype._splitRoot = function (t, e) {
            this.data = d([t, e]), this.data.height = t.height + 1, this.data.leaf = !1, i(this.data, this.toBBox)
        }, r.prototype._chooseSplitIndex = function (t, e, n) {
            for (var r, o, i, s, u, c, h, f = 1 / 0, p = 1 / 0, d = e; d <= n - e; d++) {
                var y = a(t, 0, d, this.toBBox),
                    g = a(t, d, n, this.toBBox),
                    v = (o = y, i = g, s = Math.max(o.minX, i.minX), u = Math.max(o.minY, i.minY), c = Math.min(o.maxX, i.maxX), h = Math.min(o.maxY, i.maxY), Math.max(0, c - s) * Math.max(0, h - u)),
                    m = l(y) + l(g);
                v < f ? (f = v, r = d, p = m < p ? m : p) : v === f && m < p && (p = m, r = d)
            }
            return r || n - e
        }, r.prototype._chooseSplitAxis = function (t, e, n) {
            var r = t.leaf ? this.compareMinX : u,
                o = t.leaf ? this.compareMinY : c;
            this._allDistMargin(t, e, n, r) < this._allDistMargin(t, e, n, o) && t.children.sort(r)
        }, r.prototype._allDistMargin = function (t, e, n, r) {
            t.children.sort(r);
            for (var o = this.toBBox, i = a(t, 0, e, o), u = a(t, n - e, n, o), c = h(i) + h(u), l = e; l < n - e; l++) {
                var f = t.children[l];
                s(i, t.leaf ? o(f) : f), c += h(i)
            }
            for (var p = n - e - 1; p >= e; p--) {
                var d = t.children[p];
                s(u, t.leaf ? o(d) : d), c += h(u)
            }
            return c
        }, r.prototype._adjustParentBBoxes = function (t, e, n) {
            for (var r = n; r >= 0; r--) s(e[r], t)
        }, r.prototype._condense = function (t) {
            for (var e = t.length - 1, n = void 0; e >= 0; e--) 0 === t[e].children.length ? e > 0 ? (n = t[e - 1].children).splice(n.indexOf(t[e]), 1) : this.clear() : i(t[e], this.toBBox)
        }, r
    }()
}, function (t, e, n) {
    var r = n(13),
        o = n(17),
        i = r.document,
        a = o(i) && o(i.createElement);
    t.exports = function (t) {
        return a ? i.createElement(t) : {}
    }
}, function (t, e, n) {
    var r = n(13),
        o = n(34);
    t.exports = function (t, e) {
        try {
            o(r, t, e)
        } catch (n) {
            r[t] = e
        }
        return e
    }
}, function (t, e, n) {
    var r = n(116),
        o = Function.toString;
    "function" != typeof r.inspectSource && (r.inspectSource = function (t) {
        return o.call(t)
    }), t.exports = r.inspectSource
}, function (t, e, n) {
    var r = n(62),
        o = n(116);
    (t.exports = function (t, e) {
        return o[t] || (o[t] = void 0 !== e ? e : {})
    })("versions", []).push({
        version: "3.6.4",
        mode: r ? "pure" : "global",
        copyright: "Â© 2020 Denis Pushkarev (zloirock.ru)"
    })
}, function (t, e, n) {
    var r = n(32),
        o = n(41),
        i = n(94),
        a = function (t) {
            return function (e, n, a) {
                var s, u = r(e),
                    c = o(u.length),
                    l = i(a, c);
                if (t && n != n) {
                    for (; c > l;)
                        if ((s = u[l++]) != s) return !0
                } else
                    for (; c > l; l++)
                        if ((t || l in u) && u[l] === n) return t || l || 0;
                return !t && -1
            }
        };
    t.exports = {
        includes: a(!0),
        indexOf: a(!1)
    }
}, function (t, e, n) {
    var r = n(54),
        o = Math.max,
        i = Math.min;
    t.exports = function (t, e) {
        var n = r(t);
        return n < 0 ? o(n + e, 0) : i(n, e)
    }
}, function (t, e) {
    t.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"]
}, function (t, e) {
    e.f = Object.getOwnPropertySymbols
}, function (t, e, n) {
    var r = n(8);
    t.exports = !!Object.getOwnPropertySymbols && !r((function () {
        return !String(Symbol())
    }))
}, function (t, e, n) {
    var r = n(17),
        o = n(77),
        i = n(14)("species");
    t.exports = function (t, e) {
        var n;
        return o(t) && ("function" != typeof (n = t.constructor) || n !== Array && !o(n.prototype) ? r(n) && null === (n = n[i]) && (n = void 0) : n = void 0), new(void 0 === n ? Array : n)(0 === e ? 0 : e)
    }
}, function (t, e, n) {
    var r, o, i = n(13),
        a = n(124),
        s = i.process,
        u = s && s.versions,
        c = u && u.v8;
    c ? o = (r = c.split("."))[0] + r[1] : a && (!(r = a.match(/Edge\/(\d+)/)) || r[1] >= 74) && (r = a.match(/Chrome\/(\d+)/)) && (o = r[1]), t.exports = o && +o
}, function (t, e, n) {
    var r = {};
    r[n(14)("toStringTag")] = "z", t.exports = "[object z]" === String(r)
}, function (t, e, n) {
    var r = n(14)("iterator"),
        o = !1;
    try {
        var i = 0,
            a = {
                next: function () {
                    return {
                        done: !!i++
                    }
                },
                return: function () {
                    o = !0
                }
            };
        a[r] = function () {
            return this
        }, Array.from(a, (function () {
            throw 2
        }))
    } catch (t) {}
    t.exports = function (t, e) {
        if (!e && !o) return !1;
        var n = !1;
        try {
            var i = {};
            i[r] = function () {
                return {
                    next: function () {
                        return {
                            done: n = !0
                        }
                    }
                }
            }, t(i)
        } catch (t) {}
        return n
    }
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(196),
        i = n(81),
        a = n(103),
        s = n(65),
        u = n(34),
        c = n(35),
        l = n(14),
        h = n(62),
        f = n(69),
        p = n(130),
        d = p.IteratorPrototype,
        y = p.BUGGY_SAFARI_ITERATORS,
        g = l("iterator"),
        v = function () {
            return this
        };
    t.exports = function (t, e, n, l, p, m, _) {
        o(n, e, l);
        var b, x, w, S = function (t) {
                if (t === p && P) return P;
                if (!y && t in T) return T[t];
                switch (t) {
                    case "keys":
                    case "values":
                    case "entries":
                        return function () {
                            return new n(this, t)
                        }
                }
                return function () {
                    return new n(this)
                }
            },
            C = e + " Iterator",
            E = !1,
            T = t.prototype,
            O = T[g] || T["@@iterator"] || p && T[p],
            P = !y && O || S(p),
            A = "Array" == e && T.entries || O;
        if (A && (b = i(A.call(new t)), d !== Object.prototype && b.next && (h || i(b) === d || (a ? a(b, d) : "function" != typeof b[g] && u(b, g, v)), s(b, C, !0, !0), h && (f[C] = v))), "values" == p && O && "values" !== O.name && (E = !0, P = function () {
                return O.call(this)
            }), h && !_ || T[g] === P || u(T, g, P), f[e] = P, p)
            if (x = {
                    values: S("values"),
                    keys: m ? P : S("keys"),
                    entries: S("entries")
                }, _)
                for (w in x)(y || E || !(w in T)) && c(T, w, x[w]);
            else r({
                target: e,
                proto: !0,
                forced: y || E
            }, x);
        return x
    }
}, function (t, e, n) {
    var r = n(23),
        o = n(197);
    t.exports = Object.setPrototypeOf || ("__proto__" in {} ? function () {
        var t, e = !1,
            n = {};
        try {
            (t = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set).call(n, []), e = n instanceof Array
        } catch (t) {}
        return function (n, i) {
            return r(n), o(i), e ? t.call(n, i) : n.__proto__ = i, n
        }
    }() : void 0)
}, function (t, e, n) {
    "use strict";
    var r = n(25),
        o = n(13),
        i = n(76),
        a = n(35),
        s = n(22),
        u = n(33),
        c = n(133),
        l = n(61),
        h = n(8),
        f = n(55),
        p = n(75).f,
        d = n(47).f,
        y = n(27).f,
        g = n(134).trim,
        v = o.Number,
        m = v.prototype,
        _ = "Number" == u(f(m)),
        b = function (t) {
            var e, n, r, o, i, a, s, u, c = l(t, !1);
            if ("string" == typeof c && c.length > 2)
                if (43 === (e = (c = g(c)).charCodeAt(0)) || 45 === e) {
                    if (88 === (n = c.charCodeAt(2)) || 120 === n) return NaN
                } else if (48 === e) {
                switch (c.charCodeAt(1)) {
                    case 66:
                    case 98:
                        r = 2, o = 49;
                        break;
                    case 79:
                    case 111:
                        r = 8, o = 55;
                        break;
                    default:
                        return +c
                }
                for (a = (i = c.slice(2)).length, s = 0; s < a; s++)
                    if ((u = i.charCodeAt(s)) < 48 || u > o) return NaN;
                return parseInt(i, r)
            }
            return +c
        };
    if (i("Number", !v(" 0o1") || !v("0b1") || v("+0x1"))) {
        for (var x, w = function (t) {
                var e = arguments.length < 1 ? 0 : t,
                    n = this;
                return n instanceof w && (_ ? h((function () {
                    m.valueOf.call(n)
                })) : "Number" != u(n)) ? c(new v(b(e)), n, w) : b(e)
            }, S = r ? p(v) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), C = 0; S.length > C; C++) s(v, x = S[C]) && !s(w, x) && y(w, x, d(v, x));
        w.prototype = m, m.constructor = w, a(o, "Number", w)
    }
}, function (t, e) {
    t.exports = function (t, e, n) {
        if (!(t instanceof e)) throw TypeError("Incorrect " + (n ? n + " " : "") + "invocation");
        return t
    }
}, function (t, e, n) {
    var r = n(23),
        o = n(127),
        i = n(41),
        a = n(66),
        s = n(128),
        u = n(126),
        c = function (t, e) {
            this.stopped = t, this.result = e
        };
    (t.exports = function (t, e, n, l, h) {
        var f, p, d, y, g, v, m, _ = a(e, n, l ? 2 : 1);
        if (h) f = t;
        else {
            if ("function" != typeof (p = s(t))) throw TypeError("Target is not iterable");
            if (o(p)) {
                for (d = 0, y = i(t.length); y > d; d++)
                    if ((g = l ? _(r(m = t[d])[0], m[1]) : _(t[d])) && g instanceof c) return g;
                return new c(!1)
            }
            f = p.call(t)
        }
        for (v = f.next; !(m = v.call(f)).done;)
            if ("object" == typeof (g = u(f, _, m.value, l)) && g && g instanceof c) return g;
        return new c(!1)
    }).stop = function (t) {
        return new c(!0, t)
    }
}, function (t, e, n) {
    var r = n(108);
    t.exports = function () {
        if (!arguments.length) return [];
        var t = arguments[0];
        return r(t) ? t : [t]
    }
}, function (t, e) {
    var n = Array.isArray;
    t.exports = n
}, function (t, e, n) {
    var r = n(149);
    t.exports = function (t, e) {
        return !(null == t || !t.length) && r(t, e, 0) > -1
    }
}, function (t, e) {
    t.exports = function (t) {
        var e = typeof t;
        return null != t && ("object" == e || "function" == e)
    }
}, function (t, e, n) {
    "use strict";
    var r = n(261)();
    t.exports = function (t) {
        return t !== r && null !== t
    }
}, function (t, e, n) {
    var r = n(63),
        o = n(17),
        i = n(22),
        a = n(27).f,
        s = n(74),
        u = n(158),
        c = s("meta"),
        l = 0,
        h = Object.isExtensible || function () {
            return !0
        },
        f = function (t) {
            a(t, c, {
                value: {
                    objectID: "O" + ++l,
                    weakData: {}
                }
            })
        },
        p = t.exports = {
            REQUIRED: !1,
            fastKey: function (t, e) {
                if (!o(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
                if (!i(t, c)) {
                    if (!h(t)) return "F";
                    if (!e) return "E";
                    f(t)
                }
                return t[c].objectID
            },
            getWeakData: function (t, e) {
                if (!i(t, c)) {
                    if (!h(t)) return !0;
                    if (!e) return !1;
                    f(t)
                }
                return t[c].weakData
            },
            onFreeze: function (t) {
                return u && p.REQUIRED && h(t) && !i(t, c) && f(t), t
            }
        };
    r[c] = !0
}, function (t, e, n) {
    var r = n(1),
        o = n(136).values;
    r({
        target: "Object",
        stat: !0
    }, {
        values: function (t) {
            return o(t)
        }
    })
}, function (t, e) {
    var n = null,
        r = null;

    function o(t, e, n) {
        t.addEventListener(e, (function (t) {
            var o = new MouseEvent(n, t);
            o.pointerId = 1, o.isPrimary = !0, o.pointerType = "mouse", o.width = 1, o.height = 1, o.tiltX = 0, o.tiltY = 0, "buttons" in t && 0 !== t.buttons ? o.pressure = .5 : o.pressure = 0;
            var i = t.target;
            null !== r && (i = r, "mouseup" === e && (r = null)), i.dispatchEvent(o), o.defaultPrevented && t.preventDefault()
        }))
    }

    function i(t, e, r) {
        t.addEventListener(e, (function (t) {
            for (var o = t.changedTouches, i = o.length, a = 0; a < i; a++) {
                var s = new CustomEvent(r, {
                    bubbles: !0,
                    cancelable: !0
                });
                s.ctrlKey = t.ctrlKey, s.shiftKey = t.shiftKey, s.altKey = t.altKey, s.metaKey = t.metaKey;
                var u = o.item(a);
                s.clientX = u.clientX, s.clientY = u.clientY, s.screenX = u.screenX, s.screenY = u.screenY, s.pageX = u.pageX, s.pageY = u.pageY;
                var c = u.target.getBoundingClientRect();
                s.offsetX = u.clientX - c.left, s.offsetY = u.clientY - c.top, s.pointerId = 1 + u.identifier, s.button = 0, s.buttons = 1, s.movementX = 0, s.movementY = 0, s.region = null, s.relatedTarget = null, s.x = s.clientX, s.y = s.clientY, s.pointerType = "touch", s.width = 1, s.height = 1, s.tiltX = 0, s.tiltY = 0, s.pressure = 1, "touchstart" === e && null === n && (n = u.identifier), s.isPrimary = u.identifier === n, "touchend" === e && s.isPrimary && (n = null), t.target.dispatchEvent(s), s.defaultPrevented && t.preventDefault()
            }
        }))
    }
    "PointerEvent" in window || (Element.prototype.setPointerCapture = Element.prototype.setCapture, Element.prototype.releasePointerCapture = Element.prototype.releaseCapture, "TouchEvent" in window || (o(document, "mousedown", "pointerdown"), o(document, "mousemove", "pointermove"), o(document, "mouseup", "pointerup")), i(document, "touchstart", "pointerdown"), i(document, "touchmove", "pointermove"), i(document, "touchend", "pointerup"))
}, function (t, e, n) {
    var r = n(25),
        o = n(8),
        i = n(89);
    t.exports = !r && !o((function () {
        return 7 != Object.defineProperty(i("div"), "a", {
            get: function () {
                return 7
            }
        }).a
    }))
}, function (t, e, n) {
    var r = n(13),
        o = n(90),
        i = r["__core-js_shared__"] || o("__core-js_shared__", {});
    t.exports = i
}, function (t, e, n) {
    var r = n(22),
        o = n(192),
        i = n(47),
        a = n(27);
    t.exports = function (t, e) {
        for (var n = o(e), s = a.f, u = i.f, c = 0; c < n.length; c++) {
            var l = n[c];
            r(t, l) || s(t, l, u(e, l))
        }
    }
}, function (t, e, n) {
    var r = n(13);
    t.exports = r
}, function (t, e, n) {
    var r = n(22),
        o = n(32),
        i = n(93).indexOf,
        a = n(63);
    t.exports = function (t, e) {
        var n, s = o(t),
            u = 0,
            c = [];
        for (n in s) !r(a, n) && r(s, n) && c.push(n);
        for (; e.length > u;) r(s, n = e[u++]) && (~i(c, n) || c.push(n));
        return c
    }
}, function (t, e, n) {
    var r = n(97);
    t.exports = r && !Symbol.sham && "symbol" == typeof Symbol.iterator
}, function (t, e, n) {
    var r = n(48);
    t.exports = r("document", "documentElement")
}, function (t, e, n) {
    var r = n(14);
    e.f = r
}, function (t, e, n) {
    var r = n(118),
        o = n(22),
        i = n(122),
        a = n(27).f;
    t.exports = function (t) {
        var e = r.Symbol || (r.Symbol = {});
        o(e, t) || a(e, t, {
            value: i.f(t)
        })
    }
}, function (t, e, n) {
    var r = n(48);
    t.exports = r("navigator", "userAgent") || ""
}, function (t, e, n) {
    "use strict";
    var r = n(56).forEach,
        o = n(80),
        i = n(37),
        a = o("forEach"),
        s = i("forEach");
    t.exports = a && s ? [].forEach : function (t) {
        return r(this, t, arguments.length > 1 ? arguments[1] : void 0)
    }
}, function (t, e, n) {
    var r = n(23);
    t.exports = function (t, e, n, o) {
        try {
            return o ? e(r(n)[0], n[1]) : e(n)
        } catch (e) {
            var i = t.return;
            throw void 0 !== i && r(i.call(t)), e
        }
    }
}, function (t, e, n) {
    var r = n(14),
        o = n(69),
        i = r("iterator"),
        a = Array.prototype;
    t.exports = function (t) {
        return void 0 !== t && (o.Array === t || a[i] === t)
    }
}, function (t, e, n) {
    var r = n(129),
        o = n(69),
        i = n(14)("iterator");
    t.exports = function (t) {
        if (null != t) return t[i] || t["@@iterator"] || o[r(t)]
    }
}, function (t, e, n) {
    var r = n(100),
        o = n(33),
        i = n(14)("toStringTag"),
        a = "Arguments" == o(function () {
            return arguments
        }());
    t.exports = r ? o : function (t) {
        var e, n, r;
        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (n = function (t, e) {
            try {
                return t[e]
            } catch (t) {}
        }(e = Object(t), i)) ? n : a ? o(e) : "Object" == (r = o(e)) && "function" == typeof e.callee ? "Arguments" : r
    }
}, function (t, e, n) {
    "use strict";
    var r, o, i, a = n(81),
        s = n(34),
        u = n(22),
        c = n(14),
        l = n(62),
        h = c("iterator"),
        f = !1;
    [].keys && ("next" in (i = [].keys()) ? (o = a(a(i))) !== Object.prototype && (r = o) : f = !0), null == r && (r = {}), l || u(r, h) || s(r, h, (function () {
        return this
    })), t.exports = {
        IteratorPrototype: r,
        BUGGY_SAFARI_ITERATORS: f
    }
}, function (t, e, n) {
    var r = n(8);
    t.exports = !r((function () {
        function t() {}
        return t.prototype.constructor = null, Object.getPrototypeOf(new t) !== t.prototype
    }))
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(94),
        i = n(54),
        a = n(41),
        s = n(36),
        u = n(98),
        c = n(78),
        l = n(67),
        h = n(37),
        f = l("splice"),
        p = h("splice", {
            ACCESSORS: !0,
            0: 0,
            1: 2
        }),
        d = Math.max,
        y = Math.min;
    r({
        target: "Array",
        proto: !0,
        forced: !f || !p
    }, {
        splice: function (t, e) {
            var n, r, l, h, f, p, g = s(this),
                v = a(g.length),
                m = o(t, v),
                _ = arguments.length;
            if (0 === _ ? n = r = 0 : 1 === _ ? (n = 0, r = v - m) : (n = _ - 2, r = y(d(i(e), 0), v - m)), v + n - r > 9007199254740991) throw TypeError("Maximum allowed length exceeded");
            for (l = u(g, r), h = 0; h < r; h++)(f = m + h) in g && c(l, h, g[f]);
            if (l.length = r, n < r) {
                for (h = m; h < v - r; h++) p = h + n, (f = h + r) in g ? g[p] = g[f] : delete g[p];
                for (h = v; h > v - r + n; h--) delete g[h - 1]
            } else if (n > r)
                for (h = v - r; h > m; h--) p = h + n - 1, (f = h + r - 1) in g ? g[p] = g[f] : delete g[p];
            for (h = 0; h < n; h++) g[h + m] = arguments[h + 2];
            return g.length = v - r + n, l
        }
    })
}, function (t, e, n) {
    var r = n(17),
        o = n(103);
    t.exports = function (t, e, n) {
        var i, a;
        return o && "function" == typeof (i = e.constructor) && i !== n && r(a = i.prototype) && a !== n.prototype && o(t, a), t
    }
}, function (t, e, n) {
    var r = n(45),
        o = "[" + n(135) + "]",
        i = RegExp("^" + o + o + "*"),
        a = RegExp(o + o + "*$"),
        s = function (t) {
            return function (e) {
                var n = String(r(e));
                return 1 & t && (n = n.replace(i, "")), 2 & t && (n = n.replace(a, "")), n
            }
        };
    t.exports = {
        start: s(1),
        end: s(2),
        trim: s(3)
    }
}, function (t, e) {
    t.exports = "\t\n\v\f\r Â áš€â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"
}, function (t, e, n) {
    var r = n(25),
        o = n(64),
        i = n(32),
        a = n(72).f,
        s = function (t) {
            return function (e) {
                for (var n, s = i(e), u = o(s), c = u.length, l = 0, h = []; c > l;) n = u[l++], r && !a.call(s, n) || h.push(t ? [n, s[n]] : s[n]);
                return h
            }
        };
    t.exports = {
        entries: s(!0),
        values: s(!1)
    }
}, function (t, e, n) {
    var r = n(35);
    t.exports = function (t, e, n) {
        for (var o in e) r(t, o, e[o], n);
        return t
    }
}, function (t, e, n) {
    "use strict";
    var r = n(48),
        o = n(27),
        i = n(14),
        a = n(25),
        s = i("species");
    t.exports = function (t) {
        var e = r(t),
            n = o.f;
        a && e && !e[s] && n(e, s, {
            configurable: !0,
            get: function () {
                return this
            }
        })
    }
}, function (t, e, n) {
    var r = n(23),
        o = n(49),
        i = n(14)("species");
    t.exports = function (t, e) {
        var n, a = r(t).constructor;
        return void 0 === a || null == (n = r(a)[i]) ? e : o(n)
    }
}, function (t, e, n) {
    var r, o, i, a = n(13),
        s = n(8),
        u = n(33),
        c = n(66),
        l = n(121),
        h = n(89),
        f = n(141),
        p = a.location,
        d = a.setImmediate,
        y = a.clearImmediate,
        g = a.process,
        v = a.MessageChannel,
        m = a.Dispatch,
        _ = 0,
        b = {},
        x = function (t) {
            if (b.hasOwnProperty(t)) {
                var e = b[t];
                delete b[t], e()
            }
        },
        w = function (t) {
            return function () {
                x(t)
            }
        },
        S = function (t) {
            x(t.data)
        },
        C = function (t) {
            a.postMessage(t + "", p.protocol + "//" + p.host)
        };
    d && y || (d = function (t) {
        for (var e = [], n = 1; arguments.length > n;) e.push(arguments[n++]);
        return b[++_] = function () {
            ("function" == typeof t ? t : Function(t)).apply(void 0, e)
        }, r(_), _
    }, y = function (t) {
        delete b[t]
    }, "process" == u(g) ? r = function (t) {
        g.nextTick(w(t))
    } : m && m.now ? r = function (t) {
        m.now(w(t))
    } : v && !f ? (i = (o = new v).port2, o.port1.onmessage = S, r = c(i.postMessage, i, 1)) : !a.addEventListener || "function" != typeof postMessage || a.importScripts || s(C) ? r = "onreadystatechange" in h("script") ? function (t) {
        l.appendChild(h("script")).onreadystatechange = function () {
            l.removeChild(this), x(t)
        }
    } : function (t) {
        setTimeout(w(t), 0)
    } : (r = C, a.addEventListener("message", S, !1))), t.exports = {
        set: d,
        clear: y
    }
}, function (t, e, n) {
    var r = n(124);
    t.exports = /(iphone|ipod|ipad).*applewebkit/i.test(r)
}, function (t, e, n) {
    "use strict";
    var r = n(49),
        o = function (t) {
            var e, n;
            this.promise = new t((function (t, r) {
                if (void 0 !== e || void 0 !== n) throw TypeError("Bad Promise constructor");
                e = t, n = r
            })), this.resolve = r(e), this.reject = r(n)
        };
    t.exports.f = function (t) {
        return new o(t)
    }
}, function (t, e, n) {
    "use strict";
    var r = n(23);
    t.exports = function () {
        var t = r(this),
            e = "";
        return t.global && (e += "g"), t.ignoreCase && (e += "i"), t.multiline && (e += "m"), t.dotAll && (e += "s"), t.unicode && (e += "u"), t.sticky && (e += "y"), e
    }
}, function (t, e, n) {
    var r = n(17),
        o = n(33),
        i = n(14)("match");
    t.exports = function (t) {
        var e;
        return r(t) && (void 0 !== (e = t[i]) ? !!e : "RegExp" == o(t))
    }
}, function (t, e, n) {
    var r = n(54),
        o = n(45),
        i = function (t) {
            return function (e, n) {
                var i, a, s = String(o(e)),
                    u = r(n),
                    c = s.length;
                return u < 0 || u >= c ? t ? "" : void 0 : (i = s.charCodeAt(u)) < 55296 || i > 56319 || u + 1 === c || (a = s.charCodeAt(u + 1)) < 56320 || a > 57343 ? t ? s.charAt(u) : i : t ? s.slice(u, u + 2) : a - 56320 + (i - 55296 << 10) + 65536
            }
        };
    t.exports = {
        codeAt: i(!1),
        charAt: i(!0)
    }
}, function (t, e, n) {
    "use strict";
    n(85);
    var r = n(35),
        o = n(8),
        i = n(14),
        a = n(86),
        s = n(34),
        u = i("species"),
        c = !o((function () {
            var t = /./;
            return t.exec = function () {
                var t = [];
                return t.groups = {
                    a: "7"
                }, t
            }, "7" !== "".replace(t, "$<a>")
        })),
        l = "$0" === "a".replace(/./, "$0"),
        h = i("replace"),
        f = !!/./ [h] && "" === /./ [h]("a", "$0"),
        p = !o((function () {
            var t = /(?:)/,
                e = t.exec;
            t.exec = function () {
                return e.apply(this, arguments)
            };
            var n = "ab".split(t);
            return 2 !== n.length || "a" !== n[0] || "b" !== n[1]
        }));
    t.exports = function (t, e, n, h) {
        var d = i(t),
            y = !o((function () {
                var e = {};
                return e[d] = function () {
                    return 7
                }, 7 != "" [t](e)
            })),
            g = y && !o((function () {
                var e = !1,
                    n = /a/;
                return "split" === t && ((n = {}).constructor = {}, n.constructor[u] = function () {
                    return n
                }, n.flags = "", n[d] = /./ [d]), n.exec = function () {
                    return e = !0, null
                }, n[d](""), !e
            }));
        if (!y || !g || "replace" === t && (!c || !l || f) || "split" === t && !p) {
            var v = /./ [d],
                m = n(d, "" [t], (function (t, e, n, r, o) {
                    return e.exec === a ? y && !o ? {
                        done: !0,
                        value: v.call(e, n, r)
                    } : {
                        done: !0,
                        value: t.call(n, e, r)
                    } : {
                        done: !1
                    }
                }), {
                    REPLACE_KEEPS_$0: l,
                    REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: f
                }),
                _ = m[0],
                b = m[1];
            r(String.prototype, t, _), r(RegExp.prototype, d, 2 == e ? function (t, e) {
                return b.call(t, this, e)
            } : function (t) {
                return b.call(t, this)
            })
        }
        h && s(RegExp.prototype[d], "sham", !0)
    }
}, function (t, e, n) {
    var r = n(33),
        o = n(86);
    t.exports = function (t, e) {
        var n = t.exec;
        if ("function" == typeof n) {
            var i = n.call(t, e);
            if ("object" != typeof i) throw TypeError("RegExp exec method returned something other than an Object or null");
            return i
        }
        if ("RegExp" !== r(t)) throw TypeError("RegExp#exec called on incompatible receiver");
        return o.call(t, e)
    }
}, function (t, e) {
    t.exports = {
        CSSRuleList: 0,
        CSSStyleDeclaration: 0,
        CSSValueList: 0,
        ClientRectList: 0,
        DOMRectList: 0,
        DOMStringList: 0,
        DOMTokenList: 1,
        DataTransferItemList: 0,
        FileList: 0,
        HTMLAllCollection: 0,
        HTMLCollection: 0,
        HTMLFormElement: 0,
        HTMLSelectElement: 0,
        MediaList: 0,
        MimeTypeArray: 0,
        NamedNodeMap: 0,
        NodeList: 1,
        PaintRequestList: 0,
        Plugin: 0,
        PluginArray: 0,
        SVGLengthList: 0,
        SVGNumberList: 0,
        SVGPathSegList: 0,
        SVGPointList: 0,
        SVGStringList: 0,
        SVGTransformList: 0,
        SourceBufferList: 0,
        StyleSheetList: 0,
        TextTrackCueList: 0,
        TextTrackList: 0,
        TouchList: 0
    }
}, function (t, e) {
    t.exports = function (t, e, n) {
        for (var r = n - 1, o = t.length; ++r < o;)
            if (t[r] === e) return r;
        return -1
    }
}, function (t, e) {
    t.exports = function (t) {
        return null != t && "object" == typeof t
    }
}, function (t, e) {
    t.exports = function (t, e) {
        for (var n = -1, r = null == t ? 0 : t.length, o = Array(r); ++n < r;) o[n] = e(t[n], n, t);
        return o
    }
}, function (t, e) {
    t.exports = function (t) {
        return t
    }
}, function (t, e) {
    t.exports = function (t) {
        return function (e) {
            return t(e)
        }
    }
}, function (t, e) {
    t.exports = function (t) {
        return t
    }
}, function (t, e, n) {
    var r = n(154),
        o = n(248),
        i = n(250);
    t.exports = function (t, e) {
        return i(o(t, e, r), t + "")
    }
}, function (t, e, n) {
    var r = n(1),
        o = n(36),
        i = n(64);
    r({
        target: "Object",
        stat: !0,
        forced: n(8)((function () {
            i(1)
        }))
    }, {
        keys: function (t) {
            return i(o(t))
        }
    })
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(13),
        i = n(76),
        a = n(35),
        s = n(112),
        u = n(106),
        c = n(105),
        l = n(17),
        h = n(8),
        f = n(101),
        p = n(65),
        d = n(133);
    t.exports = function (t, e, n) {
        var y = -1 !== t.indexOf("Map"),
            g = -1 !== t.indexOf("Weak"),
            v = y ? "set" : "add",
            m = o[t],
            _ = m && m.prototype,
            b = m,
            x = {},
            w = function (t) {
                var e = _[t];
                a(_, t, "add" == t ? function (t) {
                    return e.call(this, 0 === t ? 0 : t), this
                } : "delete" == t ? function (t) {
                    return !(g && !l(t)) && e.call(this, 0 === t ? 0 : t)
                } : "get" == t ? function (t) {
                    return g && !l(t) ? void 0 : e.call(this, 0 === t ? 0 : t)
                } : "has" == t ? function (t) {
                    return !(g && !l(t)) && e.call(this, 0 === t ? 0 : t)
                } : function (t, n) {
                    return e.call(this, 0 === t ? 0 : t, n), this
                })
            };
        if (i(t, "function" != typeof m || !(g || _.forEach && !h((function () {
                (new m).entries().next()
            }))))) b = n.getConstructor(e, t, y, v), s.REQUIRED = !0;
        else if (i(t, !0)) {
            var S = new b,
                C = S[v](g ? {} : -0, 1) != S,
                E = h((function () {
                    S.has(1)
                })),
                T = f((function (t) {
                    new m(t)
                })),
                O = !g && h((function () {
                    for (var t = new m, e = 5; e--;) t[v](e, e);
                    return !t.has(-0)
                }));
            T || ((b = e((function (e, n) {
                c(e, b, t);
                var r = d(new m, e, b);
                return null != n && u(n, r[v], r, y), r
            }))).prototype = _, _.constructor = b), (E || O) && (w("delete"), w("has"), y && w("get")), (O || C) && w(v), g && _.clear && delete _.clear
        }
        return x[t] = b, r({
            global: !0,
            forced: b != m
        }, x), p(b, t), g || n.setStrong(b, t, y), b
    }
}, function (t, e, n) {
    var r = n(8);
    t.exports = !r((function () {
        return Object.isExtensible(Object.preventExtensions({}))
    }))
}, function (t, e, n) {
    "use strict";
    var r = n(27).f,
        o = n(55),
        i = n(137),
        a = n(66),
        s = n(105),
        u = n(106),
        c = n(102),
        l = n(138),
        h = n(25),
        f = n(112).fastKey,
        p = n(53),
        d = p.set,
        y = p.getterFor;
    t.exports = {
        getConstructor: function (t, e, n, c) {
            var l = t((function (t, r) {
                    s(t, l, e), d(t, {
                        type: e,
                        index: o(null),
                        first: void 0,
                        last: void 0,
                        size: 0
                    }), h || (t.size = 0), null != r && u(r, t[c], t, n)
                })),
                p = y(e),
                g = function (t, e, n) {
                    var r, o, i = p(t),
                        a = v(t, e);
                    return a ? a.value = n : (i.last = a = {
                        index: o = f(e, !0),
                        key: e,
                        value: n,
                        previous: r = i.last,
                        next: void 0,
                        removed: !1
                    }, i.first || (i.first = a), r && (r.next = a), h ? i.size++ : t.size++, "F" !== o && (i.index[o] = a)), t
                },
                v = function (t, e) {
                    var n, r = p(t),
                        o = f(e);
                    if ("F" !== o) return r.index[o];
                    for (n = r.first; n; n = n.next)
                        if (n.key == e) return n
                };
            return i(l.prototype, {
                clear: function () {
                    for (var t = p(this), e = t.index, n = t.first; n;) n.removed = !0, n.previous && (n.previous = n.previous.next = void 0), delete e[n.index], n = n.next;
                    t.first = t.last = void 0, h ? t.size = 0 : this.size = 0
                },
                delete: function (t) {
                    var e = p(this),
                        n = v(this, t);
                    if (n) {
                        var r = n.next,
                            o = n.previous;
                        delete e.index[n.index], n.removed = !0, o && (o.next = r), r && (r.previous = o), e.first == n && (e.first = r), e.last == n && (e.last = o), h ? e.size-- : this.size--
                    }
                    return !!n
                },
                forEach: function (t) {
                    for (var e, n = p(this), r = a(t, arguments.length > 1 ? arguments[1] : void 0, 3); e = e ? e.next : n.first;)
                        for (r(e.value, e.key, this); e && e.removed;) e = e.previous
                },
                has: function (t) {
                    return !!v(this, t)
                }
            }), i(l.prototype, n ? {
                get: function (t) {
                    var e = v(this, t);
                    return e && e.value
                },
                set: function (t, e) {
                    return g(this, 0 === t ? 0 : t, e)
                }
            } : {
                add: function (t) {
                    return g(this, t = 0 === t ? 0 : t, t)
                }
            }), h && r(l.prototype, "size", {
                get: function () {
                    return p(this).size
                }
            }), l
        },
        setStrong: function (t, e, n) {
            var r = e + " Iterator",
                o = y(e),
                i = y(r);
            c(t, e, (function (t, e) {
                d(this, {
                    type: r,
                    target: t,
                    state: o(t),
                    kind: e,
                    last: void 0
                })
            }), (function () {
                for (var t = i(this), e = t.kind, n = t.last; n && n.removed;) n = n.previous;
                return t.target && (t.last = n = n ? n.next : t.state.first) ? "keys" == e ? {
                    value: n.key,
                    done: !1
                } : "values" == e ? {
                    value: n.value,
                    done: !1
                } : {
                    value: [n.key, n.value],
                    done: !1
                } : (t.target = void 0, {
                    value: void 0,
                    done: !0
                })
            }), n ? "entries" : "values", !n, !0), l(e)
        }
    }
}, function (t, e, n) {
    var r = n(149);
    t.exports = function (t, e) {
        return !(null == t || !t.length) && r(t, e, 0) > -1
    }
}, function (t, e) {
    t.exports = function (t, e, n) {
        for (var r = -1, o = null == t ? 0 : t.length; ++r < o;)
            if (n(e, t[r])) return !0;
        return !1
    }
}, function (t, e, n) {
    "use strict";
    var r = n(157),
        o = n(159);
    t.exports = r("Set", (function (t) {
        return function () {
            return t(this, arguments.length ? arguments[0] : void 0)
        }
    }), o)
}, function (t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0, e.HandlebarsEnvironment = l;
    var o = n(40),
        i = r(n(52)),
        a = n(164),
        s = n(284),
        u = r(n(165)),
        c = n(166);

    function l(t, e, n) {
        this.helpers = t || {}, this.partials = e || {}, this.decorators = n || {}, a.registerDefaultHelpers(this), s.registerDefaultDecorators(this)
    }
    e.VERSION = "4.7.3", e.COMPILER_REVISION = 8, e.LAST_COMPATIBLE_COMPILER_REVISION = 7, e.REVISION_CHANGES = {
        1: "<= 1.0.rc.2",
        2: "== 1.0.0-rc.3",
        3: "== 1.0.0-rc.4",
        4: "== 1.x.x",
        5: "== 2.0.0-alpha.x",
        6: ">= 2.0.0-beta.1",
        7: ">= 4.0.0 <4.3.0",
        8: ">= 4.3.0"
    }, l.prototype = {
        constructor: l,
        logger: u.default,
        log: u.default.log,
        registerHelper: function (t, e) {
            if ("[object Object]" === o.toString.call(t)) {
                if (e) throw new i.default("Arg not supported with multiple helpers");
                o.extend(this.helpers, t)
            } else this.helpers[t] = e
        },
        unregisterHelper: function (t) {
            delete this.helpers[t]
        },
        registerPartial: function (t, e) {
            if ("[object Object]" === o.toString.call(t)) o.extend(this.partials, t);
            else {
                if (void 0 === e) throw new i.default('Attempting to register a partial called "' + t + '" as undefined');
                this.partials[t] = e
            }
        },
        unregisterPartial: function (t) {
            delete this.partials[t]
        },
        registerDecorator: function (t, e) {
            if ("[object Object]" === o.toString.call(t)) {
                if (e) throw new i.default("Arg not supported with multiple decorators");
                o.extend(this.decorators, t)
            } else this.decorators[t] = e
        },
        unregisterDecorator: function (t) {
            delete this.decorators[t]
        },
        resetLoggedPropertyAccesses: function () {
            c.resetLoggedProperties()
        }
    };
    var h = u.default.log;
    e.log = h, e.createFrame = o.createFrame, e.logger = u.default
}, function (t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0, e.registerDefaultHelpers = function (t) {
        o.default(t), i.default(t), a.default(t), s.default(t), u.default(t), c.default(t), l.default(t)
    }, e.moveHelperToHooks = function (t, e, n) {
        t.helpers[e] && (t.hooks[e] = t.helpers[e], n || delete t.helpers[e])
    };
    var o = r(n(277)),
        i = r(n(278)),
        a = r(n(279)),
        s = r(n(280)),
        u = r(n(281)),
        c = r(n(282)),
        l = r(n(283))
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(40),
        o = {
            methodMap: ["debug", "info", "warn", "error"],
            level: "info",
            lookupLevel: function (t) {
                if ("string" == typeof t) {
                    var e = r.indexOf(o.methodMap, t.toLowerCase());
                    t = e >= 0 ? e : parseInt(t, 10)
                }
                return t
            },
            log: function (t) {
                if (t = o.lookupLevel(t), "undefined" != typeof console && o.lookupLevel(o.level) <= t) {
                    var e = o.methodMap[t];
                    console[e] || (e = "log");
                    for (var n = arguments.length, r = Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++) r[i - 1] = arguments[i];
                    console[e].apply(console, r)
                }
            }
        };
    e.default = o, t.exports = e.default
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0, e.createProtoAccessControl = function (t) {
        var e = Object.create(null);
        e.constructor = !1, e.__defineGetter__ = !1, e.__defineSetter__ = !1, e.__lookupGetter__ = !1;
        var n = Object.create(null);
        return n.__proto__ = !1, {
            properties: {
                whitelist: r.createNewLookupObject(n, t.allowedProtoProperties),
                defaultValue: t.allowProtoPropertiesByDefault
            },
            methods: {
                whitelist: r.createNewLookupObject(e, t.allowedProtoMethods),
                defaultValue: t.allowProtoMethodsByDefault
            }
        }
    }, e.resultIsAllowed = function (t, e, n) {
        return function (t, e) {
            return void 0 !== t.whitelist[e] ? !0 === t.whitelist[e] : void 0 !== t.defaultValue ? t.defaultValue : (function (t) {
                !0 !== i[t] && (i[t] = !0, o.log("error", 'Handlebars: Access has been denied to resolve the property "' + t + '" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))
            }(e), !1)
        }("function" == typeof t ? e.methods : e.properties, n)
    }, e.resetLoggedProperties = function () {
        Object.keys(i).forEach((function (t) {
            delete i[t]
        }))
    };
    var r = n(286),
        o = function (t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(n(165)),
        i = Object.create(null)
}, function (t, e, n) {
    var r = n(218);
    t.exports = function (t, e) {
        return r(t, e)
    }
}, function (t, e, n) {
    "use strict";
    var r = function (t) {
            return function (t) {
                return !!t && "object" == typeof t
            }(t) && ! function (t) {
                var e = Object.prototype.toString.call(t);
                return "[object RegExp]" === e || "[object Date]" === e || function (t) {
                    return t.$$typeof === o
                }(t)
            }(t)
        },
        o = "function" == typeof Symbol && Symbol.for ? Symbol.for("react.element") : 60103;

    function i(t, e) {
        return !1 !== e.clone && e.isMergeableObject(t) ? c((n = t, Array.isArray(n) ? [] : {}), t, e) : t;
        var n
    }

    function a(t, e, n) {
        return t.concat(e).map((function (t) {
            return i(t, n)
        }))
    }

    function s(t) {
        return Object.keys(t).concat(function (t) {
            return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(t).filter((function (e) {
                return t.propertyIsEnumerable(e)
            })) : []
        }(t))
    }

    function u(t, e) {
        try {
            return e in t
        } catch (t) {
            return !1
        }
    }

    function c(t, e, n) {
        (n = n || {}).arrayMerge = n.arrayMerge || a, n.isMergeableObject = n.isMergeableObject || r, n.cloneUnlessOtherwiseSpecified = i;
        var o = Array.isArray(e);
        return o === Array.isArray(t) ? o ? n.arrayMerge(t, e, n) : function (t, e, n) {
            var r = {};
            return n.isMergeableObject(t) && s(t).forEach((function (e) {
                r[e] = i(t[e], n)
            })), s(e).forEach((function (o) {
                (function (t, e) {
                    return u(t, e) && !(Object.hasOwnProperty.call(t, e) && Object.propertyIsEnumerable.call(t, e))
                })(t, o) || (u(t, o) && n.isMergeableObject(e[o]) ? r[o] = function (t, e) {
                    if (!e.customMerge) return c;
                    var n = e.customMerge(t);
                    return "function" == typeof n ? n : c
                }(o, n)(t[o], e[o], n) : r[o] = i(e[o], n))
            })), r
        }(t, e, n) : i(e, n)
    }
    c.all = function (t, e) {
        if (!Array.isArray(t)) throw new Error("first argument should be an array");
        return t.reduce((function (t, n) {
            return c(t, n, e)
        }), {})
    };
    var l = c;
    t.exports = l
}, function (t, e, n) {
    var r = n(270),
        o = n(155),
        i = n(271),
        a = o((function (t, e) {
            return i(t) ? r(t, e) : []
        }));
    t.exports = a
}, function (t, e, n) {
    var r = n(44);
    t.exports = (r.default || r).template({
        compiler: [8, ">= 4.3.0"],
        main: function (t, e, n, r, o) {
            var i, a = null != e ? e : t.nullContext || {},
                s = t.hooks.helperMissing,
                u = t.escapeExpression,
                c = t.lookupProperty || function (t, e) {
                    if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
                };
            return '<a class="item" style="background-image: url(' + u("function" == typeof (i = null != (i = c(n, "imagePath") || (null != e ? c(e, "imagePath") : e)) ? i : s) ? i.call(a, {
                name: "imagePath",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 1,
                        column: 45
                    },
                    end: {
                        line: 1,
                        column: 58
                    }
                }
            }) : i) + ');" data-id="' + u("function" == typeof (i = null != (i = c(n, "id") || (null != e ? c(e, "id") : e)) ? i : s) ? i.call(a, {
                name: "id",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 1,
                        column: 71
                    },
                    end: {
                        line: 1,
                        column: 77
                    }
                }
            }) : i) + '"><div class="caption">' + u("function" == typeof (i = null != (i = c(n, "desc") || (null != e ? c(e, "desc") : e)) ? i : s) ? i.call(a, {
                name: "desc",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 1,
                        column: 100
                    },
                    end: {
                        line: 1,
                        column: 108
                    }
                }
            }) : i) + "</div></a>\r\n"
        },
        useData: !0
    })
}, function (t, e, n) {
    var r = n(44);
    t.exports = (r.default || r).template({
        1: function (t, e, n, r, o) {
            var i, a, s = null != e ? e : t.nullContext || {},
                u = t.hooks.helperMissing,
                c = "function",
                l = t.escapeExpression,
                h = t.lookupProperty || function (t, e) {
                    if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
                };
            return '    <a class="' + l(typeof (a = null != (a = h(n, "className") || (null != e ? h(e, "className") : e)) ? a : u) === c ? a.call(s, {
                name: "className",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 14
                    },
                    end: {
                        line: 2,
                        column: 27
                    }
                }
            }) : a) + ' d-flex justify-content-between" id="' + l(typeof (a = null != (a = h(n, "id") || (null != e ? h(e, "id") : e)) ? a : u) === c ? a.call(s, {
                name: "id",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 64
                    },
                    end: {
                        line: 2,
                        column: 70
                    }
                }
            }) : a) + '"><span class="vehicle item"><i class="fa fa-' + l(typeof (a = null != (a = h(n, "icon") || (null != e ? h(e, "icon") : e)) ? a : u) === c ? a.call(s, {
                name: "icon",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 115
                    },
                    end: {
                        line: 2,
                        column: 123
                    }
                }
            }) : a) + '" style="color: ' + l(typeof (a = null != (a = h(n, "color") || (null != e ? h(e, "color") : e)) ? a : u) === c ? a.call(s, {
                name: "color",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 139
                    },
                    end: {
                        line: 2,
                        column: 148
                    }
                }
            }) : a) + ';"></i>\r\n        ' + (null != (i = typeof (a = null != (a = h(n, "name") || (null != e ? h(e, "name") : e)) ? a : u) === c ? a.call(s, {
                name: "name",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 3,
                        column: 8
                    },
                    end: {
                        line: 3,
                        column: 18
                    }
                }
            }) : a) ? i : "") + "</span>\r\n" + (null != (i = h(n, "if").call(s, null != e ? h(e, "countOrRange") : e, {
                name: "if",
                hash: {},
                fn: t.program(2, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 4,
                        column: 8
                    },
                    end: {
                        line: 9,
                        column: 15
                    }
                }
            })) ? i : "") + "    </a>\r\n"
        },
        2: function (t, e, n, r, o) {
            var i, a = null != e ? e : t.nullContext || {},
                s = t.lookupProperty || function (t, e) {
                    if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
                };
            return '            <span class="badge">\r\n                ' + (null != (i = s(n, "if").call(a, null != e ? s(e, "range") : e, {
                name: "if",
                hash: {},
                fn: t.program(3, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 6,
                        column: 16
                    },
                    end: {
                        line: 6,
                        column: 70
                    }
                }
            })) ? i : "") + "\r\n                " + (null != (i = s(n, "if").call(a, null != e ? s(e, "count") : e, {
                name: "if",
                hash: {},
                fn: t.program(5, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 7,
                        column: 16
                    },
                    end: {
                        line: 7,
                        column: 70
                    }
                }
            })) ? i : "") + "\r\n            </span>\r\n"
        },
        3: function (t, e, n, r, o) {
            var i, a = t.lookupProperty || function (t, e) {
                if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
            };
            return '<div class="range">' + t.escapeExpression("function" == typeof (i = null != (i = a(n, "range") || (null != e ? a(e, "range") : e)) ? i : t.hooks.helperMissing) ? i.call(null != e ? e : t.nullContext || {}, {
                name: "range",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 6,
                        column: 48
                    },
                    end: {
                        line: 6,
                        column: 57
                    }
                }
            }) : i) + "</div>"
        },
        5: function (t, e, n, r, o) {
            var i, a = t.lookupProperty || function (t, e) {
                if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
            };
            return '<div class="count">' + t.escapeExpression("function" == typeof (i = null != (i = a(n, "count") || (null != e ? a(e, "count") : e)) ? i : t.hooks.helperMissing) ? i.call(null != e ? e : t.nullContext || {}, {
                name: "count",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 7,
                        column: 48
                    },
                    end: {
                        line: 7,
                        column: 57
                    }
                }
            }) : i) + "</div>"
        },
        compiler: [8, ">= 4.3.0"],
        main: function (t, e, n, r, o) {
            var i, a = t.lookupProperty || function (t, e) {
                if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
            };
            return null != (i = a(n, "each").call(null != e ? e : t.nullContext || {}, null != e ? a(e, "categories") : e, {
                name: "each",
                hash: {},
                fn: t.program(1, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 1,
                        column: 0
                    },
                    end: {
                        line: 11,
                        column: 9
                    }
                }
            })) ? i : ""
        },
        useData: !0
    })
}, function (t, e, n) {
    var r = n(44);
    t.exports = (r.default || r).template({
        1: function (t, e, n, r, o) {
            var i, a, s = null != e ? e : t.nullContext || {},
                u = t.hooks.helperMissing,
                c = t.escapeExpression,
                l = t.lookupProperty || function (t, e) {
                    if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
                };
            return '    <div class="map ' + (null != (i = l(n, "if").call(s, null != e ? l(e, "selected") : e, {
                name: "if",
                hash: {},
                fn: t.program(2, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 20
                    },
                    end: {
                        line: 2,
                        column: 51
                    }
                }
            })) ? i : "") + '" data-id="' + c("function" == typeof (a = null != (a = l(n, "id") || (null != e ? l(e, "id") : e)) ? a : u) ? a.call(s, {
                name: "id",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 62
                    },
                    end: {
                        line: 2,
                        column: 68
                    }
                }
            }) : a) + '"><div class="icon ' + c("function" == typeof (a = null != (a = l(n, "id") || (null != e ? l(e, "id") : e)) ? a : u) ? a.call(s, {
                name: "id",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 87
                    },
                    end: {
                        line: 2,
                        column: 93
                    }
                }
            }) : a) + '"></div><div class="name"><span class="name-content">' + c("function" == typeof (a = null != (a = l(n, "name") || (null != e ? l(e, "name") : e)) ? a : u) ? a.call(s, {
                name: "name",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 146
                    },
                    end: {
                        line: 2,
                        column: 154
                    }
                }
            }) : a) + "</span></div></div>\r\n"
        },
        2: function (t, e, n, r, o) {
            return "selected"
        },
        compiler: [8, ">= 4.3.0"],
        main: function (t, e, n, r, o) {
            var i, a = t.lookupProperty || function (t, e) {
                if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
            };
            return null != (i = a(n, "each").call(null != e ? e : t.nullContext || {}, null != e ? a(e, "maps") : e, {
                name: "each",
                hash: {},
                fn: t.program(1, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 1,
                        column: 0
                    },
                    end: {
                        line: 3,
                        column: 9
                    }
                }
            })) ? i : ""
        },
        useData: !0
    })
}, function (t, e, n) {
    var r = n(44);
    t.exports = (r.default || r).template({
        compiler: [8, ">= 4.3.0"],
        main: function (t, e, n, r, o) {
            return '<h3 id="area-header"><label for="area-toggle">Areas</label><input type="checkbox" class="checkbox" name="area-toggle" id="area-toggle" checked="checked"></h3>\r\n<div id="area-control"></div>\r\n'
        },
        useData: !0
    })
}, function (t, e, n) {
    var r = n(44);
    t.exports = (r.default || r).template({
        compiler: [8, ">= 4.3.0"],
        main: function (t, e, n, r, o) {
            return '<h3 id="object-header"><label for="object-toggle">Meshes</label><input type="checkbox" class="checkbox" checked="checked" name="object-toggle" id="object-toggle"></h3>\r\n<div id="object-control"></div>\r\n'
        },
        useData: !0
    })
}, function (t, e, n) {
    var r = n(44);
    t.exports = (r.default || r).template({
        1: function (t, e, n, r, o) {
            var i, a = null != e ? e : t.nullContext || {},
                s = t.hooks.helperMissing,
                u = "function",
                c = t.escapeExpression,
                l = t.lookupProperty || function (t, e) {
                    if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
                };
            return '    <a class="' + c(typeof (i = null != (i = l(n, "className") || (null != e ? l(e, "className") : e)) ? i : s) === u ? i.call(a, {
                name: "className",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 14
                    },
                    end: {
                        line: 2,
                        column: 27
                    }
                }
            }) : i) + '" id="' + c(typeof (i = null != (i = l(n, "id") || (null != e ? l(e, "id") : e)) ? i : s) === u ? i.call(a, {
                name: "id",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 33
                    },
                    end: {
                        line: 2,
                        column: 39
                    }
                }
            }) : i) + '"><span class="overlay item"><i class="fa fa-' + c(typeof (i = null != (i = l(n, "icon") || (null != e ? l(e, "icon") : e)) ? i : s) === u ? i.call(a, {
                name: "icon",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 84
                    },
                    end: {
                        line: 2,
                        column: 92
                    }
                }
            }) : i) + '" style="color: ' + c(typeof (i = null != (i = l(n, "color") || (null != e ? l(e, "color") : e)) ? i : s) === u ? i.call(a, {
                name: "color",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 108
                    },
                    end: {
                        line: 2,
                        column: 117
                    }
                }
            }) : i) + '"></i> ' + c(typeof (i = null != (i = l(n, "name") || (null != e ? l(e, "name") : e)) ? i : s) === u ? i.call(a, {
                name: "name",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 124
                    },
                    end: {
                        line: 2,
                        column: 132
                    }
                }
            }) : i) + "</span></a>\r\n"
        },
        compiler: [8, ">= 4.3.0"],
        main: function (t, e, n, r, o) {
            var i, a = t.lookupProperty || function (t, e) {
                if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
            };
            return null != (i = a(n, "each").call(null != e ? e : t.nullContext || {}, null != e ? a(e, "overlays") : e, {
                name: "each",
                hash: {},
                fn: t.program(1, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 1,
                        column: 0
                    },
                    end: {
                        line: 3,
                        column: 9
                    }
                }
            })) ? i : ""
        },
        useData: !0
    })
}, function (t, e, n) {
    var r = n(44);
    t.exports = (r.default || r).template({
        1: function (t, e, n, r, o) {
            return 'checked="checked"'
        },
        3: function (t, e, n, r, o) {
            var i, a, s = null != e ? e : t.nullContext || {},
                u = t.hooks.helperMissing,
                c = t.escapeExpression,
                l = t.lookupProperty || function (t, e) {
                    if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
                };
            return '<div class="loot-item">\r\n    <input type="radio" id="loot-' + c("function" == typeof (a = null != (a = l(n, "group") || (null != e ? l(e, "group") : e)) ? a : u) ? a.call(s, {
                name: "group",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 7,
                        column: 33
                    },
                    end: {
                        line: 7,
                        column: 42
                    }
                }
            }) : a) + '" name="loot-radio" value="' + c("function" == typeof (a = null != (a = l(n, "group") || (null != e ? l(e, "group") : e)) ? a : u) ? a.call(s, {
                name: "group",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 7,
                        column: 69
                    },
                    end: {
                        line: 7,
                        column: 78
                    }
                }
            }) : a) + '" ' + (null != (i = l(n, "if").call(s, null != e ? l(e, "checked") : e, {
                name: "if",
                hash: {},
                fn: t.program(1, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 7,
                        column: 80
                    },
                    end: {
                        line: 7,
                        column: 119
                    }
                }
            })) ? i : "") + '>\r\n    <label for="loot-' + c("function" == typeof (a = null != (a = l(n, "group") || (null != e ? l(e, "group") : e)) ? a : u) ? a.call(s, {
                name: "group",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 8,
                        column: 21
                    },
                    end: {
                        line: 8,
                        column: 30
                    }
                }
            }) : a) + '">' + c("function" == typeof (a = null != (a = l(n, "name") || (null != e ? l(e, "name") : e)) ? a : u) ? a.call(s, {
                name: "name",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 8,
                        column: 32
                    },
                    end: {
                        line: 8,
                        column: 40
                    }
                }
            }) : a) + "</label>\r\n</div>\r\n"
        },
        compiler: [8, ">= 4.3.0"],
        main: function (t, e, n, r, o) {
            var i, a = null != e ? e : t.nullContext || {},
                s = t.lookupProperty || function (t, e) {
                    if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
                };
            return '<div class="loot-item">\r\n    <input type="radio" id="loot-all" name="loot-radio" value="all" ' + (null != (i = s(n, "if").call(a, null != e ? s(e, "allChecked") : e, {
                name: "if",
                hash: {},
                fn: t.program(1, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 2,
                        column: 68
                    },
                    end: {
                        line: 2,
                        column: 110
                    }
                }
            })) ? i : "") + '>\r\n    <label for="loot-all">All</label>\r\n</div>\r\n' + (null != (i = s(n, "each").call(a, null != e ? s(e, "lootTypes") : e, {
                name: "each",
                hash: {},
                fn: t.program(3, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 5,
                        column: 0
                    },
                    end: {
                        line: 10,
                        column: 9
                    }
                }
            })) ? i : "")
        },
        useData: !0
    })
}, function (t, e, n) {
    var r = n(44);
    t.exports = (r.default || r).template({
        1: function (t, e, n, r, o) {
            return '<div class="close-tooltip"><i class="fa fa-times-circle fa-1"></i></div>\r\n'
        },
        3: function (t, e, n, r, o) {
            var i, a = null != e ? e : t.nullContext || {},
                s = t.hooks.helperMissing,
                u = t.escapeExpression,
                c = t.lookupProperty || function (t, e) {
                    if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
                };
            return '<div class="time">\r\n    <span class="description">Sprinting:</span> <span class="value">' + u("function" == typeof (i = null != (i = c(n, "sprintTime") || (null != e ? c(e, "sprintTime") : e)) ? i : s) ? i.call(a, {
                name: "sprintTime",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 7,
                        column: 68
                    },
                    end: {
                        line: 7,
                        column: 82
                    }
                }
            }) : i) + '</span>\r\n</div>\r\n<div class="time">\r\n    <span class="description">Driving (' + u("function" == typeof (i = null != (i = c(n, "driveSpeed") || (null != e ? c(e, "driveSpeed") : e)) ? i : s) ? i.call(a, {
                name: "driveSpeed",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 10,
                        column: 39
                    },
                    end: {
                        line: 10,
                        column: 53
                    }
                }
            }) : i) + 'km/h):</span> <span class="value">' + u("function" == typeof (i = null != (i = c(n, "driveTime") || (null != e ? c(e, "driveTime") : e)) ? i : s) ? i.call(a, {
                name: "driveTime",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 10,
                        column: 87
                    },
                    end: {
                        line: 10,
                        column: 100
                    }
                }
            }) : i) + "</span>\r\n</div>\r\n"
        },
        compiler: [8, ">= 4.3.0"],
        main: function (t, e, n, r, o) {
            var i, a, s = null != e ? e : t.nullContext || {},
                u = t.lookupProperty || function (t, e) {
                    if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
                };
            return (null != (i = u(n, "if").call(s, null != e ? u(e, "close") : e, {
                name: "if",
                hash: {},
                fn: t.program(1, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 1,
                        column: 0
                    },
                    end: {
                        line: 3,
                        column: 7
                    }
                }
            })) ? i : "") + "<p>" + t.escapeExpression("function" == typeof (a = null != (a = u(n, "distance") || (null != e ? u(e, "distance") : e)) ? a : t.hooks.helperMissing) ? a.call(s, {
                name: "distance",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 4,
                        column: 3
                    },
                    end: {
                        line: 4,
                        column: 15
                    }
                }
            }) : a) + "</p>\r\n" + (null != (i = u(n, "if").call(s, null != e ? u(e, "sprintTime") : e, {
                name: "if",
                hash: {},
                fn: t.program(3, o, 0),
                inverse: t.noop,
                data: o,
                loc: {
                    start: {
                        line: 5,
                        column: 0
                    },
                    end: {
                        line: 12,
                        column: 7
                    }
                }
            })) ? i : "")
        },
        useData: !0
    })
}, function (t, e, n) {
    var r = n(302);
    t.exports = function (t) {
        return t && t.length ? r(t) : []
    }
}, function (t, e, n) {
    var r = n(44);
    t.exports = (r.default || r).template({
        compiler: [8, ">= 4.3.0"],
        main: function (t, e, n, r, o) {
            var i, a = t.lookupProperty || function (t, e) {
                if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]
            };
            return '<div class="close-tooltip"><i class="fa fa-times-circle fa-1"></i></div>\r\n<div class="content">\r\n    ' + t.escapeExpression("function" == typeof (i = null != (i = a(n, "content") || (null != e ? a(e, "content") : e)) ? i : t.hooks.helperMissing) ? i.call(null != e ? e : t.nullContext || {}, {
                name: "content",
                hash: {},
                data: o,
                loc: {
                    start: {
                        line: 3,
                        column: 4
                    },
                    end: {
                        line: 3,
                        column: 15
                    }
                }
            }) : i) + "\r\n</div>\r\n"
        },
        useData: !0
    })
}, function (t, e, n) {
    (function (n) {
        var r, o;
        void 0 === (o = "function" == typeof (r = function () {
            "use strict";

            function e(t, e, n) {
                var r = new XMLHttpRequest;
                r.open("GET", t), r.responseType = "blob", r.onload = function () {
                    a(r.response, e, n)
                }, r.onerror = function () {
                    console.error("could not download file")
                }, r.send()
            }

            function r(t) {
                var e = new XMLHttpRequest;
                e.open("HEAD", t, !1);
                try {
                    e.send()
                } catch (t) {}
                return 200 <= e.status && 299 >= e.status
            }

            function o(t) {
                try {
                    t.dispatchEvent(new MouseEvent("click"))
                } catch (n) {
                    var e = document.createEvent("MouseEvents");
                    e.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), t.dispatchEvent(e)
                }
            }
            var i = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof n && n.global === n ? n : void 0,
                a = i.saveAs || ("object" != typeof window || window !== i ? function () {} : "download" in HTMLAnchorElement.prototype ? function (t, n, a) {
                    var s = i.URL || i.webkitURL,
                        u = document.createElement("a");
                    n = n || t.name || "download", u.download = n, u.rel = "noopener", "string" == typeof t ? (u.href = t, u.origin === location.origin ? o(u) : r(u.href) ? e(t, n, a) : o(u, u.target = "_blank")) : (u.href = s.createObjectURL(t), setTimeout((function () {
                        s.revokeObjectURL(u.href)
                    }), 4e4), setTimeout((function () {
                        o(u)
                    }), 0))
                } : "msSaveOrOpenBlob" in navigator ? function (t, n, i) {
                    if (n = n || t.name || "download", "string" != typeof t) navigator.msSaveOrOpenBlob(function (t, e) {
                        return void 0 === e ? e = {
                            autoBom: !1
                        } : "object" != typeof e && (console.warn("Deprecated: Expected third argument to be a object"), e = {
                            autoBom: !e
                        }), e.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type) ? new Blob(["\ufeff", t], {
                            type: t.type
                        }) : t
                    }(t, i), n);
                    else if (r(t)) e(t, n, i);
                    else {
                        var a = document.createElement("a");
                        a.href = t, a.target = "_blank", setTimeout((function () {
                            o(a)
                        }))
                    }
                } : function (t, n, r, o) {
                    if ((o = o || open("", "_blank")) && (o.document.title = o.document.body.innerText = "downloading..."), "string" == typeof t) return e(t, n, r);
                    var a = "application/octet-stream" === t.type,
                        s = /constructor/i.test(i.HTMLElement) || i.safari,
                        u = /CriOS\/[\d]+/.test(navigator.userAgent);
                    if ((u || a && s) && "object" == typeof FileReader) {
                        var c = new FileReader;
                        c.onloadend = function () {
                            var t = c.result;
                            t = u ? t : t.replace(/^data:[^;]*;/, "data:attachment/file;"), o ? o.location.href = t : location = t, o = null
                        }, c.readAsDataURL(t)
                    } else {
                        var l = i.URL || i.webkitURL,
                            h = l.createObjectURL(t);
                        o ? o.location = h : location.href = h, o = null, setTimeout((function () {
                            l.revokeObjectURL(h)
                        }), 4e4)
                    }
                });
            i.saveAs = a.saveAs = a, t.exports = a
        }) ? r.apply(e, []) : r) || (t.exports = o)
    }).call(this, n(46))
}, , , , , , , , , , function (t, e, n) {
    n(306), t.exports = n(305)
}, function (t, e, n) {
    var r = n(13),
        o = n(91),
        i = r.WeakMap;
    t.exports = "function" == typeof i && /native code/.test(o(i))
}, function (t, e, n) {
    var r = n(48),
        o = n(75),
        i = n(96),
        a = n(23);
    t.exports = r("Reflect", "ownKeys") || function (t) {
        var e = o.f(a(t)),
            n = i.f;
        return n ? e.concat(n(t)) : e
    }
}, function (t, e, n) {
    var r = n(25),
        o = n(27),
        i = n(23),
        a = n(64);
    t.exports = r ? Object.defineProperties : function (t, e) {
        i(t);
        for (var n, r = a(e), s = r.length, u = 0; s > u;) o.f(t, n = r[u++], e[n]);
        return t
    }
}, function (t, e, n) {
    var r = n(32),
        o = n(75).f,
        i = {}.toString,
        a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
    t.exports.f = function (t) {
        return a && "[object Window]" == i.call(t) ? function (t) {
            try {
                return o(t)
            } catch (t) {
                return a.slice()
            }
        }(t) : o(r(t))
    }
}, function (t, e, n) {
    "use strict";
    var r = n(66),
        o = n(36),
        i = n(126),
        a = n(127),
        s = n(41),
        u = n(78),
        c = n(128);
    t.exports = function (t) {
        var e, n, l, h, f, p, d = o(t),
            y = "function" == typeof this ? this : Array,
            g = arguments.length,
            v = g > 1 ? arguments[1] : void 0,
            m = void 0 !== v,
            _ = c(d),
            b = 0;
        if (m && (v = r(v, g > 2 ? arguments[2] : void 0, 2)), null == _ || y == Array && a(_))
            for (n = new y(e = s(d.length)); e > b; b++) p = m ? v(d[b], b) : d[b], u(n, b, p);
        else
            for (f = (h = _.call(d)).next, n = new y; !(l = f.call(h)).done; b++) p = m ? i(h, v, [l.value, b], !0) : l.value, u(n, b, p);
        return n.length = b, n
    }
}, function (t, e, n) {
    "use strict";
    var r = n(130).IteratorPrototype,
        o = n(55),
        i = n(59),
        a = n(65),
        s = n(69),
        u = function () {
            return this
        };
    t.exports = function (t, e, n) {
        var c = e + " Iterator";
        return t.prototype = o(r, {
            next: i(1, n)
        }), a(t, c, !1, !0), s[c] = u, t
    }
}, function (t, e, n) {
    var r = n(17);
    t.exports = function (t) {
        if (!r(t) && null !== t) throw TypeError("Can't set " + String(t) + " as a prototype");
        return t
    }
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(60),
        i = n(32),
        a = n(80),
        s = [].join,
        u = o != Object,
        c = a("join", ",");
    r({
        target: "Array",
        proto: !0,
        forced: u || !c
    }, {
        join: function (t) {
            return s.call(i(this), void 0 === t ? "," : t)
        }
    })
}, function (t, e, n) {
    var r = n(49),
        o = n(36),
        i = n(60),
        a = n(41),
        s = function (t) {
            return function (e, n, s, u) {
                r(n);
                var c = o(e),
                    l = i(c),
                    h = a(c.length),
                    f = t ? h - 1 : 0,
                    p = t ? -1 : 1;
                if (s < 2)
                    for (;;) {
                        if (f in l) {
                            u = l[f], f += p;
                            break
                        }
                        if (f += p, t ? f < 0 : h <= f) throw TypeError("Reduce of empty array with no initial value")
                    }
                for (; t ? f >= 0 : h > f; f += p) f in l && (u = n(u, l[f], f, c));
                return u
            }
        };
    t.exports = {
        left: s(!1),
        right: s(!0)
    }
}, function (t, e, n) {
    var r = n(33);
    t.exports = function (t) {
        if ("number" != typeof t && "Number" != r(t)) throw TypeError("Incorrect invocation");
        return +t
    }
}, function (t, e, n) {
    "use strict";
    var r = n(54),
        o = n(45);
    t.exports = "".repeat || function (t) {
        var e = String(o(this)),
            n = "",
            i = r(t);
        if (i < 0 || i == 1 / 0) throw RangeError("Wrong number of repetitions");
        for (; i > 0;
            (i >>>= 1) && (e += e)) 1 & i && (n += e);
        return n
    }
}, function (t, e, n) {
    "use strict";
    var r = n(25),
        o = n(8),
        i = n(64),
        a = n(96),
        s = n(72),
        u = n(36),
        c = n(60),
        l = Object.assign,
        h = Object.defineProperty;
    t.exports = !l || o((function () {
        if (r && 1 !== l({
                b: 1
            }, l(h({}, "a", {
                enumerable: !0,
                get: function () {
                    h(this, "b", {
                        value: 3,
                        enumerable: !1
                    })
                }
            }), {
                b: 2
            })).b) return !0;
        var t = {},
            e = {},
            n = Symbol();
        return t[n] = 7, "abcdefghijklmnopqrst".split("").forEach((function (t) {
            e[t] = t
        })), 7 != l({}, t)[n] || "abcdefghijklmnopqrst" != i(l({}, e)).join("")
    })) ? function (t, e) {
        for (var n = u(t), o = arguments.length, l = 1, h = a.f, f = s.f; o > l;)
            for (var p, d = c(arguments[l++]), y = h ? i(d).concat(h(d)) : i(d), g = y.length, v = 0; g > v;) p = y[v++], r && !f.call(d, p) || (n[p] = d[p]);
        return n
    } : l
}, function (t, e, n) {
    "use strict";
    var r = n(100),
        o = n(129);
    t.exports = r ? {}.toString : function () {
        return "[object " + o(this) + "]"
    }
}, function (t, e, n) {
    var r = n(13);
    t.exports = r.Promise
}, function (t, e, n) {
    var r, o, i, a, s, u, c, l, h = n(13),
        f = n(47).f,
        p = n(33),
        d = n(140).set,
        y = n(141),
        g = h.MutationObserver || h.WebKitMutationObserver,
        v = h.process,
        m = h.Promise,
        _ = "process" == p(v),
        b = f(h, "queueMicrotask"),
        x = b && b.value;
    x || (r = function () {
        var t, e;
        for (_ && (t = v.domain) && t.exit(); o;) {
            e = o.fn, o = o.next;
            try {
                e()
            } catch (t) {
                throw o ? a() : i = void 0, t
            }
        }
        i = void 0, t && t.enter()
    }, _ ? a = function () {
        v.nextTick(r)
    } : g && !y ? (s = !0, u = document.createTextNode(""), new g(r).observe(u, {
        characterData: !0
    }), a = function () {
        u.data = s = !s
    }) : m && m.resolve ? (c = m.resolve(void 0), l = c.then, a = function () {
        l.call(c, r)
    }) : a = function () {
        d.call(h, r)
    }), t.exports = x || function (t) {
        var e = {
            fn: t,
            next: void 0
        };
        i && (i.next = e), o || (o = e, a()), i = e
    }
}, function (t, e, n) {
    var r = n(23),
        o = n(17),
        i = n(142);
    t.exports = function (t, e) {
        if (r(t), o(e) && e.constructor === t) return e;
        var n = i.f(t);
        return (0, n.resolve)(e), n.promise
    }
}, function (t, e, n) {
    var r = n(13);
    t.exports = function (t, e) {
        var n = r.console;
        n && n.error && (1 === arguments.length ? n.error(t) : n.error(t, e))
    }
}, function (t, e) {
    t.exports = function (t) {
        try {
            return {
                error: !1,
                value: t()
            }
        } catch (t) {
            return {
                error: !0,
                value: t
            }
        }
    }
}, function (t, e, n) {
    "use strict";
    var r = n(8);

    function o(t, e) {
        return RegExp(t, e)
    }
    e.UNSUPPORTED_Y = r((function () {
        var t = o("a", "y");
        return t.lastIndex = 2, null != t.exec("abcd")
    })), e.BROKEN_CARET = r((function () {
        var t = o("^r", "gy");
        return t.lastIndex = 2, null != t.exec("str")
    }))
}, function (t, e, n) {
    var r = n(144);
    t.exports = function (t) {
        if (r(t)) throw TypeError("The method doesn't accept regular expressions");
        return t
    }
}, function (t, e, n) {
    var r = n(14)("match");
    t.exports = function (t) {
        var e = /./;
        try {
            "/./" [t](e)
        } catch (n) {
            try {
                return e[r] = !1, "/./" [t](e)
            } catch (t) {}
        }
        return !1
    }
}, function (t, e, n) {
    "use strict";
    var r = n(146),
        o = n(23),
        i = n(45),
        a = n(213),
        s = n(147);
    r("search", 1, (function (t, e, n) {
        return [function (e) {
            var n = i(this),
                r = null == e ? void 0 : e[t];
            return void 0 !== r ? r.call(e, n) : new RegExp(e)[t](String(n))
        }, function (t) {
            var r = n(e, t, this);
            if (r.done) return r.value;
            var i = o(t),
                u = String(this),
                c = i.lastIndex;
            a(c, 0) || (i.lastIndex = 0);
            var l = s(i, u);
            return a(i.lastIndex, c) || (i.lastIndex = c), null === l ? -1 : l.index
        }]
    }))
}, function (t, e) {
    t.exports = Object.is || function (t, e) {
        return t === e ? 0 !== t || 1 / t == 1 / e : t != t && e != e
    }
}, function (t, e, n) {
    "use strict";
    var r = n(146),
        o = n(144),
        i = n(23),
        a = n(45),
        s = n(139),
        u = n(215),
        c = n(41),
        l = n(147),
        h = n(86),
        f = n(8),
        p = [].push,
        d = Math.min,
        y = !f((function () {
            return !RegExp(4294967295, "y")
        }));
    r("split", 2, (function (t, e, n) {
        var r;
        return r = "c" == "abbc".split(/(b)*/)[1] || 4 != "test".split(/(?:)/, -1).length || 2 != "ab".split(/(?:ab)*/).length || 4 != ".".split(/(.?)(.?)/).length || ".".split(/()()/).length > 1 || "".split(/.?/).length ? function (t, n) {
            var r = String(a(this)),
                i = void 0 === n ? 4294967295 : n >>> 0;
            if (0 === i) return [];
            if (void 0 === t) return [r];
            if (!o(t)) return e.call(r, t, i);
            for (var s, u, c, l = [], f = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.unicode ? "u" : "") + (t.sticky ? "y" : ""), d = 0, y = new RegExp(t.source, f + "g");
                (s = h.call(y, r)) && !((u = y.lastIndex) > d && (l.push(r.slice(d, s.index)), s.length > 1 && s.index < r.length && p.apply(l, s.slice(1)), c = s[0].length, d = u, l.length >= i));) y.lastIndex === s.index && y.lastIndex++;
            return d === r.length ? !c && y.test("") || l.push("") : l.push(r.slice(d)), l.length > i ? l.slice(0, i) : l
        } : "0".split(void 0, 0).length ? function (t, n) {
            return void 0 === t && 0 === n ? [] : e.call(this, t, n)
        } : e, [function (e, n) {
            var o = a(this),
                i = null == e ? void 0 : e[t];
            return void 0 !== i ? i.call(e, o, n) : r.call(String(o), e, n)
        }, function (t, o) {
            var a = n(r, t, this, o, r !== e);
            if (a.done) return a.value;
            var h = i(t),
                f = String(this),
                p = s(h, RegExp),
                g = h.unicode,
                v = (h.ignoreCase ? "i" : "") + (h.multiline ? "m" : "") + (h.unicode ? "u" : "") + (y ? "y" : "g"),
                m = new p(y ? h : "^(?:" + h.source + ")", v),
                _ = void 0 === o ? 4294967295 : o >>> 0;
            if (0 === _) return [];
            if (0 === f.length) return null === l(m, f) ? [f] : [];
            for (var b = 0, x = 0, w = []; x < f.length;) {
                m.lastIndex = y ? x : 0;
                var S, C = l(m, y ? f : f.slice(x));
                if (null === C || (S = d(c(m.lastIndex + (y ? 0 : x)), f.length)) === b) x = u(f, x, g);
                else {
                    if (w.push(f.slice(b, x)), w.length === _) return w;
                    for (var E = 1; E <= C.length - 1; E++)
                        if (w.push(C[E]), w.length === _) return w;
                    x = b = S
                }
            }
            return w.push(f.slice(b)), w
        }]
    }), !y)
}, function (t, e, n) {
    "use strict";
    var r = n(145).charAt;
    t.exports = function (t, e, n) {
        return e + (n ? r(t, e).length : 1)
    }
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(134).trim;
    r({
        target: "String",
        proto: !0,
        forced: n(217)("trim")
    }, {
        trim: function () {
            return o(this)
        }
    })
}, function (t, e, n) {
    var r = n(8),
        o = n(135);
    t.exports = function (t) {
        return r((function () {
            return !!o[t]() || "â€‹Â…á Ž" != "â€‹Â…á Ž" [t]() || o[t].name !== t
        }))
    }
}, function (t, e, n) {
    var r = n(219),
        o = n(150);
    t.exports = function t(e, n, i, a, s) {
        return e === n || (null == e || null == n || !o(e) && !o(n) ? e != e && n != n : r(e, n, i, a, t, s))
    }
}, function (t, e, n) {
    var r = n(220),
        o = n(227),
        i = n(229),
        a = n(230),
        s = n(233),
        u = n(108),
        c = n(234),
        l = n(235),
        h = "[object Object]",
        f = Object.prototype.hasOwnProperty;
    t.exports = function (t, e, n, p, d, y) {
        var g = u(t),
            v = u(e),
            m = g ? "[object Array]" : s(t),
            _ = v ? "[object Array]" : s(e),
            b = (m = "[object Arguments]" == m ? h : m) == h,
            x = (_ = "[object Arguments]" == _ ? h : _) == h,
            w = m == _;
        if (w && c(t)) {
            if (!c(e)) return !1;
            g = !0, b = !1
        }
        if (w && !b) return y || (y = new r), g || l(t) ? o(t, e, n, p, d, y) : i(t, e, m, n, p, d, y);
        if (!(1 & n)) {
            var S = b && f.call(t, "__wrapped__"),
                C = x && f.call(e, "__wrapped__");
            if (S || C) {
                var E = S ? t.value() : t,
                    T = C ? e.value() : e;
                return y || (y = new r), d(E, T, n, p, y)
            }
        }
        return !!w && (y || (y = new r), a(t, e, n, p, d, y))
    }
}, function (t, e, n) {
    var r = n(221),
        o = n(222),
        i = n(224),
        a = n(225),
        s = n(226);

    function u(t) {
        var e = -1,
            n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n;) {
            var r = t[e];
            this.set(r[0], r[1])
        }
    }
    u.prototype.clear = r, u.prototype.delete = o, u.prototype.get = i, u.prototype.has = a, u.prototype.set = s, t.exports = u
}, function (t, e) {
    t.exports = function () {
        this.__data__ = [], this.size = 0
    }
}, function (t, e, n) {
    var r = n(87),
        o = Array.prototype.splice;
    t.exports = function (t) {
        var e = this.__data__,
            n = r(e, t);
        return !(n < 0 || (n == e.length - 1 ? e.pop() : o.call(e, n, 1), --this.size, 0))
    }
}, function (t, e) {
    t.exports = function (t, e) {
        return t === e || t != t && e != e
    }
}, function (t, e, n) {
    var r = n(87);
    t.exports = function (t) {
        var e = this.__data__,
            n = r(e, t);
        return n < 0 ? void 0 : e[n][1]
    }
}, function (t, e, n) {
    var r = n(87);
    t.exports = function (t) {
        return r(this.__data__, t) > -1
    }
}, function (t, e, n) {
    var r = n(87);
    t.exports = function (t, e) {
        var n = this.__data__,
            o = r(n, t);
        return o < 0 ? (++this.size, n.push([t, e])) : n[o][1] = e, this
    }
}, function (t, e, n) {
    var r = n(107),
        o = n(228),
        i = n(109);
    t.exports = function (t, e, n, a, s, u) {
        var c = 1 & n,
            l = t.length,
            h = e.length;
        if (l != h && !(c && h > l)) return !1;
        var f = u.get(t);
        if (f && u.get(e)) return f == e;
        var p = -1,
            d = !0,
            y = 2 & n ? new r : void 0;
        for (u.set(t, e), u.set(e, t); ++p < l;) {
            var g = t[p],
                v = e[p];
            if (a) var m = c ? a(v, g, p, e, t, u) : a(g, v, p, t, e, u);
            if (void 0 !== m) {
                if (m) continue;
                d = !1;
                break
            }
            if (y) {
                if (!o(e, (function (t, e) {
                        if (!i(y, e) && (g === t || s(g, t, n, a, u))) return y.push(e)
                    }))) {
                    d = !1;
                    break
                }
            } else if (g !== v && !s(g, v, n, a, u)) {
                d = !1;
                break
            }
        }
        return u.delete(t), u.delete(e), d
    }
}, function (t, e) {
    t.exports = function (t, e) {
        for (var n = -1, r = null == t ? 0 : t.length; ++n < r;)
            if (e(t[n], n, t)) return !0;
        return !1
    }
}, function (t, e) {
    t.exports = function (t, e) {
        return t === e || t != t && e != e
    }
}, function (t, e, n) {
    var r = n(231),
        o = Object.prototype.hasOwnProperty;
    t.exports = function (t, e, n, i, a, s) {
        var u = 1 & n,
            c = r(t),
            l = c.length;
        if (l != r(e).length && !u) return !1;
        for (var h = l; h--;) {
            var f = c[h];
            if (!(u ? f in e : o.call(e, f))) return !1
        }
        var p = s.get(t);
        if (p && s.get(e)) return p == e;
        var d = !0;
        s.set(t, e), s.set(e, t);
        for (var y = u; ++h < l;) {
            var g = t[f = c[h]],
                v = e[f];
            if (i) var m = u ? i(v, g, f, e, t, s) : i(g, v, f, t, e, s);
            if (!(void 0 === m ? g === v || a(g, v, n, i, s) : m)) {
                d = !1;
                break
            }
            y || (y = "constructor" == f)
        }
        if (d && !y) {
            var _ = t.constructor,
                b = e.constructor;
            _ == b || !("constructor" in t) || !("constructor" in e) || "function" == typeof _ && _ instanceof _ && "function" == typeof b && b instanceof b || (d = !1)
        }
        return s.delete(t), s.delete(e), d
    }
}, function (t, e, n) {
    var r = n(232)(Object.keys, Object);
    t.exports = r
}, function (t, e) {
    t.exports = function (t, e) {
        return function (n) {
            return t(e(n))
        }
    }
}, function (t, e) {
    var n = Object.prototype.toString;
    t.exports = function (t) {
        return n.call(t)
    }
}, function (t, e) {
    t.exports = function () {
        return !1
    }
}, function (t, e) {
    t.exports = function () {
        return !1
    }
}, function (t, e, n) {
    var r = n(110),
        o = n(237),
        i = n(240),
        a = Math.max,
        s = Math.min;
    t.exports = function (t, e, n) {
        var u, c, l, h, f, p, d = 0,
            y = !1,
            g = !1,
            v = !0;
        if ("function" != typeof t) throw new TypeError("Expected a function");

        function m(e) {
            var n = u,
                r = c;
            return u = c = void 0, d = e, h = t.apply(r, n)
        }

        function _(t) {
            return d = t, f = setTimeout(x, e), y ? m(t) : h
        }

        function b(t) {
            var n = t - p;
            return void 0 === p || n >= e || n < 0 || g && t - d >= l
        }

        function x() {
            var t = o();
            if (b(t)) return w(t);
            f = setTimeout(x, function (t) {
                var n = e - (t - p);
                return g ? s(n, l - (t - d)) : n
            }(t))
        }

        function w(t) {
            return f = void 0, v && u ? m(t) : (u = c = void 0, h)
        }

        function S() {
            var t = o(),
                n = b(t);
            if (u = arguments, c = this, p = t, n) {
                if (void 0 === f) return _(p);
                if (g) return clearTimeout(f), f = setTimeout(x, e), m(p)
            }
            return void 0 === f && (f = setTimeout(x, e)), h
        }
        return e = i(e) || 0, r(n) && (y = !!n.leading, l = (g = "maxWait" in n) ? a(i(n.maxWait) || 0, e) : l, v = "trailing" in n ? !!n.trailing : v), S.cancel = function () {
            void 0 !== f && clearTimeout(f), d = 0, u = p = c = f = void 0
        }, S.flush = function () {
            return void 0 === f ? h : w(o())
        }, S
    }
}, function (t, e, n) {
    var r = n(238);
    t.exports = function () {
        return r.Date.now()
    }
}, function (t, e, n) {
    var r = n(239),
        o = "object" == typeof self && self && self.Object === Object && self,
        i = r || o || Function("return this")();
    t.exports = i
}, function (t, e, n) {
    (function (e) {
        var n = "object" == typeof e && e && e.Object === Object && e;
        t.exports = n
    }).call(this, n(46))
}, function (t, e) {
    t.exports = function (t) {
        return t
    }
}, function (t, e) {
    t.exports = function (t) {
        return t && t.length ? t[0] : void 0
    }
}, function (t, e, n) {
    var r = n(151),
        o = n(152),
        i = n(243),
        a = n(244),
        s = n(153),
        u = n(245),
        c = n(154);
    t.exports = function (t, e, n) {
        var l = -1;
        e = r(e.length ? e : [c], s(o));
        var h = i(t, (function (t, n, o) {
            return {
                criteria: r(e, (function (e) {
                    return e(t)
                })),
                index: ++l,
                value: t
            }
        }));
        return a(h, (function (t, e) {
            return u(t, e, n)
        }))
    }
}, function (t, e) {
    t.exports = function (t, e) {
        for (var n = -1, r = null == t ? 0 : t.length, o = Array(r); ++n < r;) o[n] = e(t[n], n, t);
        return o
    }
}, function (t, e) {
    t.exports = function (t, e) {
        var n = t.length;
        for (t.sort(e); n--;) t[n] = t[n].value;
        return t
    }
}, function (t, e, n) {
    var r = n(246);
    t.exports = function (t, e, n) {
        for (var o = -1, i = t.criteria, a = e.criteria, s = i.length, u = n.length; ++o < s;) {
            var c = r(i[o], a[o]);
            if (c) return o >= u ? c : c * ("desc" == n[o] ? -1 : 1)
        }
        return t.index - e.index
    }
}, function (t, e, n) {
    var r = n(247);
    t.exports = function (t, e) {
        if (t !== e) {
            var n = void 0 !== t,
                o = null === t,
                i = t == t,
                a = r(t),
                s = void 0 !== e,
                u = null === e,
                c = e == e,
                l = r(e);
            if (!u && !l && !a && t > e || a && s && c && !u && !l || o && s && c || !n && c || !i) return 1;
            if (!o && !a && !l && t < e || l && n && i && !o && !a || u && n && i || !s && i || !c) return -1
        }
        return 0
    }
}, function (t, e) {
    t.exports = function () {
        return !1
    }
}, function (t, e, n) {
    var r = n(249),
        o = Math.max;
    t.exports = function (t, e, n) {
        return e = o(void 0 === e ? t.length - 1 : e, 0),
            function () {
                for (var i = arguments, a = -1, s = o(i.length - e, 0), u = Array(s); ++a < s;) u[a] = i[e + a];
                a = -1;
                for (var c = Array(e + 1); ++a < e;) c[a] = i[a];
                return c[e] = n(u), r(t, this, c)
            }
    }
}, function (t, e) {
    t.exports = function (t, e, n) {
        switch (n.length) {
            case 0:
                return t.call(e);
            case 1:
                return t.call(e, n[0]);
            case 2:
                return t.call(e, n[0], n[1]);
            case 3:
                return t.call(e, n[0], n[1], n[2])
        }
        return t.apply(e, n)
    }
}, function (t, e) {
    t.exports = function (t) {
        return t
    }
}, function (t, e) {
    t.exports = function () {
        return !1
    }
}, function (t, e, n) {
    (function (e) {
        t.exports = e.$ = n(253)
    }).call(this, n(46))
}, function (t, e, n) {
    var r;
    ! function (e, n) {
        "use strict";
        "object" == typeof t.exports ? t.exports = e.document ? n(e, !0) : function (t) {
            if (!t.document) throw new Error("jQuery requires a window with a document");
            return n(t)
        } : n(e)
    }("undefined" != typeof window ? window : this, (function (n, o) {
        "use strict";
        var i = [],
            a = n.document,
            s = Object.getPrototypeOf,
            u = i.slice,
            c = i.concat,
            l = i.push,
            h = i.indexOf,
            f = {},
            p = f.toString,
            d = f.hasOwnProperty,
            y = d.toString,
            g = y.call(Object),
            v = {},
            m = function (t) {
                return "function" == typeof t && "number" != typeof t.nodeType
            },
            _ = function (t) {
                return null != t && t === t.window
            },
            b = {
                type: !0,
                src: !0,
                nonce: !0,
                noModule: !0
            };

        function x(t, e, n) {
            var r, o, i = (n = n || a).createElement("script");
            if (i.text = t, e)
                for (r in b)(o = e[r] || e.getAttribute && e.getAttribute(r)) && i.setAttribute(r, o);
            n.head.appendChild(i).parentNode.removeChild(i)
        }

        function w(t) {
            return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? f[p.call(t)] || "object" : typeof t
        }
        var S = function (t, e) {
                return new S.fn.init(t, e)
            },
            C = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

        function E(t) {
            var e = !!t && "length" in t && t.length,
                n = w(t);
            return !m(t) && !_(t) && ("array" === n || 0 === e || "number" == typeof e && e > 0 && e - 1 in t)
        }
        S.fn = S.prototype = {
            jquery: "3.4.1",
            constructor: S,
            length: 0,
            toArray: function () {
                return u.call(this)
            },
            get: function (t) {
                return null == t ? u.call(this) : t < 0 ? this[t + this.length] : this[t]
            },
            pushStack: function (t) {
                var e = S.merge(this.constructor(), t);
                return e.prevObject = this, e
            },
            each: function (t) {
                return S.each(this, t)
            },
            map: function (t) {
                return this.pushStack(S.map(this, (function (e, n) {
                    return t.call(e, n, e)
                })))
            },
            slice: function () {
                return this.pushStack(u.apply(this, arguments))
            },
            first: function () {
                return this.eq(0)
            },
            last: function () {
                return this.eq(-1)
            },
            eq: function (t) {
                var e = this.length,
                    n = +t + (t < 0 ? e : 0);
                return this.pushStack(n >= 0 && n < e ? [this[n]] : [])
            },
            end: function () {
                return this.prevObject || this.constructor()
            },
            push: l,
            sort: i.sort,
            splice: i.splice
        }, S.extend = S.fn.extend = function () {
            var t, e, n, r, o, i, a = arguments[0] || {},
                s = 1,
                u = arguments.length,
                c = !1;
            for ("boolean" == typeof a && (c = a, a = arguments[s] || {}, s++), "object" == typeof a || m(a) || (a = {}), s === u && (a = this, s--); s < u; s++)
                if (null != (t = arguments[s]))
                    for (e in t) r = t[e], "__proto__" !== e && a !== r && (c && r && (S.isPlainObject(r) || (o = Array.isArray(r))) ? (n = a[e], i = o && !Array.isArray(n) ? [] : o || S.isPlainObject(n) ? n : {}, o = !1, a[e] = S.extend(c, i, r)) : void 0 !== r && (a[e] = r));
            return a
        }, S.extend({
            expando: "jQuery" + ("3.4.1" + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function (t) {
                throw new Error(t)
            },
            noop: function () {},
            isPlainObject: function (t) {
                var e, n;
                return !(!t || "[object Object]" !== p.call(t) || (e = s(t)) && ("function" != typeof (n = d.call(e, "constructor") && e.constructor) || y.call(n) !== g))
            },
            isEmptyObject: function (t) {
                var e;
                for (e in t) return !1;
                return !0
            },
            globalEval: function (t, e) {
                x(t, {
                    nonce: e && e.nonce
                })
            },
            each: function (t, e) {
                var n, r = 0;
                if (E(t))
                    for (n = t.length; r < n && !1 !== e.call(t[r], r, t[r]); r++);
                else
                    for (r in t)
                        if (!1 === e.call(t[r], r, t[r])) break;
                return t
            },
            trim: function (t) {
                return null == t ? "" : (t + "").replace(C, "")
            },
            makeArray: function (t, e) {
                var n = e || [];
                return null != t && (E(Object(t)) ? S.merge(n, "string" == typeof t ? [t] : t) : l.call(n, t)), n
            },
            inArray: function (t, e, n) {
                return null == e ? -1 : h.call(e, t, n)
            },
            merge: function (t, e) {
                for (var n = +e.length, r = 0, o = t.length; r < n; r++) t[o++] = e[r];
                return t.length = o, t
            },
            grep: function (t, e, n) {
                for (var r = [], o = 0, i = t.length, a = !n; o < i; o++) !e(t[o], o) !== a && r.push(t[o]);
                return r
            },
            map: function (t, e, n) {
                var r, o, i = 0,
                    a = [];
                if (E(t))
                    for (r = t.length; i < r; i++) null != (o = e(t[i], i, n)) && a.push(o);
                else
                    for (i in t) null != (o = e(t[i], i, n)) && a.push(o);
                return c.apply([], a)
            },
            guid: 1,
            support: v
        }), "function" == typeof Symbol && (S.fn[Symbol.iterator] = i[Symbol.iterator]), S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), (function (t, e) {
            f["[object " + e + "]"] = e.toLowerCase()
        }));
        var T = function (t) {
            var e, n, r, o, i, a, s, u, c, l, h, f, p, d, y, g, v, m, _, b = "sizzle" + 1 * new Date,
                x = t.document,
                w = 0,
                S = 0,
                C = ut(),
                E = ut(),
                T = ut(),
                O = ut(),
                P = function (t, e) {
                    return t === e && (h = !0), 0
                },
                A = {}.hasOwnProperty,
                R = [],
                I = R.pop,
                k = R.push,
                L = R.push,
                j = R.slice,
                M = function (t, e) {
                    for (var n = 0, r = t.length; n < r; n++)
                        if (t[n] === e) return n;
                    return -1
                },
                D = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                F = "[\\x20\\t\\r\\n\\f]",
                G = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
                N = "\\[" + F + "*(" + G + ")(?:" + F + "*([*^$|!~]?=)" + F + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + G + "))|)" + F + "*\\]",
                z = ":(" + G + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + N + ")*)|.*)\\)|)",
                B = new RegExp(F + "+", "g"),
                U = new RegExp("^" + F + "+|((?:^|[^\\\\])(?:\\\\.)*)" + F + "+$", "g"),
                X = new RegExp("^" + F + "*," + F + "*"),
                W = new RegExp("^" + F + "*([>+~]|" + F + ")" + F + "*"),
                V = new RegExp(F + "|>"),
                H = new RegExp(z),
                Y = new RegExp("^" + G + "$"),
                Z = {
                    ID: new RegExp("^#(" + G + ")"),
                    CLASS: new RegExp("^\\.(" + G + ")"),
                    TAG: new RegExp("^(" + G + "|[*])"),
                    ATTR: new RegExp("^" + N),
                    PSEUDO: new RegExp("^" + z),
                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + F + "*(even|odd|(([+-]|)(\\d*)n|)" + F + "*(?:([+-]|)" + F + "*(\\d+)|))" + F + "*\\)|)", "i"),
                    bool: new RegExp("^(?:" + D + ")$", "i"),
                    needsContext: new RegExp("^" + F + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + F + "*((?:-\\d)?\\d*)" + F + "*\\)|)(?=[^-]|$)", "i")
                },
                q = /HTML$/i,
                K = /^(?:input|select|textarea|button)$/i,
                $ = /^h\d$/i,
                J = /^[^{]+\{\s*\[native \w/,
                Q = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                tt = /[+~]/,
                et = new RegExp("\\\\([\\da-f]{1,6}" + F + "?|(" + F + ")|.)", "ig"),
                nt = function (t, e, n) {
                    var r = "0x" + e - 65536;
                    return r != r || n ? e : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
                },
                rt = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
                ot = function (t, e) {
                    return e ? "\0" === t ? "ï¿½" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t
                },
                it = function () {
                    f()
                },
                at = bt((function (t) {
                    return !0 === t.disabled && "fieldset" === t.nodeName.toLowerCase()
                }), {
                    dir: "parentNode",
                    next: "legend"
                });
            try {
                L.apply(R = j.call(x.childNodes), x.childNodes), R[x.childNodes.length].nodeType
            } catch (t) {
                L = {
                    apply: R.length ? function (t, e) {
                        k.apply(t, j.call(e))
                    } : function (t, e) {
                        for (var n = t.length, r = 0; t[n++] = e[r++];);
                        t.length = n - 1
                    }
                }
            }

            function st(t, e, r, o) {
                var i, s, c, l, h, d, v, m = e && e.ownerDocument,
                    w = e ? e.nodeType : 9;
                if (r = r || [], "string" != typeof t || !t || 1 !== w && 9 !== w && 11 !== w) return r;
                if (!o && ((e ? e.ownerDocument || e : x) !== p && f(e), e = e || p, y)) {
                    if (11 !== w && (h = Q.exec(t)))
                        if (i = h[1]) {
                            if (9 === w) {
                                if (!(c = e.getElementById(i))) return r;
                                if (c.id === i) return r.push(c), r
                            } else if (m && (c = m.getElementById(i)) && _(e, c) && c.id === i) return r.push(c), r
                        } else {
                            if (h[2]) return L.apply(r, e.getElementsByTagName(t)), r;
                            if ((i = h[3]) && n.getElementsByClassName && e.getElementsByClassName) return L.apply(r, e.getElementsByClassName(i)), r
                        } if (n.qsa && !O[t + " "] && (!g || !g.test(t)) && (1 !== w || "object" !== e.nodeName.toLowerCase())) {
                        if (v = t, m = e, 1 === w && V.test(t)) {
                            for ((l = e.getAttribute("id")) ? l = l.replace(rt, ot) : e.setAttribute("id", l = b), s = (d = a(t)).length; s--;) d[s] = "#" + l + " " + _t(d[s]);
                            v = d.join(","), m = tt.test(t) && vt(e.parentNode) || e
                        }
                        try {
                            return L.apply(r, m.querySelectorAll(v)), r
                        } catch (e) {
                            O(t, !0)
                        } finally {
                            l === b && e.removeAttribute("id")
                        }
                    }
                }
                return u(t.replace(U, "$1"), e, r, o)
            }

            function ut() {
                var t = [];
                return function e(n, o) {
                    return t.push(n + " ") > r.cacheLength && delete e[t.shift()], e[n + " "] = o
                }
            }

            function ct(t) {
                return t[b] = !0, t
            }

            function lt(t) {
                var e = p.createElement("fieldset");
                try {
                    return !!t(e)
                } catch (t) {
                    return !1
                } finally {
                    e.parentNode && e.parentNode.removeChild(e), e = null
                }
            }

            function ht(t, e) {
                for (var n = t.split("|"), o = n.length; o--;) r.attrHandle[n[o]] = e
            }

            function ft(t, e) {
                var n = e && t,
                    r = n && 1 === t.nodeType && 1 === e.nodeType && t.sourceIndex - e.sourceIndex;
                if (r) return r;
                if (n)
                    for (; n = n.nextSibling;)
                        if (n === e) return -1;
                return t ? 1 : -1
            }

            function pt(t) {
                return function (e) {
                    return "input" === e.nodeName.toLowerCase() && e.type === t
                }
            }

            function dt(t) {
                return function (e) {
                    var n = e.nodeName.toLowerCase();
                    return ("input" === n || "button" === n) && e.type === t
                }
            }

            function yt(t) {
                return function (e) {
                    return "form" in e ? e.parentNode && !1 === e.disabled ? "label" in e ? "label" in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && at(e) === t : e.disabled === t : "label" in e && e.disabled === t
                }
            }

            function gt(t) {
                return ct((function (e) {
                    return e = +e, ct((function (n, r) {
                        for (var o, i = t([], n.length, e), a = i.length; a--;) n[o = i[a]] && (n[o] = !(r[o] = n[o]))
                    }))
                }))
            }

            function vt(t) {
                return t && void 0 !== t.getElementsByTagName && t
            }
            for (e in n = st.support = {}, i = st.isXML = function (t) {
                    var e = t.namespaceURI,
                        n = (t.ownerDocument || t).documentElement;
                    return !q.test(e || n && n.nodeName || "HTML")
                }, f = st.setDocument = function (t) {
                    var e, o, a = t ? t.ownerDocument || t : x;
                    return a !== p && 9 === a.nodeType && a.documentElement ? (d = (p = a).documentElement, y = !i(p), x !== p && (o = p.defaultView) && o.top !== o && (o.addEventListener ? o.addEventListener("unload", it, !1) : o.attachEvent && o.attachEvent("onunload", it)), n.attributes = lt((function (t) {
                        return t.className = "i", !t.getAttribute("className")
                    })), n.getElementsByTagName = lt((function (t) {
                        return t.appendChild(p.createComment("")), !t.getElementsByTagName("*").length
                    })), n.getElementsByClassName = J.test(p.getElementsByClassName), n.getById = lt((function (t) {
                        return d.appendChild(t).id = b, !p.getElementsByName || !p.getElementsByName(b).length
                    })), n.getById ? (r.filter.ID = function (t) {
                        var e = t.replace(et, nt);
                        return function (t) {
                            return t.getAttribute("id") === e
                        }
                    }, r.find.ID = function (t, e) {
                        if (void 0 !== e.getElementById && y) {
                            var n = e.getElementById(t);
                            return n ? [n] : []
                        }
                    }) : (r.filter.ID = function (t) {
                        var e = t.replace(et, nt);
                        return function (t) {
                            var n = void 0 !== t.getAttributeNode && t.getAttributeNode("id");
                            return n && n.value === e
                        }
                    }, r.find.ID = function (t, e) {
                        if (void 0 !== e.getElementById && y) {
                            var n, r, o, i = e.getElementById(t);
                            if (i) {
                                if ((n = i.getAttributeNode("id")) && n.value === t) return [i];
                                for (o = e.getElementsByName(t), r = 0; i = o[r++];)
                                    if ((n = i.getAttributeNode("id")) && n.value === t) return [i]
                            }
                            return []
                        }
                    }), r.find.TAG = n.getElementsByTagName ? function (t, e) {
                        return void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t) : n.qsa ? e.querySelectorAll(t) : void 0
                    } : function (t, e) {
                        var n, r = [],
                            o = 0,
                            i = e.getElementsByTagName(t);
                        if ("*" === t) {
                            for (; n = i[o++];) 1 === n.nodeType && r.push(n);
                            return r
                        }
                        return i
                    }, r.find.CLASS = n.getElementsByClassName && function (t, e) {
                        if (void 0 !== e.getElementsByClassName && y) return e.getElementsByClassName(t)
                    }, v = [], g = [], (n.qsa = J.test(p.querySelectorAll)) && (lt((function (t) {
                        d.appendChild(t).innerHTML = "<a id='" + b + "'></a><select id='" + b + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && g.push("[*^$]=" + F + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || g.push("\\[" + F + "*(?:value|" + D + ")"), t.querySelectorAll("[id~=" + b + "-]").length || g.push("~="), t.querySelectorAll(":checked").length || g.push(":checked"), t.querySelectorAll("a#" + b + "+*").length || g.push(".#.+[+~]")
                    })), lt((function (t) {
                        t.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                        var e = p.createElement("input");
                        e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && g.push("name" + F + "*[*^$|!~]?="), 2 !== t.querySelectorAll(":enabled").length && g.push(":enabled", ":disabled"), d.appendChild(t).disabled = !0, 2 !== t.querySelectorAll(":disabled").length && g.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), g.push(",.*:")
                    }))), (n.matchesSelector = J.test(m = d.matches || d.webkitMatchesSelector || d.mozMatchesSelector || d.oMatchesSelector || d.msMatchesSelector)) && lt((function (t) {
                        n.disconnectedMatch = m.call(t, "*"), m.call(t, "[s!='']:x"), v.push("!=", z)
                    })), g = g.length && new RegExp(g.join("|")), v = v.length && new RegExp(v.join("|")), e = J.test(d.compareDocumentPosition), _ = e || J.test(d.contains) ? function (t, e) {
                        var n = 9 === t.nodeType ? t.documentElement : t,
                            r = e && e.parentNode;
                        return t === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(r)))
                    } : function (t, e) {
                        if (e)
                            for (; e = e.parentNode;)
                                if (e === t) return !0;
                        return !1
                    }, P = e ? function (t, e) {
                        if (t === e) return h = !0, 0;
                        var r = !t.compareDocumentPosition - !e.compareDocumentPosition;
                        return r || (1 & (r = (t.ownerDocument || t) === (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || !n.sortDetached && e.compareDocumentPosition(t) === r ? t === p || t.ownerDocument === x && _(x, t) ? -1 : e === p || e.ownerDocument === x && _(x, e) ? 1 : l ? M(l, t) - M(l, e) : 0 : 4 & r ? -1 : 1)
                    } : function (t, e) {
                        if (t === e) return h = !0, 0;
                        var n, r = 0,
                            o = t.parentNode,
                            i = e.parentNode,
                            a = [t],
                            s = [e];
                        if (!o || !i) return t === p ? -1 : e === p ? 1 : o ? -1 : i ? 1 : l ? M(l, t) - M(l, e) : 0;
                        if (o === i) return ft(t, e);
                        for (n = t; n = n.parentNode;) a.unshift(n);
                        for (n = e; n = n.parentNode;) s.unshift(n);
                        for (; a[r] === s[r];) r++;
                        return r ? ft(a[r], s[r]) : a[r] === x ? -1 : s[r] === x ? 1 : 0
                    }, p) : p
                }, st.matches = function (t, e) {
                    return st(t, null, null, e)
                }, st.matchesSelector = function (t, e) {
                    if ((t.ownerDocument || t) !== p && f(t), n.matchesSelector && y && !O[e + " "] && (!v || !v.test(e)) && (!g || !g.test(e))) try {
                        var r = m.call(t, e);
                        if (r || n.disconnectedMatch || t.document && 11 !== t.document.nodeType) return r
                    } catch (t) {
                        O(e, !0)
                    }
                    return st(e, p, null, [t]).length > 0
                }, st.contains = function (t, e) {
                    return (t.ownerDocument || t) !== p && f(t), _(t, e)
                }, st.attr = function (t, e) {
                    (t.ownerDocument || t) !== p && f(t);
                    var o = r.attrHandle[e.toLowerCase()],
                        i = o && A.call(r.attrHandle, e.toLowerCase()) ? o(t, e, !y) : void 0;
                    return void 0 !== i ? i : n.attributes || !y ? t.getAttribute(e) : (i = t.getAttributeNode(e)) && i.specified ? i.value : null
                }, st.escape = function (t) {
                    return (t + "").replace(rt, ot)
                }, st.error = function (t) {
                    throw new Error("Syntax error, unrecognized expression: " + t)
                }, st.uniqueSort = function (t) {
                    var e, r = [],
                        o = 0,
                        i = 0;
                    if (h = !n.detectDuplicates, l = !n.sortStable && t.slice(0), t.sort(P), h) {
                        for (; e = t[i++];) e === t[i] && (o = r.push(i));
                        for (; o--;) t.splice(r[o], 1)
                    }
                    return l = null, t
                }, o = st.getText = function (t) {
                    var e, n = "",
                        r = 0,
                        i = t.nodeType;
                    if (i) {
                        if (1 === i || 9 === i || 11 === i) {
                            if ("string" == typeof t.textContent) return t.textContent;
                            for (t = t.firstChild; t; t = t.nextSibling) n += o(t)
                        } else if (3 === i || 4 === i) return t.nodeValue
                    } else
                        for (; e = t[r++];) n += o(e);
                    return n
                }, (r = st.selectors = {
                    cacheLength: 50,
                    createPseudo: ct,
                    match: Z,
                    attrHandle: {},
                    find: {},
                    relative: {
                        ">": {
                            dir: "parentNode",
                            first: !0
                        },
                        " ": {
                            dir: "parentNode"
                        },
                        "+": {
                            dir: "previousSibling",
                            first: !0
                        },
                        "~": {
                            dir: "previousSibling"
                        }
                    },
                    preFilter: {
                        ATTR: function (t) {
                            return t[1] = t[1].replace(et, nt), t[3] = (t[3] || t[4] || t[5] || "").replace(et, nt), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4)
                        },
                        CHILD: function (t) {
                            return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || st.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && st.error(t[0]), t
                        },
                        PSEUDO: function (t) {
                            var e, n = !t[6] && t[2];
                            return Z.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : n && H.test(n) && (e = a(n, !0)) && (e = n.indexOf(")", n.length - e) - n.length) && (t[0] = t[0].slice(0, e), t[2] = n.slice(0, e)), t.slice(0, 3))
                        }
                    },
                    filter: {
                        TAG: function (t) {
                            var e = t.replace(et, nt).toLowerCase();
                            return "*" === t ? function () {
                                return !0
                            } : function (t) {
                                return t.nodeName && t.nodeName.toLowerCase() === e
                            }
                        },
                        CLASS: function (t) {
                            var e = C[t + " "];
                            return e || (e = new RegExp("(^|" + F + ")" + t + "(" + F + "|$)")) && C(t, (function (t) {
                                return e.test("string" == typeof t.className && t.className || void 0 !== t.getAttribute && t.getAttribute("class") || "")
                            }))
                        },
                        ATTR: function (t, e, n) {
                            return function (r) {
                                var o = st.attr(r, t);
                                return null == o ? "!=" === e : !e || (o += "", "=" === e ? o === n : "!=" === e ? o !== n : "^=" === e ? n && 0 === o.indexOf(n) : "*=" === e ? n && o.indexOf(n) > -1 : "$=" === e ? n && o.slice(-n.length) === n : "~=" === e ? (" " + o.replace(B, " ") + " ").indexOf(n) > -1 : "|=" === e && (o === n || o.slice(0, n.length + 1) === n + "-"))
                            }
                        },
                        CHILD: function (t, e, n, r, o) {
                            var i = "nth" !== t.slice(0, 3),
                                a = "last" !== t.slice(-4),
                                s = "of-type" === e;
                            return 1 === r && 0 === o ? function (t) {
                                return !!t.parentNode
                            } : function (e, n, u) {
                                var c, l, h, f, p, d, y = i !== a ? "nextSibling" : "previousSibling",
                                    g = e.parentNode,
                                    v = s && e.nodeName.toLowerCase(),
                                    m = !u && !s,
                                    _ = !1;
                                if (g) {
                                    if (i) {
                                        for (; y;) {
                                            for (f = e; f = f[y];)
                                                if (s ? f.nodeName.toLowerCase() === v : 1 === f.nodeType) return !1;
                                            d = y = "only" === t && !d && "nextSibling"
                                        }
                                        return !0
                                    }
                                    if (d = [a ? g.firstChild : g.lastChild], a && m) {
                                        for (_ = (p = (c = (l = (h = (f = g)[b] || (f[b] = {}))[f.uniqueID] || (h[f.uniqueID] = {}))[t] || [])[0] === w && c[1]) && c[2], f = p && g.childNodes[p]; f = ++p && f && f[y] || (_ = p = 0) || d.pop();)
                                            if (1 === f.nodeType && ++_ && f === e) {
                                                l[t] = [w, p, _];
                                                break
                                            }
                                    } else if (m && (_ = p = (c = (l = (h = (f = e)[b] || (f[b] = {}))[f.uniqueID] || (h[f.uniqueID] = {}))[t] || [])[0] === w && c[1]), !1 === _)
                                        for (;
                                            (f = ++p && f && f[y] || (_ = p = 0) || d.pop()) && ((s ? f.nodeName.toLowerCase() !== v : 1 !== f.nodeType) || !++_ || (m && ((l = (h = f[b] || (f[b] = {}))[f.uniqueID] || (h[f.uniqueID] = {}))[t] = [w, _]), f !== e)););
                                    return (_ -= o) === r || _ % r == 0 && _ / r >= 0
                                }
                            }
                        },
                        PSEUDO: function (t, e) {
                            var n, o = r.pseudos[t] || r.setFilters[t.toLowerCase()] || st.error("unsupported pseudo: " + t);
                            return o[b] ? o(e) : o.length > 1 ? (n = [t, t, "", e], r.setFilters.hasOwnProperty(t.toLowerCase()) ? ct((function (t, n) {
                                for (var r, i = o(t, e), a = i.length; a--;) t[r = M(t, i[a])] = !(n[r] = i[a])
                            })) : function (t) {
                                return o(t, 0, n)
                            }) : o
                        }
                    },
                    pseudos: {
                        not: ct((function (t) {
                            var e = [],
                                n = [],
                                r = s(t.replace(U, "$1"));
                            return r[b] ? ct((function (t, e, n, o) {
                                for (var i, a = r(t, null, o, []), s = t.length; s--;)(i = a[s]) && (t[s] = !(e[s] = i))
                            })) : function (t, o, i) {
                                return e[0] = t, r(e, null, i, n), e[0] = null, !n.pop()
                            }
                        })),
                        has: ct((function (t) {
                            return function (e) {
                                return st(t, e).length > 0
                            }
                        })),
                        contains: ct((function (t) {
                            return t = t.replace(et, nt),
                                function (e) {
                                    return (e.textContent || o(e)).indexOf(t) > -1
                                }
                        })),
                        lang: ct((function (t) {
                            return Y.test(t || "") || st.error("unsupported lang: " + t), t = t.replace(et, nt).toLowerCase(),
                                function (e) {
                                    var n;
                                    do {
                                        if (n = y ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (n = n.toLowerCase()) === t || 0 === n.indexOf(t + "-")
                                    } while ((e = e.parentNode) && 1 === e.nodeType);
                                    return !1
                                }
                        })),
                        target: function (e) {
                            var n = t.location && t.location.hash;
                            return n && n.slice(1) === e.id
                        },
                        root: function (t) {
                            return t === d
                        },
                        focus: function (t) {
                            return t === p.activeElement && (!p.hasFocus || p.hasFocus()) && !!(t.type || t.href || ~t.tabIndex)
                        },
                        enabled: yt(!1),
                        disabled: yt(!0),
                        checked: function (t) {
                            var e = t.nodeName.toLowerCase();
                            return "input" === e && !!t.checked || "option" === e && !!t.selected
                        },
                        selected: function (t) {
                            return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected
                        },
                        empty: function (t) {
                            for (t = t.firstChild; t; t = t.nextSibling)
                                if (t.nodeType < 6) return !1;
                            return !0
                        },
                        parent: function (t) {
                            return !r.pseudos.empty(t)
                        },
                        header: function (t) {
                            return $.test(t.nodeName)
                        },
                        input: function (t) {
                            return K.test(t.nodeName)
                        },
                        button: function (t) {
                            var e = t.nodeName.toLowerCase();
                            return "input" === e && "button" === t.type || "button" === e
                        },
                        text: function (t) {
                            var e;
                            return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase())
                        },
                        first: gt((function () {
                            return [0]
                        })),
                        last: gt((function (t, e) {
                            return [e - 1]
                        })),
                        eq: gt((function (t, e, n) {
                            return [n < 0 ? n + e : n]
                        })),
                        even: gt((function (t, e) {
                            for (var n = 0; n < e; n += 2) t.push(n);
                            return t
                        })),
                        odd: gt((function (t, e) {
                            for (var n = 1; n < e; n += 2) t.push(n);
                            return t
                        })),
                        lt: gt((function (t, e, n) {
                            for (var r = n < 0 ? n + e : n > e ? e : n; --r >= 0;) t.push(r);
                            return t
                        })),
                        gt: gt((function (t, e, n) {
                            for (var r = n < 0 ? n + e : n; ++r < e;) t.push(r);
                            return t
                        }))
                    }
                }).pseudos.nth = r.pseudos.eq, {
                    radio: !0,
                    checkbox: !0,
                    file: !0,
                    password: !0,
                    image: !0
                }) r.pseudos[e] = pt(e);
            for (e in {
                    submit: !0,
                    reset: !0
                }) r.pseudos[e] = dt(e);

            function mt() {}

            function _t(t) {
                for (var e = 0, n = t.length, r = ""; e < n; e++) r += t[e].value;
                return r
            }

            function bt(t, e, n) {
                var r = e.dir,
                    o = e.next,
                    i = o || r,
                    a = n && "parentNode" === i,
                    s = S++;
                return e.first ? function (e, n, o) {
                    for (; e = e[r];)
                        if (1 === e.nodeType || a) return t(e, n, o);
                    return !1
                } : function (e, n, u) {
                    var c, l, h, f = [w, s];
                    if (u) {
                        for (; e = e[r];)
                            if ((1 === e.nodeType || a) && t(e, n, u)) return !0
                    } else
                        for (; e = e[r];)
                            if (1 === e.nodeType || a)
                                if (l = (h = e[b] || (e[b] = {}))[e.uniqueID] || (h[e.uniqueID] = {}), o && o === e.nodeName.toLowerCase()) e = e[r] || e;
                                else {
                                    if ((c = l[i]) && c[0] === w && c[1] === s) return f[2] = c[2];
                                    if (l[i] = f, f[2] = t(e, n, u)) return !0
                                } return !1
                }
            }

            function xt(t) {
                return t.length > 1 ? function (e, n, r) {
                    for (var o = t.length; o--;)
                        if (!t[o](e, n, r)) return !1;
                    return !0
                } : t[0]
            }

            function wt(t, e, n, r, o) {
                for (var i, a = [], s = 0, u = t.length, c = null != e; s < u; s++)(i = t[s]) && (n && !n(i, r, o) || (a.push(i), c && e.push(s)));
                return a
            }

            function St(t, e, n, r, o, i) {
                return r && !r[b] && (r = St(r)), o && !o[b] && (o = St(o, i)), ct((function (i, a, s, u) {
                    var c, l, h, f = [],
                        p = [],
                        d = a.length,
                        y = i || function (t, e, n) {
                            for (var r = 0, o = e.length; r < o; r++) st(t, e[r], n);
                            return n
                        }(e || "*", s.nodeType ? [s] : s, []),
                        g = !t || !i && e ? y : wt(y, f, t, s, u),
                        v = n ? o || (i ? t : d || r) ? [] : a : g;
                    if (n && n(g, v, s, u), r)
                        for (c = wt(v, p), r(c, [], s, u), l = c.length; l--;)(h = c[l]) && (v[p[l]] = !(g[p[l]] = h));
                    if (i) {
                        if (o || t) {
                            if (o) {
                                for (c = [], l = v.length; l--;)(h = v[l]) && c.push(g[l] = h);
                                o(null, v = [], c, u)
                            }
                            for (l = v.length; l--;)(h = v[l]) && (c = o ? M(i, h) : f[l]) > -1 && (i[c] = !(a[c] = h))
                        }
                    } else v = wt(v === a ? v.splice(d, v.length) : v), o ? o(null, a, v, u) : L.apply(a, v)
                }))
            }

            function Ct(t) {
                for (var e, n, o, i = t.length, a = r.relative[t[0].type], s = a || r.relative[" "], u = a ? 1 : 0, l = bt((function (t) {
                        return t === e
                    }), s, !0), h = bt((function (t) {
                        return M(e, t) > -1
                    }), s, !0), f = [function (t, n, r) {
                        var o = !a && (r || n !== c) || ((e = n).nodeType ? l(t, n, r) : h(t, n, r));
                        return e = null, o
                    }]; u < i; u++)
                    if (n = r.relative[t[u].type]) f = [bt(xt(f), n)];
                    else {
                        if ((n = r.filter[t[u].type].apply(null, t[u].matches))[b]) {
                            for (o = ++u; o < i && !r.relative[t[o].type]; o++);
                            return St(u > 1 && xt(f), u > 1 && _t(t.slice(0, u - 1).concat({
                                value: " " === t[u - 2].type ? "*" : ""
                            })).replace(U, "$1"), n, u < o && Ct(t.slice(u, o)), o < i && Ct(t = t.slice(o)), o < i && _t(t))
                        }
                        f.push(n)
                    } return xt(f)
            }
            return mt.prototype = r.filters = r.pseudos, r.setFilters = new mt, a = st.tokenize = function (t, e) {
                var n, o, i, a, s, u, c, l = E[t + " "];
                if (l) return e ? 0 : l.slice(0);
                for (s = t, u = [], c = r.preFilter; s;) {
                    for (a in n && !(o = X.exec(s)) || (o && (s = s.slice(o[0].length) || s), u.push(i = [])), n = !1, (o = W.exec(s)) && (n = o.shift(), i.push({
                            value: n,
                            type: o[0].replace(U, " ")
                        }), s = s.slice(n.length)), r.filter) !(o = Z[a].exec(s)) || c[a] && !(o = c[a](o)) || (n = o.shift(), i.push({
                        value: n,
                        type: a,
                        matches: o
                    }), s = s.slice(n.length));
                    if (!n) break
                }
                return e ? s.length : s ? st.error(t) : E(t, u).slice(0)
            }, s = st.compile = function (t, e) {
                var n, o = [],
                    i = [],
                    s = T[t + " "];
                if (!s) {
                    for (e || (e = a(t)), n = e.length; n--;)(s = Ct(e[n]))[b] ? o.push(s) : i.push(s);
                    (s = T(t, function (t, e) {
                        var n = e.length > 0,
                            o = t.length > 0,
                            i = function (i, a, s, u, l) {
                                var h, d, g, v = 0,
                                    m = "0",
                                    _ = i && [],
                                    b = [],
                                    x = c,
                                    S = i || o && r.find.TAG("*", l),
                                    C = w += null == x ? 1 : Math.random() || .1,
                                    E = S.length;
                                for (l && (c = a === p || a || l); m !== E && null != (h = S[m]); m++) {
                                    if (o && h) {
                                        for (d = 0, a || h.ownerDocument === p || (f(h), s = !y); g = t[d++];)
                                            if (g(h, a || p, s)) {
                                                u.push(h);
                                                break
                                            } l && (w = C)
                                    }
                                    n && ((h = !g && h) && v--, i && _.push(h))
                                }
                                if (v += m, n && m !== v) {
                                    for (d = 0; g = e[d++];) g(_, b, a, s);
                                    if (i) {
                                        if (v > 0)
                                            for (; m--;) _[m] || b[m] || (b[m] = I.call(u));
                                        b = wt(b)
                                    }
                                    L.apply(u, b), l && !i && b.length > 0 && v + e.length > 1 && st.uniqueSort(u)
                                }
                                return l && (w = C, c = x), _
                            };
                        return n ? ct(i) : i
                    }(i, o))).selector = t
                }
                return s
            }, u = st.select = function (t, e, n, o) {
                var i, u, c, l, h, f = "function" == typeof t && t,
                    p = !o && a(t = f.selector || t);
                if (n = n || [], 1 === p.length) {
                    if ((u = p[0] = p[0].slice(0)).length > 2 && "ID" === (c = u[0]).type && 9 === e.nodeType && y && r.relative[u[1].type]) {
                        if (!(e = (r.find.ID(c.matches[0].replace(et, nt), e) || [])[0])) return n;
                        f && (e = e.parentNode), t = t.slice(u.shift().value.length)
                    }
                    for (i = Z.needsContext.test(t) ? 0 : u.length; i-- && (c = u[i], !r.relative[l = c.type]);)
                        if ((h = r.find[l]) && (o = h(c.matches[0].replace(et, nt), tt.test(u[0].type) && vt(e.parentNode) || e))) {
                            if (u.splice(i, 1), !(t = o.length && _t(u))) return L.apply(n, o), n;
                            break
                        }
                }
                return (f || s(t, p))(o, e, !y, n, !e || tt.test(t) && vt(e.parentNode) || e), n
            }, n.sortStable = b.split("").sort(P).join("") === b, n.detectDuplicates = !!h, f(), n.sortDetached = lt((function (t) {
                return 1 & t.compareDocumentPosition(p.createElement("fieldset"))
            })), lt((function (t) {
                return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href")
            })) || ht("type|href|height|width", (function (t, e, n) {
                if (!n) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2)
            })), n.attributes && lt((function (t) {
                return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value")
            })) || ht("value", (function (t, e, n) {
                if (!n && "input" === t.nodeName.toLowerCase()) return t.defaultValue
            })), lt((function (t) {
                return null == t.getAttribute("disabled")
            })) || ht(D, (function (t, e, n) {
                var r;
                if (!n) return !0 === t[e] ? e.toLowerCase() : (r = t.getAttributeNode(e)) && r.specified ? r.value : null
            })), st
        }(n);
        S.find = T, S.expr = T.selectors, S.expr[":"] = S.expr.pseudos, S.uniqueSort = S.unique = T.uniqueSort, S.text = T.getText, S.isXMLDoc = T.isXML, S.contains = T.contains, S.escapeSelector = T.escape;
        var O = function (t, e, n) {
                for (var r = [], o = void 0 !== n;
                    (t = t[e]) && 9 !== t.nodeType;)
                    if (1 === t.nodeType) {
                        if (o && S(t).is(n)) break;
                        r.push(t)
                    } return r
            },
            P = function (t, e) {
                for (var n = []; t; t = t.nextSibling) 1 === t.nodeType && t !== e && n.push(t);
                return n
            },
            A = S.expr.match.needsContext;

        function R(t, e) {
            return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase()
        }
        var I = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

        function k(t, e, n) {
            return m(e) ? S.grep(t, (function (t, r) {
                return !!e.call(t, r, t) !== n
            })) : e.nodeType ? S.grep(t, (function (t) {
                return t === e !== n
            })) : "string" != typeof e ? S.grep(t, (function (t) {
                return h.call(e, t) > -1 !== n
            })) : S.filter(e, t, n)
        }
        S.filter = function (t, e, n) {
            var r = e[0];
            return n && (t = ":not(" + t + ")"), 1 === e.length && 1 === r.nodeType ? S.find.matchesSelector(r, t) ? [r] : [] : S.find.matches(t, S.grep(e, (function (t) {
                return 1 === t.nodeType
            })))
        }, S.fn.extend({
            find: function (t) {
                var e, n, r = this.length,
                    o = this;
                if ("string" != typeof t) return this.pushStack(S(t).filter((function () {
                    for (e = 0; e < r; e++)
                        if (S.contains(o[e], this)) return !0
                })));
                for (n = this.pushStack([]), e = 0; e < r; e++) S.find(t, o[e], n);
                return r > 1 ? S.uniqueSort(n) : n
            },
            filter: function (t) {
                return this.pushStack(k(this, t || [], !1))
            },
            not: function (t) {
                return this.pushStack(k(this, t || [], !0))
            },
            is: function (t) {
                return !!k(this, "string" == typeof t && A.test(t) ? S(t) : t || [], !1).length
            }
        });
        var L, j = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
        (S.fn.init = function (t, e, n) {
            var r, o;
            if (!t) return this;
            if (n = n || L, "string" == typeof t) {
                if (!(r = "<" === t[0] && ">" === t[t.length - 1] && t.length >= 3 ? [null, t, null] : j.exec(t)) || !r[1] && e) return !e || e.jquery ? (e || n).find(t) : this.constructor(e).find(t);
                if (r[1]) {
                    if (e = e instanceof S ? e[0] : e, S.merge(this, S.parseHTML(r[1], e && e.nodeType ? e.ownerDocument || e : a, !0)), I.test(r[1]) && S.isPlainObject(e))
                        for (r in e) m(this[r]) ? this[r](e[r]) : this.attr(r, e[r]);
                    return this
                }
                return (o = a.getElementById(r[2])) && (this[0] = o, this.length = 1), this
            }
            return t.nodeType ? (this[0] = t, this.length = 1, this) : m(t) ? void 0 !== n.ready ? n.ready(t) : t(S) : S.makeArray(t, this)
        }).prototype = S.fn, L = S(a);
        var M = /^(?:parents|prev(?:Until|All))/,
            D = {
                children: !0,
                contents: !0,
                next: !0,
                prev: !0
            };

        function F(t, e) {
            for (;
                (t = t[e]) && 1 !== t.nodeType;);
            return t
        }
        S.fn.extend({
            has: function (t) {
                var e = S(t, this),
                    n = e.length;
                return this.filter((function () {
                    for (var t = 0; t < n; t++)
                        if (S.contains(this, e[t])) return !0
                }))
            },
            closest: function (t, e) {
                var n, r = 0,
                    o = this.length,
                    i = [],
                    a = "string" != typeof t && S(t);
                if (!A.test(t))
                    for (; r < o; r++)
                        for (n = this[r]; n && n !== e; n = n.parentNode)
                            if (n.nodeType < 11 && (a ? a.index(n) > -1 : 1 === n.nodeType && S.find.matchesSelector(n, t))) {
                                i.push(n);
                                break
                            } return this.pushStack(i.length > 1 ? S.uniqueSort(i) : i)
            },
            index: function (t) {
                return t ? "string" == typeof t ? h.call(S(t), this[0]) : h.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function (t, e) {
                return this.pushStack(S.uniqueSort(S.merge(this.get(), S(t, e))))
            },
            addBack: function (t) {
                return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
            }
        }), S.each({
            parent: function (t) {
                var e = t.parentNode;
                return e && 11 !== e.nodeType ? e : null
            },
            parents: function (t) {
                return O(t, "parentNode")
            },
            parentsUntil: function (t, e, n) {
                return O(t, "parentNode", n)
            },
            next: function (t) {
                return F(t, "nextSibling")
            },
            prev: function (t) {
                return F(t, "previousSibling")
            },
            nextAll: function (t) {
                return O(t, "nextSibling")
            },
            prevAll: function (t) {
                return O(t, "previousSibling")
            },
            nextUntil: function (t, e, n) {
                return O(t, "nextSibling", n)
            },
            prevUntil: function (t, e, n) {
                return O(t, "previousSibling", n)
            },
            siblings: function (t) {
                return P((t.parentNode || {}).firstChild, t)
            },
            children: function (t) {
                return P(t.firstChild)
            },
            contents: function (t) {
                return void 0 !== t.contentDocument ? t.contentDocument : (R(t, "template") && (t = t.content || t), S.merge([], t.childNodes))
            }
        }, (function (t, e) {
            S.fn[t] = function (n, r) {
                var o = S.map(this, e, n);
                return "Until" !== t.slice(-5) && (r = n), r && "string" == typeof r && (o = S.filter(r, o)), this.length > 1 && (D[t] || S.uniqueSort(o), M.test(t) && o.reverse()), this.pushStack(o)
            }
        }));
        var G = /[^\x20\t\r\n\f]+/g;

        function N(t) {
            return t
        }

        function z(t) {
            throw t
        }

        function B(t, e, n, r) {
            var o;
            try {
                t && m(o = t.promise) ? o.call(t).done(e).fail(n) : t && m(o = t.then) ? o.call(t, e, n) : e.apply(void 0, [t].slice(r))
            } catch (t) {
                n.apply(void 0, [t])
            }
        }
        S.Callbacks = function (t) {
            t = "string" == typeof t ? function (t) {
                var e = {};
                return S.each(t.match(G) || [], (function (t, n) {
                    e[n] = !0
                })), e
            }(t) : S.extend({}, t);
            var e, n, r, o, i = [],
                a = [],
                s = -1,
                u = function () {
                    for (o = o || t.once, r = e = !0; a.length; s = -1)
                        for (n = a.shift(); ++s < i.length;) !1 === i[s].apply(n[0], n[1]) && t.stopOnFalse && (s = i.length, n = !1);
                    t.memory || (n = !1), e = !1, o && (i = n ? [] : "")
                },
                c = {
                    add: function () {
                        return i && (n && !e && (s = i.length - 1, a.push(n)), function e(n) {
                            S.each(n, (function (n, r) {
                                m(r) ? t.unique && c.has(r) || i.push(r) : r && r.length && "string" !== w(r) && e(r)
                            }))
                        }(arguments), n && !e && u()), this
                    },
                    remove: function () {
                        return S.each(arguments, (function (t, e) {
                            for (var n;
                                (n = S.inArray(e, i, n)) > -1;) i.splice(n, 1), n <= s && s--
                        })), this
                    },
                    has: function (t) {
                        return t ? S.inArray(t, i) > -1 : i.length > 0
                    },
                    empty: function () {
                        return i && (i = []), this
                    },
                    disable: function () {
                        return o = a = [], i = n = "", this
                    },
                    disabled: function () {
                        return !i
                    },
                    lock: function () {
                        return o = a = [], n || e || (i = n = ""), this
                    },
                    locked: function () {
                        return !!o
                    },
                    fireWith: function (t, n) {
                        return o || (n = [t, (n = n || []).slice ? n.slice() : n], a.push(n), e || u()), this
                    },
                    fire: function () {
                        return c.fireWith(this, arguments), this
                    },
                    fired: function () {
                        return !!r
                    }
                };
            return c
        }, S.extend({
            Deferred: function (t) {
                var e = [
                        ["notify", "progress", S.Callbacks("memory"), S.Callbacks("memory"), 2],
                        ["resolve", "done", S.Callbacks("once memory"), S.Callbacks("once memory"), 0, "resolved"],
                        ["reject", "fail", S.Callbacks("once memory"), S.Callbacks("once memory"), 1, "rejected"]
                    ],
                    r = "pending",
                    o = {
                        state: function () {
                            return r
                        },
                        always: function () {
                            return i.done(arguments).fail(arguments), this
                        },
                        catch: function (t) {
                            return o.then(null, t)
                        },
                        pipe: function () {
                            var t = arguments;
                            return S.Deferred((function (n) {
                                S.each(e, (function (e, r) {
                                    var o = m(t[r[4]]) && t[r[4]];
                                    i[r[1]]((function () {
                                        var t = o && o.apply(this, arguments);
                                        t && m(t.promise) ? t.promise().progress(n.notify).done(n.resolve).fail(n.reject) : n[r[0] + "With"](this, o ? [t] : arguments)
                                    }))
                                })), t = null
                            })).promise()
                        },
                        then: function (t, r, o) {
                            var i = 0;

                            function a(t, e, r, o) {
                                return function () {
                                    var s = this,
                                        u = arguments,
                                        c = function () {
                                            var n, c;
                                            if (!(t < i)) {
                                                if ((n = r.apply(s, u)) === e.promise()) throw new TypeError("Thenable self-resolution");
                                                c = n && ("object" == typeof n || "function" == typeof n) && n.then, m(c) ? o ? c.call(n, a(i, e, N, o), a(i, e, z, o)) : (i++, c.call(n, a(i, e, N, o), a(i, e, z, o), a(i, e, N, e.notifyWith))) : (r !== N && (s = void 0, u = [n]), (o || e.resolveWith)(s, u))
                                            }
                                        },
                                        l = o ? c : function () {
                                            try {
                                                c()
                                            } catch (n) {
                                                S.Deferred.exceptionHook && S.Deferred.exceptionHook(n, l.stackTrace), t + 1 >= i && (r !== z && (s = void 0, u = [n]), e.rejectWith(s, u))
                                            }
                                        };
                                    t ? l() : (S.Deferred.getStackHook && (l.stackTrace = S.Deferred.getStackHook()), n.setTimeout(l))
                                }
                            }
                            return S.Deferred((function (n) {
                                e[0][3].add(a(0, n, m(o) ? o : N, n.notifyWith)), e[1][3].add(a(0, n, m(t) ? t : N)), e[2][3].add(a(0, n, m(r) ? r : z))
                            })).promise()
                        },
                        promise: function (t) {
                            return null != t ? S.extend(t, o) : o
                        }
                    },
                    i = {};
                return S.each(e, (function (t, n) {
                    var a = n[2],
                        s = n[5];
                    o[n[1]] = a.add, s && a.add((function () {
                        r = s
                    }), e[3 - t][2].disable, e[3 - t][3].disable, e[0][2].lock, e[0][3].lock), a.add(n[3].fire), i[n[0]] = function () {
                        return i[n[0] + "With"](this === i ? void 0 : this, arguments), this
                    }, i[n[0] + "With"] = a.fireWith
                })), o.promise(i), t && t.call(i, i), i
            },
            when: function (t) {
                var e = arguments.length,
                    n = e,
                    r = Array(n),
                    o = u.call(arguments),
                    i = S.Deferred(),
                    a = function (t) {
                        return function (n) {
                            r[t] = this, o[t] = arguments.length > 1 ? u.call(arguments) : n, --e || i.resolveWith(r, o)
                        }
                    };
                if (e <= 1 && (B(t, i.done(a(n)).resolve, i.reject, !e), "pending" === i.state() || m(o[n] && o[n].then))) return i.then();
                for (; n--;) B(o[n], a(n), i.reject);
                return i.promise()
            }
        });
        var U = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
        S.Deferred.exceptionHook = function (t, e) {
            n.console && n.console.warn && t && U.test(t.name) && n.console.warn("jQuery.Deferred exception: " + t.message, t.stack, e)
        }, S.readyException = function (t) {
            n.setTimeout((function () {
                throw t
            }))
        };
        var X = S.Deferred();

        function W() {
            a.removeEventListener("DOMContentLoaded", W), n.removeEventListener("load", W), S.ready()
        }
        S.fn.ready = function (t) {
            return X.then(t).catch((function (t) {
                S.readyException(t)
            })), this
        }, S.extend({
            isReady: !1,
            readyWait: 1,
            ready: function (t) {
                (!0 === t ? --S.readyWait : S.isReady) || (S.isReady = !0, !0 !== t && --S.readyWait > 0 || X.resolveWith(a, [S]))
            }
        }), S.ready.then = X.then, "complete" === a.readyState || "loading" !== a.readyState && !a.documentElement.doScroll ? n.setTimeout(S.ready) : (a.addEventListener("DOMContentLoaded", W), n.addEventListener("load", W));
        var V = function (t, e, n, r, o, i, a) {
                var s = 0,
                    u = t.length,
                    c = null == n;
                if ("object" === w(n))
                    for (s in o = !0, n) V(t, e, s, n[s], !0, i, a);
                else if (void 0 !== r && (o = !0, m(r) || (a = !0), c && (a ? (e.call(t, r), e = null) : (c = e, e = function (t, e, n) {
                        return c.call(S(t), n)
                    })), e))
                    for (; s < u; s++) e(t[s], n, a ? r : r.call(t[s], s, e(t[s], n)));
                return o ? t : c ? e.call(t) : u ? e(t[0], n) : i
            },
            H = /^-ms-/,
            Y = /-([a-z])/g;

        function Z(t, e) {
            return e.toUpperCase()
        }

        function q(t) {
            return t.replace(H, "ms-").replace(Y, Z)
        }
        var K = function (t) {
            return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType
        };

        function $() {
            this.expando = S.expando + $.uid++
        }
        $.uid = 1, $.prototype = {
            cache: function (t) {
                var e = t[this.expando];
                return e || (e = {}, K(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, {
                    value: e,
                    configurable: !0
                }))), e
            },
            set: function (t, e, n) {
                var r, o = this.cache(t);
                if ("string" == typeof e) o[q(e)] = n;
                else
                    for (r in e) o[q(r)] = e[r];
                return o
            },
            get: function (t, e) {
                return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][q(e)]
            },
            access: function (t, e, n) {
                return void 0 === e || e && "string" == typeof e && void 0 === n ? this.get(t, e) : (this.set(t, e, n), void 0 !== n ? n : e)
            },
            remove: function (t, e) {
                var n, r = t[this.expando];
                if (void 0 !== r) {
                    if (void 0 !== e) {
                        n = (e = Array.isArray(e) ? e.map(q) : (e = q(e)) in r ? [e] : e.match(G) || []).length;
                        for (; n--;) delete r[e[n]]
                    }(void 0 === e || S.isEmptyObject(r)) && (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando])
                }
            },
            hasData: function (t) {
                var e = t[this.expando];
                return void 0 !== e && !S.isEmptyObject(e)
            }
        };
        var J = new $,
            Q = new $,
            tt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
            et = /[A-Z]/g;

        function nt(t, e, n) {
            var r;
            if (void 0 === n && 1 === t.nodeType)
                if (r = "data-" + e.replace(et, "-$&").toLowerCase(), "string" == typeof (n = t.getAttribute(r))) {
                    try {
                        n = function (t) {
                            return "true" === t || "false" !== t && ("null" === t ? null : t === +t + "" ? +t : tt.test(t) ? JSON.parse(t) : t)
                        }(n)
                    } catch (t) {}
                    Q.set(t, e, n)
                } else n = void 0;
            return n
        }
        S.extend({
            hasData: function (t) {
                return Q.hasData(t) || J.hasData(t)
            },
            data: function (t, e, n) {
                return Q.access(t, e, n)
            },
            removeData: function (t, e) {
                Q.remove(t, e)
            },
            _data: function (t, e, n) {
                return J.access(t, e, n)
            },
            _removeData: function (t, e) {
                J.remove(t, e)
            }
        }), S.fn.extend({
            data: function (t, e) {
                var n, r, o, i = this[0],
                    a = i && i.attributes;
                if (void 0 === t) {
                    if (this.length && (o = Q.get(i), 1 === i.nodeType && !J.get(i, "hasDataAttrs"))) {
                        for (n = a.length; n--;) a[n] && 0 === (r = a[n].name).indexOf("data-") && (r = q(r.slice(5)), nt(i, r, o[r]));
                        J.set(i, "hasDataAttrs", !0)
                    }
                    return o
                }
                return "object" == typeof t ? this.each((function () {
                    Q.set(this, t)
                })) : V(this, (function (e) {
                    var n;
                    if (i && void 0 === e) return void 0 !== (n = Q.get(i, t)) || void 0 !== (n = nt(i, t)) ? n : void 0;
                    this.each((function () {
                        Q.set(this, t, e)
                    }))
                }), null, e, arguments.length > 1, null, !0)
            },
            removeData: function (t) {
                return this.each((function () {
                    Q.remove(this, t)
                }))
            }
        }), S.extend({
            queue: function (t, e, n) {
                var r;
                if (t) return e = (e || "fx") + "queue", r = J.get(t, e), n && (!r || Array.isArray(n) ? r = J.access(t, e, S.makeArray(n)) : r.push(n)), r || []
            },
            dequeue: function (t, e) {
                e = e || "fx";
                var n = S.queue(t, e),
                    r = n.length,
                    o = n.shift(),
                    i = S._queueHooks(t, e);
                "inprogress" === o && (o = n.shift(), r--), o && ("fx" === e && n.unshift("inprogress"), delete i.stop, o.call(t, (function () {
                    S.dequeue(t, e)
                }), i)), !r && i && i.empty.fire()
            },
            _queueHooks: function (t, e) {
                var n = e + "queueHooks";
                return J.get(t, n) || J.access(t, n, {
                    empty: S.Callbacks("once memory").add((function () {
                        J.remove(t, [e + "queue", n])
                    }))
                })
            }
        }), S.fn.extend({
            queue: function (t, e) {
                var n = 2;
                return "string" != typeof t && (e = t, t = "fx", n--), arguments.length < n ? S.queue(this[0], t) : void 0 === e ? this : this.each((function () {
                    var n = S.queue(this, t, e);
                    S._queueHooks(this, t), "fx" === t && "inprogress" !== n[0] && S.dequeue(this, t)
                }))
            },
            dequeue: function (t) {
                return this.each((function () {
                    S.dequeue(this, t)
                }))
            },
            clearQueue: function (t) {
                return this.queue(t || "fx", [])
            },
            promise: function (t, e) {
                var n, r = 1,
                    o = S.Deferred(),
                    i = this,
                    a = this.length,
                    s = function () {
                        --r || o.resolveWith(i, [i])
                    };
                for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; a--;)(n = J.get(i[a], t + "queueHooks")) && n.empty && (r++, n.empty.add(s));
                return s(), o.promise(e)
            }
        });
        var rt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
            ot = new RegExp("^(?:([+-])=|)(" + rt + ")([a-z%]*)$", "i"),
            it = ["Top", "Right", "Bottom", "Left"],
            at = a.documentElement,
            st = function (t) {
                return S.contains(t.ownerDocument, t)
            },
            ut = {
                composed: !0
            };
        at.getRootNode && (st = function (t) {
            return S.contains(t.ownerDocument, t) || t.getRootNode(ut) === t.ownerDocument
        });
        var ct = function (t, e) {
                return "none" === (t = e || t).style.display || "" === t.style.display && st(t) && "none" === S.css(t, "display")
            },
            lt = function (t, e, n, r) {
                var o, i, a = {};
                for (i in e) a[i] = t.style[i], t.style[i] = e[i];
                for (i in o = n.apply(t, r || []), e) t.style[i] = a[i];
                return o
            };

        function ht(t, e, n, r) {
            var o, i, a = 20,
                s = r ? function () {
                    return r.cur()
                } : function () {
                    return S.css(t, e, "")
                },
                u = s(),
                c = n && n[3] || (S.cssNumber[e] ? "" : "px"),
                l = t.nodeType && (S.cssNumber[e] || "px" !== c && +u) && ot.exec(S.css(t, e));
            if (l && l[3] !== c) {
                for (u /= 2, c = c || l[3], l = +u || 1; a--;) S.style(t, e, l + c), (1 - i) * (1 - (i = s() / u || .5)) <= 0 && (a = 0), l /= i;
                l *= 2, S.style(t, e, l + c), n = n || []
            }
            return n && (l = +l || +u || 0, o = n[1] ? l + (n[1] + 1) * n[2] : +n[2], r && (r.unit = c, r.start = l, r.end = o)), o
        }
        var ft = {};

        function pt(t) {
            var e, n = t.ownerDocument,
                r = t.nodeName,
                o = ft[r];
            return o || (e = n.body.appendChild(n.createElement(r)), o = S.css(e, "display"), e.parentNode.removeChild(e), "none" === o && (o = "block"), ft[r] = o, o)
        }

        function dt(t, e) {
            for (var n, r, o = [], i = 0, a = t.length; i < a; i++)(r = t[i]).style && (n = r.style.display, e ? ("none" === n && (o[i] = J.get(r, "display") || null, o[i] || (r.style.display = "")), "" === r.style.display && ct(r) && (o[i] = pt(r))) : "none" !== n && (o[i] = "none", J.set(r, "display", n)));
            for (i = 0; i < a; i++) null != o[i] && (t[i].style.display = o[i]);
            return t
        }
        S.fn.extend({
            show: function () {
                return dt(this, !0)
            },
            hide: function () {
                return dt(this)
            },
            toggle: function (t) {
                return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each((function () {
                    ct(this) ? S(this).show() : S(this).hide()
                }))
            }
        });
        var yt = /^(?:checkbox|radio)$/i,
            gt = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
            vt = /^$|^module$|\/(?:java|ecma)script/i,
            mt = {
                option: [1, "<select multiple='multiple'>", "</select>"],
                thead: [1, "<table>", "</table>"],
                col: [2, "<table><colgroup>", "</colgroup></table>"],
                tr: [2, "<table><tbody>", "</tbody></table>"],
                td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                _default: [0, "", ""]
            };

        function _t(t, e) {
            var n;
            return n = void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e || "*") : void 0 !== t.querySelectorAll ? t.querySelectorAll(e || "*") : [], void 0 === e || e && R(t, e) ? S.merge([t], n) : n
        }

        function bt(t, e) {
            for (var n = 0, r = t.length; n < r; n++) J.set(t[n], "globalEval", !e || J.get(e[n], "globalEval"))
        }
        mt.optgroup = mt.option, mt.tbody = mt.tfoot = mt.colgroup = mt.caption = mt.thead, mt.th = mt.td;
        var xt, wt, St = /<|&#?\w+;/;

        function Ct(t, e, n, r, o) {
            for (var i, a, s, u, c, l, h = e.createDocumentFragment(), f = [], p = 0, d = t.length; p < d; p++)
                if ((i = t[p]) || 0 === i)
                    if ("object" === w(i)) S.merge(f, i.nodeType ? [i] : i);
                    else if (St.test(i)) {
                for (a = a || h.appendChild(e.createElement("div")), s = (gt.exec(i) || ["", ""])[1].toLowerCase(), u = mt[s] || mt._default, a.innerHTML = u[1] + S.htmlPrefilter(i) + u[2], l = u[0]; l--;) a = a.lastChild;
                S.merge(f, a.childNodes), (a = h.firstChild).textContent = ""
            } else f.push(e.createTextNode(i));
            for (h.textContent = "", p = 0; i = f[p++];)
                if (r && S.inArray(i, r) > -1) o && o.push(i);
                else if (c = st(i), a = _t(h.appendChild(i), "script"), c && bt(a), n)
                for (l = 0; i = a[l++];) vt.test(i.type || "") && n.push(i);
            return h
        }
        xt = a.createDocumentFragment().appendChild(a.createElement("div")), (wt = a.createElement("input")).setAttribute("type", "radio"), wt.setAttribute("checked", "checked"), wt.setAttribute("name", "t"), xt.appendChild(wt), v.checkClone = xt.cloneNode(!0).cloneNode(!0).lastChild.checked, xt.innerHTML = "<textarea>x</textarea>", v.noCloneChecked = !!xt.cloneNode(!0).lastChild.defaultValue;
        var Et = /^key/,
            Tt = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
            Ot = /^([^.]*)(?:\.(.+)|)/;

        function Pt() {
            return !0
        }

        function At() {
            return !1
        }

        function Rt(t, e) {
            return t === function () {
                try {
                    return a.activeElement
                } catch (t) {}
            }() == ("focus" === e)
        }

        function It(t, e, n, r, o, i) {
            var a, s;
            if ("object" == typeof e) {
                for (s in "string" != typeof n && (r = r || n, n = void 0), e) It(t, s, n, r, e[s], i);
                return t
            }
            if (null == r && null == o ? (o = n, r = n = void 0) : null == o && ("string" == typeof n ? (o = r, r = void 0) : (o = r, r = n, n = void 0)), !1 === o) o = At;
            else if (!o) return t;
            return 1 === i && (a = o, (o = function (t) {
                return S().off(t), a.apply(this, arguments)
            }).guid = a.guid || (a.guid = S.guid++)), t.each((function () {
                S.event.add(this, e, o, r, n)
            }))
        }

        function kt(t, e, n) {
            n ? (J.set(t, e, !1), S.event.add(t, e, {
                namespace: !1,
                handler: function (t) {
                    var r, o, i = J.get(this, e);
                    if (1 & t.isTrigger && this[e]) {
                        if (i.length)(S.event.special[e] || {}).delegateType && t.stopPropagation();
                        else if (i = u.call(arguments), J.set(this, e, i), r = n(this, e), this[e](), i !== (o = J.get(this, e)) || r ? J.set(this, e, !1) : o = {}, i !== o) return t.stopImmediatePropagation(), t.preventDefault(), o.value
                    } else i.length && (J.set(this, e, {
                        value: S.event.trigger(S.extend(i[0], S.Event.prototype), i.slice(1), this)
                    }), t.stopImmediatePropagation())
                }
            })) : void 0 === J.get(t, e) && S.event.add(t, e, Pt)
        }
        S.event = {
            global: {},
            add: function (t, e, n, r, o) {
                var i, a, s, u, c, l, h, f, p, d, y, g = J.get(t);
                if (g)
                    for (n.handler && (n = (i = n).handler, o = i.selector), o && S.find.matchesSelector(at, o), n.guid || (n.guid = S.guid++), (u = g.events) || (u = g.events = {}), (a = g.handle) || (a = g.handle = function (e) {
                            return void 0 !== S && S.event.triggered !== e.type ? S.event.dispatch.apply(t, arguments) : void 0
                        }), c = (e = (e || "").match(G) || [""]).length; c--;) p = y = (s = Ot.exec(e[c]) || [])[1], d = (s[2] || "").split(".").sort(), p && (h = S.event.special[p] || {}, p = (o ? h.delegateType : h.bindType) || p, h = S.event.special[p] || {}, l = S.extend({
                        type: p,
                        origType: y,
                        data: r,
                        handler: n,
                        guid: n.guid,
                        selector: o,
                        needsContext: o && S.expr.match.needsContext.test(o),
                        namespace: d.join(".")
                    }, i), (f = u[p]) || ((f = u[p] = []).delegateCount = 0, h.setup && !1 !== h.setup.call(t, r, d, a) || t.addEventListener && t.addEventListener(p, a)), h.add && (h.add.call(t, l), l.handler.guid || (l.handler.guid = n.guid)), o ? f.splice(f.delegateCount++, 0, l) : f.push(l), S.event.global[p] = !0)
            },
            remove: function (t, e, n, r, o) {
                var i, a, s, u, c, l, h, f, p, d, y, g = J.hasData(t) && J.get(t);
                if (g && (u = g.events)) {
                    for (c = (e = (e || "").match(G) || [""]).length; c--;)
                        if (p = y = (s = Ot.exec(e[c]) || [])[1], d = (s[2] || "").split(".").sort(), p) {
                            for (h = S.event.special[p] || {}, f = u[p = (r ? h.delegateType : h.bindType) || p] || [], s = s[2] && new RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)"), a = i = f.length; i--;) l = f[i], !o && y !== l.origType || n && n.guid !== l.guid || s && !s.test(l.namespace) || r && r !== l.selector && ("**" !== r || !l.selector) || (f.splice(i, 1), l.selector && f.delegateCount--, h.remove && h.remove.call(t, l));
                            a && !f.length && (h.teardown && !1 !== h.teardown.call(t, d, g.handle) || S.removeEvent(t, p, g.handle), delete u[p])
                        } else
                            for (p in u) S.event.remove(t, p + e[c], n, r, !0);
                    S.isEmptyObject(u) && J.remove(t, "handle events")
                }
            },
            dispatch: function (t) {
                var e, n, r, o, i, a, s = S.event.fix(t),
                    u = new Array(arguments.length),
                    c = (J.get(this, "events") || {})[s.type] || [],
                    l = S.event.special[s.type] || {};
                for (u[0] = s, e = 1; e < arguments.length; e++) u[e] = arguments[e];
                if (s.delegateTarget = this, !l.preDispatch || !1 !== l.preDispatch.call(this, s)) {
                    for (a = S.event.handlers.call(this, s, c), e = 0;
                        (o = a[e++]) && !s.isPropagationStopped();)
                        for (s.currentTarget = o.elem, n = 0;
                            (i = o.handlers[n++]) && !s.isImmediatePropagationStopped();) s.rnamespace && !1 !== i.namespace && !s.rnamespace.test(i.namespace) || (s.handleObj = i, s.data = i.data, void 0 !== (r = ((S.event.special[i.origType] || {}).handle || i.handler).apply(o.elem, u)) && !1 === (s.result = r) && (s.preventDefault(), s.stopPropagation()));
                    return l.postDispatch && l.postDispatch.call(this, s), s.result
                }
            },
            handlers: function (t, e) {
                var n, r, o, i, a, s = [],
                    u = e.delegateCount,
                    c = t.target;
                if (u && c.nodeType && !("click" === t.type && t.button >= 1))
                    for (; c !== this; c = c.parentNode || this)
                        if (1 === c.nodeType && ("click" !== t.type || !0 !== c.disabled)) {
                            for (i = [], a = {}, n = 0; n < u; n++) void 0 === a[o = (r = e[n]).selector + " "] && (a[o] = r.needsContext ? S(o, this).index(c) > -1 : S.find(o, this, null, [c]).length), a[o] && i.push(r);
                            i.length && s.push({
                                elem: c,
                                handlers: i
                            })
                        } return c = this, u < e.length && s.push({
                    elem: c,
                    handlers: e.slice(u)
                }), s
            },
            addProp: function (t, e) {
                Object.defineProperty(S.Event.prototype, t, {
                    enumerable: !0,
                    configurable: !0,
                    get: m(e) ? function () {
                        if (this.originalEvent) return e(this.originalEvent)
                    } : function () {
                        if (this.originalEvent) return this.originalEvent[t]
                    },
                    set: function (e) {
                        Object.defineProperty(this, t, {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0,
                            value: e
                        })
                    }
                })
            },
            fix: function (t) {
                return t[S.expando] ? t : new S.Event(t)
            },
            special: {
                load: {
                    noBubble: !0
                },
                click: {
                    setup: function (t) {
                        var e = this || t;
                        return yt.test(e.type) && e.click && R(e, "input") && kt(e, "click", Pt), !1
                    },
                    trigger: function (t) {
                        var e = this || t;
                        return yt.test(e.type) && e.click && R(e, "input") && kt(e, "click"), !0
                    },
                    _default: function (t) {
                        var e = t.target;
                        return yt.test(e.type) && e.click && R(e, "input") && J.get(e, "click") || R(e, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function (t) {
                        void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result)
                    }
                }
            }
        }, S.removeEvent = function (t, e, n) {
            t.removeEventListener && t.removeEventListener(e, n)
        }, S.Event = function (t, e) {
            if (!(this instanceof S.Event)) return new S.Event(t, e);
            t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && !1 === t.returnValue ? Pt : At, this.target = t.target && 3 === t.target.nodeType ? t.target.parentNode : t.target, this.currentTarget = t.currentTarget, this.relatedTarget = t.relatedTarget) : this.type = t, e && S.extend(this, e), this.timeStamp = t && t.timeStamp || Date.now(), this[S.expando] = !0
        }, S.Event.prototype = {
            constructor: S.Event,
            isDefaultPrevented: At,
            isPropagationStopped: At,
            isImmediatePropagationStopped: At,
            isSimulated: !1,
            preventDefault: function () {
                var t = this.originalEvent;
                this.isDefaultPrevented = Pt, t && !this.isSimulated && t.preventDefault()
            },
            stopPropagation: function () {
                var t = this.originalEvent;
                this.isPropagationStopped = Pt, t && !this.isSimulated && t.stopPropagation()
            },
            stopImmediatePropagation: function () {
                var t = this.originalEvent;
                this.isImmediatePropagationStopped = Pt, t && !this.isSimulated && t.stopImmediatePropagation(), this.stopPropagation()
            }
        }, S.each({
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            code: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: function (t) {
                var e = t.button;
                return null == t.which && Et.test(t.type) ? null != t.charCode ? t.charCode : t.keyCode : !t.which && void 0 !== e && Tt.test(t.type) ? 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 : t.which
            }
        }, S.event.addProp), S.each({
            focus: "focusin",
            blur: "focusout"
        }, (function (t, e) {
            S.event.special[t] = {
                setup: function () {
                    return kt(this, t, Rt), !1
                },
                trigger: function () {
                    return kt(this, t), !0
                },
                delegateType: e
            }
        })), S.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, (function (t, e) {
            S.event.special[t] = {
                delegateType: e,
                bindType: e,
                handle: function (t) {
                    var n, r = this,
                        o = t.relatedTarget,
                        i = t.handleObj;
                    return o && (o === r || S.contains(r, o)) || (t.type = i.origType, n = i.handler.apply(this, arguments), t.type = e), n
                }
            }
        })), S.fn.extend({
            on: function (t, e, n, r) {
                return It(this, t, e, n, r)
            },
            one: function (t, e, n, r) {
                return It(this, t, e, n, r, 1)
            },
            off: function (t, e, n) {
                var r, o;
                if (t && t.preventDefault && t.handleObj) return r = t.handleObj, S(t.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler), this;
                if ("object" == typeof t) {
                    for (o in t) this.off(o, e, t[o]);
                    return this
                }
                return !1 !== e && "function" != typeof e || (n = e, e = void 0), !1 === n && (n = At), this.each((function () {
                    S.event.remove(this, t, n, e)
                }))
            }
        });
        var Lt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
            jt = /<script|<style|<link/i,
            Mt = /checked\s*(?:[^=]|=\s*.checked.)/i,
            Dt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

        function Ft(t, e) {
            return R(t, "table") && R(11 !== e.nodeType ? e : e.firstChild, "tr") && S(t).children("tbody")[0] || t
        }

        function Gt(t) {
            return t.type = (null !== t.getAttribute("type")) + "/" + t.type, t
        }

        function Nt(t) {
            return "true/" === (t.type || "").slice(0, 5) ? t.type = t.type.slice(5) : t.removeAttribute("type"), t
        }

        function zt(t, e) {
            var n, r, o, i, a, s, u, c;
            if (1 === e.nodeType) {
                if (J.hasData(t) && (i = J.access(t), a = J.set(e, i), c = i.events))
                    for (o in delete a.handle, a.events = {}, c)
                        for (n = 0, r = c[o].length; n < r; n++) S.event.add(e, o, c[o][n]);
                Q.hasData(t) && (s = Q.access(t), u = S.extend({}, s), Q.set(e, u))
            }
        }

        function Bt(t, e) {
            var n = e.nodeName.toLowerCase();
            "input" === n && yt.test(t.type) ? e.checked = t.checked : "input" !== n && "textarea" !== n || (e.defaultValue = t.defaultValue)
        }

        function Ut(t, e, n, r) {
            e = c.apply([], e);
            var o, i, a, s, u, l, h = 0,
                f = t.length,
                p = f - 1,
                d = e[0],
                y = m(d);
            if (y || f > 1 && "string" == typeof d && !v.checkClone && Mt.test(d)) return t.each((function (o) {
                var i = t.eq(o);
                y && (e[0] = d.call(this, o, i.html())), Ut(i, e, n, r)
            }));
            if (f && (i = (o = Ct(e, t[0].ownerDocument, !1, t, r)).firstChild, 1 === o.childNodes.length && (o = i), i || r)) {
                for (s = (a = S.map(_t(o, "script"), Gt)).length; h < f; h++) u = o, h !== p && (u = S.clone(u, !0, !0), s && S.merge(a, _t(u, "script"))), n.call(t[h], u, h);
                if (s)
                    for (l = a[a.length - 1].ownerDocument, S.map(a, Nt), h = 0; h < s; h++) u = a[h], vt.test(u.type || "") && !J.access(u, "globalEval") && S.contains(l, u) && (u.src && "module" !== (u.type || "").toLowerCase() ? S._evalUrl && !u.noModule && S._evalUrl(u.src, {
                        nonce: u.nonce || u.getAttribute("nonce")
                    }) : x(u.textContent.replace(Dt, ""), u, l))
            }
            return t
        }

        function Xt(t, e, n) {
            for (var r, o = e ? S.filter(e, t) : t, i = 0; null != (r = o[i]); i++) n || 1 !== r.nodeType || S.cleanData(_t(r)), r.parentNode && (n && st(r) && bt(_t(r, "script")), r.parentNode.removeChild(r));
            return t
        }
        S.extend({
            htmlPrefilter: function (t) {
                return t.replace(Lt, "<$1></$2>")
            },
            clone: function (t, e, n) {
                var r, o, i, a, s = t.cloneNode(!0),
                    u = st(t);
                if (!(v.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || S.isXMLDoc(t)))
                    for (a = _t(s), r = 0, o = (i = _t(t)).length; r < o; r++) Bt(i[r], a[r]);
                if (e)
                    if (n)
                        for (i = i || _t(t), a = a || _t(s), r = 0, o = i.length; r < o; r++) zt(i[r], a[r]);
                    else zt(t, s);
                return (a = _t(s, "script")).length > 0 && bt(a, !u && _t(t, "script")), s
            },
            cleanData: function (t) {
                for (var e, n, r, o = S.event.special, i = 0; void 0 !== (n = t[i]); i++)
                    if (K(n)) {
                        if (e = n[J.expando]) {
                            if (e.events)
                                for (r in e.events) o[r] ? S.event.remove(n, r) : S.removeEvent(n, r, e.handle);
                            n[J.expando] = void 0
                        }
                        n[Q.expando] && (n[Q.expando] = void 0)
                    }
            }
        }), S.fn.extend({
            detach: function (t) {
                return Xt(this, t, !0)
            },
            remove: function (t) {
                return Xt(this, t)
            },
            text: function (t) {
                return V(this, (function (t) {
                    return void 0 === t ? S.text(this) : this.empty().each((function () {
                        1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t)
                    }))
                }), null, t, arguments.length)
            },
            append: function () {
                return Ut(this, arguments, (function (t) {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Ft(this, t).appendChild(t)
                }))
            },
            prepend: function () {
                return Ut(this, arguments, (function (t) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var e = Ft(this, t);
                        e.insertBefore(t, e.firstChild)
                    }
                }))
            },
            before: function () {
                return Ut(this, arguments, (function (t) {
                    this.parentNode && this.parentNode.insertBefore(t, this)
                }))
            },
            after: function () {
                return Ut(this, arguments, (function (t) {
                    this.parentNode && this.parentNode.insertBefore(t, this.nextSibling)
                }))
            },
            empty: function () {
                for (var t, e = 0; null != (t = this[e]); e++) 1 === t.nodeType && (S.cleanData(_t(t, !1)), t.textContent = "");
                return this
            },
            clone: function (t, e) {
                return t = null != t && t, e = null == e ? t : e, this.map((function () {
                    return S.clone(this, t, e)
                }))
            },
            html: function (t) {
                return V(this, (function (t) {
                    var e = this[0] || {},
                        n = 0,
                        r = this.length;
                    if (void 0 === t && 1 === e.nodeType) return e.innerHTML;
                    if ("string" == typeof t && !jt.test(t) && !mt[(gt.exec(t) || ["", ""])[1].toLowerCase()]) {
                        t = S.htmlPrefilter(t);
                        try {
                            for (; n < r; n++) 1 === (e = this[n] || {}).nodeType && (S.cleanData(_t(e, !1)), e.innerHTML = t);
                            e = 0
                        } catch (t) {}
                    }
                    e && this.empty().append(t)
                }), null, t, arguments.length)
            },
            replaceWith: function () {
                var t = [];
                return Ut(this, arguments, (function (e) {
                    var n = this.parentNode;
                    S.inArray(this, t) < 0 && (S.cleanData(_t(this)), n && n.replaceChild(e, this))
                }), t)
            }
        }), S.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, (function (t, e) {
            S.fn[t] = function (t) {
                for (var n, r = [], o = S(t), i = o.length - 1, a = 0; a <= i; a++) n = a === i ? this : this.clone(!0), S(o[a])[e](n), l.apply(r, n.get());
                return this.pushStack(r)
            }
        }));
        var Wt = new RegExp("^(" + rt + ")(?!px)[a-z%]+$", "i"),
            Vt = function (t) {
                var e = t.ownerDocument.defaultView;
                return e && e.opener || (e = n), e.getComputedStyle(t)
            },
            Ht = new RegExp(it.join("|"), "i");

        function Yt(t, e, n) {
            var r, o, i, a, s = t.style;
            return (n = n || Vt(t)) && ("" !== (a = n.getPropertyValue(e) || n[e]) || st(t) || (a = S.style(t, e)), !v.pixelBoxStyles() && Wt.test(a) && Ht.test(e) && (r = s.width, o = s.minWidth, i = s.maxWidth, s.minWidth = s.maxWidth = s.width = a, a = n.width, s.width = r, s.minWidth = o, s.maxWidth = i)), void 0 !== a ? a + "" : a
        }

        function Zt(t, e) {
            return {
                get: function () {
                    if (!t()) return (this.get = e).apply(this, arguments);
                    delete this.get
                }
            }
        }! function () {
            function t() {
                if (l) {
                    c.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", l.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", at.appendChild(c).appendChild(l);
                    var t = n.getComputedStyle(l);
                    r = "1%" !== t.top, u = 12 === e(t.marginLeft), l.style.right = "60%", s = 36 === e(t.right), o = 36 === e(t.width), l.style.position = "absolute", i = 12 === e(l.offsetWidth / 3), at.removeChild(c), l = null
                }
            }

            function e(t) {
                return Math.round(parseFloat(t))
            }
            var r, o, i, s, u, c = a.createElement("div"),
                l = a.createElement("div");
            l.style && (l.style.backgroundClip = "content-box", l.cloneNode(!0).style.backgroundClip = "", v.clearCloneStyle = "content-box" === l.style.backgroundClip, S.extend(v, {
                boxSizingReliable: function () {
                    return t(), o
                },
                pixelBoxStyles: function () {
                    return t(), s
                },
                pixelPosition: function () {
                    return t(), r
                },
                reliableMarginLeft: function () {
                    return t(), u
                },
                scrollboxSize: function () {
                    return t(), i
                }
            }))
        }();
        var qt = ["Webkit", "Moz", "ms"],
            Kt = a.createElement("div").style,
            $t = {};

        function Jt(t) {
            return S.cssProps[t] || $t[t] || (t in Kt ? t : $t[t] = function (t) {
                for (var e = t[0].toUpperCase() + t.slice(1), n = qt.length; n--;)
                    if ((t = qt[n] + e) in Kt) return t
            }(t) || t)
        }
        var Qt = /^(none|table(?!-c[ea]).+)/,
            te = /^--/,
            ee = {
                position: "absolute",
                visibility: "hidden",
                display: "block"
            },
            ne = {
                letterSpacing: "0",
                fontWeight: "400"
            };

        function re(t, e, n) {
            var r = ot.exec(e);
            return r ? Math.max(0, r[2] - (n || 0)) + (r[3] || "px") : e
        }

        function oe(t, e, n, r, o, i) {
            var a = "width" === e ? 1 : 0,
                s = 0,
                u = 0;
            if (n === (r ? "border" : "content")) return 0;
            for (; a < 4; a += 2) "margin" === n && (u += S.css(t, n + it[a], !0, o)), r ? ("content" === n && (u -= S.css(t, "padding" + it[a], !0, o)), "margin" !== n && (u -= S.css(t, "border" + it[a] + "Width", !0, o))) : (u += S.css(t, "padding" + it[a], !0, o), "padding" !== n ? u += S.css(t, "border" + it[a] + "Width", !0, o) : s += S.css(t, "border" + it[a] + "Width", !0, o));
            return !r && i >= 0 && (u += Math.max(0, Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - i - u - s - .5)) || 0), u
        }

        function ie(t, e, n) {
            var r = Vt(t),
                o = (!v.boxSizingReliable() || n) && "border-box" === S.css(t, "boxSizing", !1, r),
                i = o,
                a = Yt(t, e, r),
                s = "offset" + e[0].toUpperCase() + e.slice(1);
            if (Wt.test(a)) {
                if (!n) return a;
                a = "auto"
            }
            return (!v.boxSizingReliable() && o || "auto" === a || !parseFloat(a) && "inline" === S.css(t, "display", !1, r)) && t.getClientRects().length && (o = "border-box" === S.css(t, "boxSizing", !1, r), (i = s in t) && (a = t[s])), (a = parseFloat(a) || 0) + oe(t, e, n || (o ? "border" : "content"), i, r, a) + "px"
        }

        function ae(t, e, n, r, o) {
            return new ae.prototype.init(t, e, n, r, o)
        }
        S.extend({
            cssHooks: {
                opacity: {
                    get: function (t, e) {
                        if (e) {
                            var n = Yt(t, "opacity");
                            return "" === n ? "1" : n
                        }
                    }
                }
            },
            cssNumber: {
                animationIterationCount: !0,
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                gridArea: !0,
                gridColumn: !0,
                gridColumnEnd: !0,
                gridColumnStart: !0,
                gridRow: !0,
                gridRowEnd: !0,
                gridRowStart: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {},
            style: function (t, e, n, r) {
                if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
                    var o, i, a, s = q(e),
                        u = te.test(e),
                        c = t.style;
                    if (u || (e = Jt(s)), a = S.cssHooks[e] || S.cssHooks[s], void 0 === n) return a && "get" in a && void 0 !== (o = a.get(t, !1, r)) ? o : c[e];
                    "string" == (i = typeof n) && (o = ot.exec(n)) && o[1] && (n = ht(t, e, o), i = "number"), null != n && n == n && ("number" !== i || u || (n += o && o[3] || (S.cssNumber[s] ? "" : "px")), v.clearCloneStyle || "" !== n || 0 !== e.indexOf("background") || (c[e] = "inherit"), a && "set" in a && void 0 === (n = a.set(t, n, r)) || (u ? c.setProperty(e, n) : c[e] = n))
                }
            },
            css: function (t, e, n, r) {
                var o, i, a, s = q(e);
                return te.test(e) || (e = Jt(s)), (a = S.cssHooks[e] || S.cssHooks[s]) && "get" in a && (o = a.get(t, !0, n)), void 0 === o && (o = Yt(t, e, r)), "normal" === o && e in ne && (o = ne[e]), "" === n || n ? (i = parseFloat(o), !0 === n || isFinite(i) ? i || 0 : o) : o
            }
        }), S.each(["height", "width"], (function (t, e) {
            S.cssHooks[e] = {
                get: function (t, n, r) {
                    if (n) return !Qt.test(S.css(t, "display")) || t.getClientRects().length && t.getBoundingClientRect().width ? ie(t, e, r) : lt(t, ee, (function () {
                        return ie(t, e, r)
                    }))
                },
                set: function (t, n, r) {
                    var o, i = Vt(t),
                        a = !v.scrollboxSize() && "absolute" === i.position,
                        s = (a || r) && "border-box" === S.css(t, "boxSizing", !1, i),
                        u = r ? oe(t, e, r, s, i) : 0;
                    return s && a && (u -= Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - parseFloat(i[e]) - oe(t, e, "border", !1, i) - .5)), u && (o = ot.exec(n)) && "px" !== (o[3] || "px") && (t.style[e] = n, n = S.css(t, e)), re(0, n, u)
                }
            }
        })), S.cssHooks.marginLeft = Zt(v.reliableMarginLeft, (function (t, e) {
            if (e) return (parseFloat(Yt(t, "marginLeft")) || t.getBoundingClientRect().left - lt(t, {
                marginLeft: 0
            }, (function () {
                return t.getBoundingClientRect().left
            }))) + "px"
        })), S.each({
            margin: "",
            padding: "",
            border: "Width"
        }, (function (t, e) {
            S.cssHooks[t + e] = {
                expand: function (n) {
                    for (var r = 0, o = {}, i = "string" == typeof n ? n.split(" ") : [n]; r < 4; r++) o[t + it[r] + e] = i[r] || i[r - 2] || i[0];
                    return o
                }
            }, "margin" !== t && (S.cssHooks[t + e].set = re)
        })), S.fn.extend({
            css: function (t, e) {
                return V(this, (function (t, e, n) {
                    var r, o, i = {},
                        a = 0;
                    if (Array.isArray(e)) {
                        for (r = Vt(t), o = e.length; a < o; a++) i[e[a]] = S.css(t, e[a], !1, r);
                        return i
                    }
                    return void 0 !== n ? S.style(t, e, n) : S.css(t, e)
                }), t, e, arguments.length > 1)
            }
        }), S.Tween = ae, ae.prototype = {
            constructor: ae,
            init: function (t, e, n, r, o, i) {
                this.elem = t, this.prop = n, this.easing = o || S.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = r, this.unit = i || (S.cssNumber[n] ? "" : "px")
            },
            cur: function () {
                var t = ae.propHooks[this.prop];
                return t && t.get ? t.get(this) : ae.propHooks._default.get(this)
            },
            run: function (t) {
                var e, n = ae.propHooks[this.prop];
                return this.options.duration ? this.pos = e = S.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : ae.propHooks._default.set(this), this
            }
        }, ae.prototype.init.prototype = ae.prototype, ae.propHooks = {
            _default: {
                get: function (t) {
                    var e;
                    return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = S.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0
                },
                set: function (t) {
                    S.fx.step[t.prop] ? S.fx.step[t.prop](t) : 1 !== t.elem.nodeType || !S.cssHooks[t.prop] && null == t.elem.style[Jt(t.prop)] ? t.elem[t.prop] = t.now : S.style(t.elem, t.prop, t.now + t.unit)
                }
            }
        }, ae.propHooks.scrollTop = ae.propHooks.scrollLeft = {
            set: function (t) {
                t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now)
            }
        }, S.easing = {
            linear: function (t) {
                return t
            },
            swing: function (t) {
                return .5 - Math.cos(t * Math.PI) / 2
            },
            _default: "swing"
        }, S.fx = ae.prototype.init, S.fx.step = {};
        var se, ue, ce = /^(?:toggle|show|hide)$/,
            le = /queueHooks$/;

        function he() {
            ue && (!1 === a.hidden && n.requestAnimationFrame ? n.requestAnimationFrame(he) : n.setTimeout(he, S.fx.interval), S.fx.tick())
        }

        function fe() {
            return n.setTimeout((function () {
                se = void 0
            })), se = Date.now()
        }

        function pe(t, e) {
            var n, r = 0,
                o = {
                    height: t
                };
            for (e = e ? 1 : 0; r < 4; r += 2 - e) o["margin" + (n = it[r])] = o["padding" + n] = t;
            return e && (o.opacity = o.width = t), o
        }

        function de(t, e, n) {
            for (var r, o = (ye.tweeners[e] || []).concat(ye.tweeners["*"]), i = 0, a = o.length; i < a; i++)
                if (r = o[i].call(n, e, t)) return r
        }

        function ye(t, e, n) {
            var r, o, i = 0,
                a = ye.prefilters.length,
                s = S.Deferred().always((function () {
                    delete u.elem
                })),
                u = function () {
                    if (o) return !1;
                    for (var e = se || fe(), n = Math.max(0, c.startTime + c.duration - e), r = 1 - (n / c.duration || 0), i = 0, a = c.tweens.length; i < a; i++) c.tweens[i].run(r);
                    return s.notifyWith(t, [c, r, n]), r < 1 && a ? n : (a || s.notifyWith(t, [c, 1, 0]), s.resolveWith(t, [c]), !1)
                },
                c = s.promise({
                    elem: t,
                    props: S.extend({}, e),
                    opts: S.extend(!0, {
                        specialEasing: {},
                        easing: S.easing._default
                    }, n),
                    originalProperties: e,
                    originalOptions: n,
                    startTime: se || fe(),
                    duration: n.duration,
                    tweens: [],
                    createTween: function (e, n) {
                        var r = S.Tween(t, c.opts, e, n, c.opts.specialEasing[e] || c.opts.easing);
                        return c.tweens.push(r), r
                    },
                    stop: function (e) {
                        var n = 0,
                            r = e ? c.tweens.length : 0;
                        if (o) return this;
                        for (o = !0; n < r; n++) c.tweens[n].run(1);
                        return e ? (s.notifyWith(t, [c, 1, 0]), s.resolveWith(t, [c, e])) : s.rejectWith(t, [c, e]), this
                    }
                }),
                l = c.props;
            for (function (t, e) {
                    var n, r, o, i, a;
                    for (n in t)
                        if (o = e[r = q(n)], i = t[n], Array.isArray(i) && (o = i[1], i = t[n] = i[0]), n !== r && (t[r] = i, delete t[n]), (a = S.cssHooks[r]) && "expand" in a)
                            for (n in i = a.expand(i), delete t[r], i) n in t || (t[n] = i[n], e[n] = o);
                        else e[r] = o
                }(l, c.opts.specialEasing); i < a; i++)
                if (r = ye.prefilters[i].call(c, t, l, c.opts)) return m(r.stop) && (S._queueHooks(c.elem, c.opts.queue).stop = r.stop.bind(r)), r;
            return S.map(l, de, c), m(c.opts.start) && c.opts.start.call(t, c), c.progress(c.opts.progress).done(c.opts.done, c.opts.complete).fail(c.opts.fail).always(c.opts.always), S.fx.timer(S.extend(u, {
                elem: t,
                anim: c,
                queue: c.opts.queue
            })), c
        }
        S.Animation = S.extend(ye, {
                tweeners: {
                    "*": [function (t, e) {
                        var n = this.createTween(t, e);
                        return ht(n.elem, t, ot.exec(e), n), n
                    }]
                },
                tweener: function (t, e) {
                    m(t) ? (e = t, t = ["*"]) : t = t.match(G);
                    for (var n, r = 0, o = t.length; r < o; r++) n = t[r], ye.tweeners[n] = ye.tweeners[n] || [], ye.tweeners[n].unshift(e)
                },
                prefilters: [function (t, e, n) {
                    var r, o, i, a, s, u, c, l, h = "width" in e || "height" in e,
                        f = this,
                        p = {},
                        d = t.style,
                        y = t.nodeType && ct(t),
                        g = J.get(t, "fxshow");
                    for (r in n.queue || (null == (a = S._queueHooks(t, "fx")).unqueued && (a.unqueued = 0, s = a.empty.fire, a.empty.fire = function () {
                            a.unqueued || s()
                        }), a.unqueued++, f.always((function () {
                            f.always((function () {
                                a.unqueued--, S.queue(t, "fx").length || a.empty.fire()
                            }))
                        }))), e)
                        if (o = e[r], ce.test(o)) {
                            if (delete e[r], i = i || "toggle" === o, o === (y ? "hide" : "show")) {
                                if ("show" !== o || !g || void 0 === g[r]) continue;
                                y = !0
                            }
                            p[r] = g && g[r] || S.style(t, r)
                        } if ((u = !S.isEmptyObject(e)) || !S.isEmptyObject(p))
                        for (r in h && 1 === t.nodeType && (n.overflow = [d.overflow, d.overflowX, d.overflowY], null == (c = g && g.display) && (c = J.get(t, "display")), "none" === (l = S.css(t, "display")) && (c ? l = c : (dt([t], !0), c = t.style.display || c, l = S.css(t, "display"), dt([t]))), ("inline" === l || "inline-block" === l && null != c) && "none" === S.css(t, "float") && (u || (f.done((function () {
                                d.display = c
                            })), null == c && (l = d.display, c = "none" === l ? "" : l)), d.display = "inline-block")), n.overflow && (d.overflow = "hidden", f.always((function () {
                                d.overflow = n.overflow[0], d.overflowX = n.overflow[1], d.overflowY = n.overflow[2]
                            }))), u = !1, p) u || (g ? "hidden" in g && (y = g.hidden) : g = J.access(t, "fxshow", {
                            display: c
                        }), i && (g.hidden = !y), y && dt([t], !0), f.done((function () {
                            for (r in y || dt([t]), J.remove(t, "fxshow"), p) S.style(t, r, p[r])
                        }))), u = de(y ? g[r] : 0, r, f), r in g || (g[r] = u.start, y && (u.end = u.start, u.start = 0))
                }],
                prefilter: function (t, e) {
                    e ? ye.prefilters.unshift(t) : ye.prefilters.push(t)
                }
            }), S.speed = function (t, e, n) {
                var r = t && "object" == typeof t ? S.extend({}, t) : {
                    complete: n || !n && e || m(t) && t,
                    duration: t,
                    easing: n && e || e && !m(e) && e
                };
                return S.fx.off ? r.duration = 0 : "number" != typeof r.duration && (r.duration in S.fx.speeds ? r.duration = S.fx.speeds[r.duration] : r.duration = S.fx.speeds._default), null != r.queue && !0 !== r.queue || (r.queue = "fx"), r.old = r.complete, r.complete = function () {
                    m(r.old) && r.old.call(this), r.queue && S.dequeue(this, r.queue)
                }, r
            }, S.fn.extend({
                fadeTo: function (t, e, n, r) {
                    return this.filter(ct).css("opacity", 0).show().end().animate({
                        opacity: e
                    }, t, n, r)
                },
                animate: function (t, e, n, r) {
                    var o = S.isEmptyObject(t),
                        i = S.speed(e, n, r),
                        a = function () {
                            var e = ye(this, S.extend({}, t), i);
                            (o || J.get(this, "finish")) && e.stop(!0)
                        };
                    return a.finish = a, o || !1 === i.queue ? this.each(a) : this.queue(i.queue, a)
                },
                stop: function (t, e, n) {
                    var r = function (t) {
                        var e = t.stop;
                        delete t.stop, e(n)
                    };
                    return "string" != typeof t && (n = e, e = t, t = void 0), e && !1 !== t && this.queue(t || "fx", []), this.each((function () {
                        var e = !0,
                            o = null != t && t + "queueHooks",
                            i = S.timers,
                            a = J.get(this);
                        if (o) a[o] && a[o].stop && r(a[o]);
                        else
                            for (o in a) a[o] && a[o].stop && le.test(o) && r(a[o]);
                        for (o = i.length; o--;) i[o].elem !== this || null != t && i[o].queue !== t || (i[o].anim.stop(n), e = !1, i.splice(o, 1));
                        !e && n || S.dequeue(this, t)
                    }))
                },
                finish: function (t) {
                    return !1 !== t && (t = t || "fx"), this.each((function () {
                        var e, n = J.get(this),
                            r = n[t + "queue"],
                            o = n[t + "queueHooks"],
                            i = S.timers,
                            a = r ? r.length : 0;
                        for (n.finish = !0, S.queue(this, t, []), o && o.stop && o.stop.call(this, !0), e = i.length; e--;) i[e].elem === this && i[e].queue === t && (i[e].anim.stop(!0), i.splice(e, 1));
                        for (e = 0; e < a; e++) r[e] && r[e].finish && r[e].finish.call(this);
                        delete n.finish
                    }))
                }
            }), S.each(["toggle", "show", "hide"], (function (t, e) {
                var n = S.fn[e];
                S.fn[e] = function (t, r, o) {
                    return null == t || "boolean" == typeof t ? n.apply(this, arguments) : this.animate(pe(e, !0), t, r, o)
                }
            })), S.each({
                slideDown: pe("show"),
                slideUp: pe("hide"),
                slideToggle: pe("toggle"),
                fadeIn: {
                    opacity: "show"
                },
                fadeOut: {
                    opacity: "hide"
                },
                fadeToggle: {
                    opacity: "toggle"
                }
            }, (function (t, e) {
                S.fn[t] = function (t, n, r) {
                    return this.animate(e, t, n, r)
                }
            })), S.timers = [], S.fx.tick = function () {
                var t, e = 0,
                    n = S.timers;
                for (se = Date.now(); e < n.length; e++)(t = n[e])() || n[e] !== t || n.splice(e--, 1);
                n.length || S.fx.stop(), se = void 0
            }, S.fx.timer = function (t) {
                S.timers.push(t), S.fx.start()
            }, S.fx.interval = 13, S.fx.start = function () {
                ue || (ue = !0, he())
            }, S.fx.stop = function () {
                ue = null
            }, S.fx.speeds = {
                slow: 600,
                fast: 200,
                _default: 400
            }, S.fn.delay = function (t, e) {
                return t = S.fx && S.fx.speeds[t] || t, e = e || "fx", this.queue(e, (function (e, r) {
                    var o = n.setTimeout(e, t);
                    r.stop = function () {
                        n.clearTimeout(o)
                    }
                }))
            },
            function () {
                var t = a.createElement("input"),
                    e = a.createElement("select").appendChild(a.createElement("option"));
                t.type = "checkbox", v.checkOn = "" !== t.value, v.optSelected = e.selected, (t = a.createElement("input")).value = "t", t.type = "radio", v.radioValue = "t" === t.value
            }();
        var ge, ve = S.expr.attrHandle;
        S.fn.extend({
            attr: function (t, e) {
                return V(this, S.attr, t, e, arguments.length > 1)
            },
            removeAttr: function (t) {
                return this.each((function () {
                    S.removeAttr(this, t)
                }))
            }
        }), S.extend({
            attr: function (t, e, n) {
                var r, o, i = t.nodeType;
                if (3 !== i && 8 !== i && 2 !== i) return void 0 === t.getAttribute ? S.prop(t, e, n) : (1 === i && S.isXMLDoc(t) || (o = S.attrHooks[e.toLowerCase()] || (S.expr.match.bool.test(e) ? ge : void 0)), void 0 !== n ? null === n ? void S.removeAttr(t, e) : o && "set" in o && void 0 !== (r = o.set(t, n, e)) ? r : (t.setAttribute(e, n + ""), n) : o && "get" in o && null !== (r = o.get(t, e)) ? r : null == (r = S.find.attr(t, e)) ? void 0 : r)
            },
            attrHooks: {
                type: {
                    set: function (t, e) {
                        if (!v.radioValue && "radio" === e && R(t, "input")) {
                            var n = t.value;
                            return t.setAttribute("type", e), n && (t.value = n), e
                        }
                    }
                }
            },
            removeAttr: function (t, e) {
                var n, r = 0,
                    o = e && e.match(G);
                if (o && 1 === t.nodeType)
                    for (; n = o[r++];) t.removeAttribute(n)
            }
        }), ge = {
            set: function (t, e, n) {
                return !1 === e ? S.removeAttr(t, n) : t.setAttribute(n, n), n
            }
        }, S.each(S.expr.match.bool.source.match(/\w+/g), (function (t, e) {
            var n = ve[e] || S.find.attr;
            ve[e] = function (t, e, r) {
                var o, i, a = e.toLowerCase();
                return r || (i = ve[a], ve[a] = o, o = null != n(t, e, r) ? a : null, ve[a] = i), o
            }
        }));
        var me = /^(?:input|select|textarea|button)$/i,
            _e = /^(?:a|area)$/i;

        function be(t) {
            return (t.match(G) || []).join(" ")
        }

        function xe(t) {
            return t.getAttribute && t.getAttribute("class") || ""
        }

        function we(t) {
            return Array.isArray(t) ? t : "string" == typeof t && t.match(G) || []
        }
        S.fn.extend({
            prop: function (t, e) {
                return V(this, S.prop, t, e, arguments.length > 1)
            },
            removeProp: function (t) {
                return this.each((function () {
                    delete this[S.propFix[t] || t]
                }))
            }
        }), S.extend({
            prop: function (t, e, n) {
                var r, o, i = t.nodeType;
                if (3 !== i && 8 !== i && 2 !== i) return 1 === i && S.isXMLDoc(t) || (e = S.propFix[e] || e, o = S.propHooks[e]), void 0 !== n ? o && "set" in o && void 0 !== (r = o.set(t, n, e)) ? r : t[e] = n : o && "get" in o && null !== (r = o.get(t, e)) ? r : t[e]
            },
            propHooks: {
                tabIndex: {
                    get: function (t) {
                        var e = S.find.attr(t, "tabindex");
                        return e ? parseInt(e, 10) : me.test(t.nodeName) || _e.test(t.nodeName) && t.href ? 0 : -1
                    }
                }
            },
            propFix: {
                for: "htmlFor",
                class: "className"
            }
        }), v.optSelected || (S.propHooks.selected = {
            get: function (t) {
                var e = t.parentNode;
                return e && e.parentNode && e.parentNode.selectedIndex, null
            },
            set: function (t) {
                var e = t.parentNode;
                e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex)
            }
        }), S.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], (function () {
            S.propFix[this.toLowerCase()] = this
        })), S.fn.extend({
            addClass: function (t) {
                var e, n, r, o, i, a, s, u = 0;
                if (m(t)) return this.each((function (e) {
                    S(this).addClass(t.call(this, e, xe(this)))
                }));
                if ((e = we(t)).length)
                    for (; n = this[u++];)
                        if (o = xe(n), r = 1 === n.nodeType && " " + be(o) + " ") {
                            for (a = 0; i = e[a++];) r.indexOf(" " + i + " ") < 0 && (r += i + " ");
                            o !== (s = be(r)) && n.setAttribute("class", s)
                        } return this
            },
            removeClass: function (t) {
                var e, n, r, o, i, a, s, u = 0;
                if (m(t)) return this.each((function (e) {
                    S(this).removeClass(t.call(this, e, xe(this)))
                }));
                if (!arguments.length) return this.attr("class", "");
                if ((e = we(t)).length)
                    for (; n = this[u++];)
                        if (o = xe(n), r = 1 === n.nodeType && " " + be(o) + " ") {
                            for (a = 0; i = e[a++];)
                                for (; r.indexOf(" " + i + " ") > -1;) r = r.replace(" " + i + " ", " ");
                            o !== (s = be(r)) && n.setAttribute("class", s)
                        } return this
            },
            toggleClass: function (t, e) {
                var n = typeof t,
                    r = "string" === n || Array.isArray(t);
                return "boolean" == typeof e && r ? e ? this.addClass(t) : this.removeClass(t) : m(t) ? this.each((function (n) {
                    S(this).toggleClass(t.call(this, n, xe(this), e), e)
                })) : this.each((function () {
                    var e, o, i, a;
                    if (r)
                        for (o = 0, i = S(this), a = we(t); e = a[o++];) i.hasClass(e) ? i.removeClass(e) : i.addClass(e);
                    else void 0 !== t && "boolean" !== n || ((e = xe(this)) && J.set(this, "__className__", e), this.setAttribute && this.setAttribute("class", e || !1 === t ? "" : J.get(this, "__className__") || ""))
                }))
            },
            hasClass: function (t) {
                var e, n, r = 0;
                for (e = " " + t + " "; n = this[r++];)
                    if (1 === n.nodeType && (" " + be(xe(n)) + " ").indexOf(e) > -1) return !0;
                return !1
            }
        });
        var Se = /\r/g;
        S.fn.extend({
            val: function (t) {
                var e, n, r, o = this[0];
                return arguments.length ? (r = m(t), this.each((function (n) {
                    var o;
                    1 === this.nodeType && (null == (o = r ? t.call(this, n, S(this).val()) : t) ? o = "" : "number" == typeof o ? o += "" : Array.isArray(o) && (o = S.map(o, (function (t) {
                        return null == t ? "" : t + ""
                    }))), (e = S.valHooks[this.type] || S.valHooks[this.nodeName.toLowerCase()]) && "set" in e && void 0 !== e.set(this, o, "value") || (this.value = o))
                }))) : o ? (e = S.valHooks[o.type] || S.valHooks[o.nodeName.toLowerCase()]) && "get" in e && void 0 !== (n = e.get(o, "value")) ? n : "string" == typeof (n = o.value) ? n.replace(Se, "") : null == n ? "" : n : void 0
            }
        }), S.extend({
            valHooks: {
                option: {
                    get: function (t) {
                        var e = S.find.attr(t, "value");
                        return null != e ? e : be(S.text(t))
                    }
                },
                select: {
                    get: function (t) {
                        var e, n, r, o = t.options,
                            i = t.selectedIndex,
                            a = "select-one" === t.type,
                            s = a ? null : [],
                            u = a ? i + 1 : o.length;
                        for (r = i < 0 ? u : a ? i : 0; r < u; r++)
                            if (((n = o[r]).selected || r === i) && !n.disabled && (!n.parentNode.disabled || !R(n.parentNode, "optgroup"))) {
                                if (e = S(n).val(), a) return e;
                                s.push(e)
                            } return s
                    },
                    set: function (t, e) {
                        for (var n, r, o = t.options, i = S.makeArray(e), a = o.length; a--;)((r = o[a]).selected = S.inArray(S.valHooks.option.get(r), i) > -1) && (n = !0);
                        return n || (t.selectedIndex = -1), i
                    }
                }
            }
        }), S.each(["radio", "checkbox"], (function () {
            S.valHooks[this] = {
                set: function (t, e) {
                    if (Array.isArray(e)) return t.checked = S.inArray(S(t).val(), e) > -1
                }
            }, v.checkOn || (S.valHooks[this].get = function (t) {
                return null === t.getAttribute("value") ? "on" : t.value
            })
        })), v.focusin = "onfocusin" in n;
        var Ce = /^(?:focusinfocus|focusoutblur)$/,
            Ee = function (t) {
                t.stopPropagation()
            };
        S.extend(S.event, {
            trigger: function (t, e, r, o) {
                var i, s, u, c, l, h, f, p, y = [r || a],
                    g = d.call(t, "type") ? t.type : t,
                    v = d.call(t, "namespace") ? t.namespace.split(".") : [];
                if (s = p = u = r = r || a, 3 !== r.nodeType && 8 !== r.nodeType && !Ce.test(g + S.event.triggered) && (g.indexOf(".") > -1 && (v = g.split("."), g = v.shift(), v.sort()), l = g.indexOf(":") < 0 && "on" + g, (t = t[S.expando] ? t : new S.Event(g, "object" == typeof t && t)).isTrigger = o ? 2 : 3, t.namespace = v.join("."), t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + v.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = r), e = null == e ? [t] : S.makeArray(e, [t]), f = S.event.special[g] || {}, o || !f.trigger || !1 !== f.trigger.apply(r, e))) {
                    if (!o && !f.noBubble && !_(r)) {
                        for (c = f.delegateType || g, Ce.test(c + g) || (s = s.parentNode); s; s = s.parentNode) y.push(s), u = s;
                        u === (r.ownerDocument || a) && y.push(u.defaultView || u.parentWindow || n)
                    }
                    for (i = 0;
                        (s = y[i++]) && !t.isPropagationStopped();) p = s, t.type = i > 1 ? c : f.bindType || g, (h = (J.get(s, "events") || {})[t.type] && J.get(s, "handle")) && h.apply(s, e), (h = l && s[l]) && h.apply && K(s) && (t.result = h.apply(s, e), !1 === t.result && t.preventDefault());
                    return t.type = g, o || t.isDefaultPrevented() || f._default && !1 !== f._default.apply(y.pop(), e) || !K(r) || l && m(r[g]) && !_(r) && ((u = r[l]) && (r[l] = null), S.event.triggered = g, t.isPropagationStopped() && p.addEventListener(g, Ee), r[g](), t.isPropagationStopped() && p.removeEventListener(g, Ee), S.event.triggered = void 0, u && (r[l] = u)), t.result
                }
            },
            simulate: function (t, e, n) {
                var r = S.extend(new S.Event, n, {
                    type: t,
                    isSimulated: !0
                });
                S.event.trigger(r, null, e)
            }
        }), S.fn.extend({
            trigger: function (t, e) {
                return this.each((function () {
                    S.event.trigger(t, e, this)
                }))
            },
            triggerHandler: function (t, e) {
                var n = this[0];
                if (n) return S.event.trigger(t, e, n, !0)
            }
        }), v.focusin || S.each({
            focus: "focusin",
            blur: "focusout"
        }, (function (t, e) {
            var n = function (t) {
                S.event.simulate(e, t.target, S.event.fix(t))
            };
            S.event.special[e] = {
                setup: function () {
                    var r = this.ownerDocument || this,
                        o = J.access(r, e);
                    o || r.addEventListener(t, n, !0), J.access(r, e, (o || 0) + 1)
                },
                teardown: function () {
                    var r = this.ownerDocument || this,
                        o = J.access(r, e) - 1;
                    o ? J.access(r, e, o) : (r.removeEventListener(t, n, !0), J.remove(r, e))
                }
            }
        }));
        var Te = n.location,
            Oe = Date.now(),
            Pe = /\?/;
        S.parseXML = function (t) {
            var e;
            if (!t || "string" != typeof t) return null;
            try {
                e = (new n.DOMParser).parseFromString(t, "text/xml")
            } catch (t) {
                e = void 0
            }
            return e && !e.getElementsByTagName("parsererror").length || S.error("Invalid XML: " + t), e
        };
        var Ae = /\[\]$/,
            Re = /\r?\n/g,
            Ie = /^(?:submit|button|image|reset|file)$/i,
            ke = /^(?:input|select|textarea|keygen)/i;

        function Le(t, e, n, r) {
            var o;
            if (Array.isArray(e)) S.each(e, (function (e, o) {
                n || Ae.test(t) ? r(t, o) : Le(t + "[" + ("object" == typeof o && null != o ? e : "") + "]", o, n, r)
            }));
            else if (n || "object" !== w(e)) r(t, e);
            else
                for (o in e) Le(t + "[" + o + "]", e[o], n, r)
        }
        S.param = function (t, e) {
            var n, r = [],
                o = function (t, e) {
                    var n = m(e) ? e() : e;
                    r[r.length] = encodeURIComponent(t) + "=" + encodeURIComponent(null == n ? "" : n)
                };
            if (null == t) return "";
            if (Array.isArray(t) || t.jquery && !S.isPlainObject(t)) S.each(t, (function () {
                o(this.name, this.value)
            }));
            else
                for (n in t) Le(n, t[n], e, o);
            return r.join("&")
        }, S.fn.extend({
            serialize: function () {
                return S.param(this.serializeArray())
            },
            serializeArray: function () {
                return this.map((function () {
                    var t = S.prop(this, "elements");
                    return t ? S.makeArray(t) : this
                })).filter((function () {
                    var t = this.type;
                    return this.name && !S(this).is(":disabled") && ke.test(this.nodeName) && !Ie.test(t) && (this.checked || !yt.test(t))
                })).map((function (t, e) {
                    var n = S(this).val();
                    return null == n ? null : Array.isArray(n) ? S.map(n, (function (t) {
                        return {
                            name: e.name,
                            value: t.replace(Re, "\r\n")
                        }
                    })) : {
                        name: e.name,
                        value: n.replace(Re, "\r\n")
                    }
                })).get()
            }
        });
        var je = /%20/g,
            Me = /#.*$/,
            De = /([?&])_=[^&]*/,
            Fe = /^(.*?):[ \t]*([^\r\n]*)$/gm,
            Ge = /^(?:GET|HEAD)$/,
            Ne = /^\/\//,
            ze = {},
            Be = {},
            Ue = "*/".concat("*"),
            Xe = a.createElement("a");

        function We(t) {
            return function (e, n) {
                "string" != typeof e && (n = e, e = "*");
                var r, o = 0,
                    i = e.toLowerCase().match(G) || [];
                if (m(n))
                    for (; r = i[o++];) "+" === r[0] ? (r = r.slice(1) || "*", (t[r] = t[r] || []).unshift(n)) : (t[r] = t[r] || []).push(n)
            }
        }

        function Ve(t, e, n, r) {
            var o = {},
                i = t === Be;

            function a(s) {
                var u;
                return o[s] = !0, S.each(t[s] || [], (function (t, s) {
                    var c = s(e, n, r);
                    return "string" != typeof c || i || o[c] ? i ? !(u = c) : void 0 : (e.dataTypes.unshift(c), a(c), !1)
                })), u
            }
            return a(e.dataTypes[0]) || !o["*"] && a("*")
        }

        function He(t, e) {
            var n, r, o = S.ajaxSettings.flatOptions || {};
            for (n in e) void 0 !== e[n] && ((o[n] ? t : r || (r = {}))[n] = e[n]);
            return r && S.extend(!0, t, r), t
        }
        Xe.href = Te.href, S.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: Te.href,
                type: "GET",
                isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Te.protocol),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": Ue,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /\bxml\b/,
                    html: /\bhtml/,
                    json: /\bjson\b/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": JSON.parse,
                    "text xml": S.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function (t, e) {
                return e ? He(He(t, S.ajaxSettings), e) : He(S.ajaxSettings, t)
            },
            ajaxPrefilter: We(ze),
            ajaxTransport: We(Be),
            ajax: function (t, e) {
                "object" == typeof t && (e = t, t = void 0), e = e || {};
                var r, o, i, s, u, c, l, h, f, p, d = S.ajaxSetup({}, e),
                    y = d.context || d,
                    g = d.context && (y.nodeType || y.jquery) ? S(y) : S.event,
                    v = S.Deferred(),
                    m = S.Callbacks("once memory"),
                    _ = d.statusCode || {},
                    b = {},
                    x = {},
                    w = "canceled",
                    C = {
                        readyState: 0,
                        getResponseHeader: function (t) {
                            var e;
                            if (l) {
                                if (!s)
                                    for (s = {}; e = Fe.exec(i);) s[e[1].toLowerCase() + " "] = (s[e[1].toLowerCase() + " "] || []).concat(e[2]);
                                e = s[t.toLowerCase() + " "]
                            }
                            return null == e ? null : e.join(", ")
                        },
                        getAllResponseHeaders: function () {
                            return l ? i : null
                        },
                        setRequestHeader: function (t, e) {
                            return null == l && (t = x[t.toLowerCase()] = x[t.toLowerCase()] || t, b[t] = e), this
                        },
                        overrideMimeType: function (t) {
                            return null == l && (d.mimeType = t), this
                        },
                        statusCode: function (t) {
                            var e;
                            if (t)
                                if (l) C.always(t[C.status]);
                                else
                                    for (e in t) _[e] = [_[e], t[e]];
                            return this
                        },
                        abort: function (t) {
                            var e = t || w;
                            return r && r.abort(e), E(0, e), this
                        }
                    };
                if (v.promise(C), d.url = ((t || d.url || Te.href) + "").replace(Ne, Te.protocol + "//"), d.type = e.method || e.type || d.method || d.type, d.dataTypes = (d.dataType || "*").toLowerCase().match(G) || [""], null == d.crossDomain) {
                    c = a.createElement("a");
                    try {
                        c.href = d.url, c.href = c.href, d.crossDomain = Xe.protocol + "//" + Xe.host != c.protocol + "//" + c.host
                    } catch (t) {
                        d.crossDomain = !0
                    }
                }
                if (d.data && d.processData && "string" != typeof d.data && (d.data = S.param(d.data, d.traditional)), Ve(ze, d, e, C), l) return C;
                for (f in (h = S.event && d.global) && 0 == S.active++ && S.event.trigger("ajaxStart"), d.type = d.type.toUpperCase(), d.hasContent = !Ge.test(d.type), o = d.url.replace(Me, ""), d.hasContent ? d.data && d.processData && 0 === (d.contentType || "").indexOf("application/x-www-form-urlencoded") && (d.data = d.data.replace(je, "+")) : (p = d.url.slice(o.length), d.data && (d.processData || "string" == typeof d.data) && (o += (Pe.test(o) ? "&" : "?") + d.data, delete d.data), !1 === d.cache && (o = o.replace(De, "$1"), p = (Pe.test(o) ? "&" : "?") + "_=" + Oe++ + p), d.url = o + p), d.ifModified && (S.lastModified[o] && C.setRequestHeader("If-Modified-Since", S.lastModified[o]), S.etag[o] && C.setRequestHeader("If-None-Match", S.etag[o])), (d.data && d.hasContent && !1 !== d.contentType || e.contentType) && C.setRequestHeader("Content-Type", d.contentType), C.setRequestHeader("Accept", d.dataTypes[0] && d.accepts[d.dataTypes[0]] ? d.accepts[d.dataTypes[0]] + ("*" !== d.dataTypes[0] ? ", " + Ue + "; q=0.01" : "") : d.accepts["*"]), d.headers) C.setRequestHeader(f, d.headers[f]);
                if (d.beforeSend && (!1 === d.beforeSend.call(y, C, d) || l)) return C.abort();
                if (w = "abort", m.add(d.complete), C.done(d.success), C.fail(d.error), r = Ve(Be, d, e, C)) {
                    if (C.readyState = 1, h && g.trigger("ajaxSend", [C, d]), l) return C;
                    d.async && d.timeout > 0 && (u = n.setTimeout((function () {
                        C.abort("timeout")
                    }), d.timeout));
                    try {
                        l = !1, r.send(b, E)
                    } catch (t) {
                        if (l) throw t;
                        E(-1, t)
                    }
                } else E(-1, "No Transport");

                function E(t, e, a, s) {
                    var c, f, p, b, x, w = e;
                    l || (l = !0, u && n.clearTimeout(u), r = void 0, i = s || "", C.readyState = t > 0 ? 4 : 0, c = t >= 200 && t < 300 || 304 === t, a && (b = function (t, e, n) {
                        for (var r, o, i, a, s = t.contents, u = t.dataTypes;
                            "*" === u[0];) u.shift(), void 0 === r && (r = t.mimeType || e.getResponseHeader("Content-Type"));
                        if (r)
                            for (o in s)
                                if (s[o] && s[o].test(r)) {
                                    u.unshift(o);
                                    break
                                } if (u[0] in n) i = u[0];
                        else {
                            for (o in n) {
                                if (!u[0] || t.converters[o + " " + u[0]]) {
                                    i = o;
                                    break
                                }
                                a || (a = o)
                            }
                            i = i || a
                        }
                        if (i) return i !== u[0] && u.unshift(i), n[i]
                    }(d, C, a)), b = function (t, e, n, r) {
                        var o, i, a, s, u, c = {},
                            l = t.dataTypes.slice();
                        if (l[1])
                            for (a in t.converters) c[a.toLowerCase()] = t.converters[a];
                        for (i = l.shift(); i;)
                            if (t.responseFields[i] && (n[t.responseFields[i]] = e), !u && r && t.dataFilter && (e = t.dataFilter(e, t.dataType)), u = i, i = l.shift())
                                if ("*" === i) i = u;
                                else if ("*" !== u && u !== i) {
                            if (!(a = c[u + " " + i] || c["* " + i]))
                                for (o in c)
                                    if ((s = o.split(" "))[1] === i && (a = c[u + " " + s[0]] || c["* " + s[0]])) {
                                        !0 === a ? a = c[o] : !0 !== c[o] && (i = s[0], l.unshift(s[1]));
                                        break
                                    } if (!0 !== a)
                                if (a && t.throws) e = a(e);
                                else try {
                                    e = a(e)
                                } catch (t) {
                                    return {
                                        state: "parsererror",
                                        error: a ? t : "No conversion from " + u + " to " + i
                                    }
                                }
                        }
                        return {
                            state: "success",
                            data: e
                        }
                    }(d, b, C, c), c ? (d.ifModified && ((x = C.getResponseHeader("Last-Modified")) && (S.lastModified[o] = x), (x = C.getResponseHeader("etag")) && (S.etag[o] = x)), 204 === t || "HEAD" === d.type ? w = "nocontent" : 304 === t ? w = "notmodified" : (w = b.state, f = b.data, c = !(p = b.error))) : (p = w, !t && w || (w = "error", t < 0 && (t = 0))), C.status = t, C.statusText = (e || w) + "", c ? v.resolveWith(y, [f, w, C]) : v.rejectWith(y, [C, w, p]), C.statusCode(_), _ = void 0, h && g.trigger(c ? "ajaxSuccess" : "ajaxError", [C, d, c ? f : p]), m.fireWith(y, [C, w]), h && (g.trigger("ajaxComplete", [C, d]), --S.active || S.event.trigger("ajaxStop")))
                }
                return C
            },
            getJSON: function (t, e, n) {
                return S.get(t, e, n, "json")
            },
            getScript: function (t, e) {
                return S.get(t, void 0, e, "script")
            }
        }), S.each(["get", "post"], (function (t, e) {
            S[e] = function (t, n, r, o) {
                return m(n) && (o = o || r, r = n, n = void 0), S.ajax(S.extend({
                    url: t,
                    type: e,
                    dataType: o,
                    data: n,
                    success: r
                }, S.isPlainObject(t) && t))
            }
        })), S._evalUrl = function (t, e) {
            return S.ajax({
                url: t,
                type: "GET",
                dataType: "script",
                cache: !0,
                async: !1,
                global: !1,
                converters: {
                    "text script": function () {}
                },
                dataFilter: function (t) {
                    S.globalEval(t, e)
                }
            })
        }, S.fn.extend({
            wrapAll: function (t) {
                var e;
                return this[0] && (m(t) && (t = t.call(this[0])), e = S(t, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && e.insertBefore(this[0]), e.map((function () {
                    for (var t = this; t.firstElementChild;) t = t.firstElementChild;
                    return t
                })).append(this)), this
            },
            wrapInner: function (t) {
                return m(t) ? this.each((function (e) {
                    S(this).wrapInner(t.call(this, e))
                })) : this.each((function () {
                    var e = S(this),
                        n = e.contents();
                    n.length ? n.wrapAll(t) : e.append(t)
                }))
            },
            wrap: function (t) {
                var e = m(t);
                return this.each((function (n) {
                    S(this).wrapAll(e ? t.call(this, n) : t)
                }))
            },
            unwrap: function (t) {
                return this.parent(t).not("body").each((function () {
                    S(this).replaceWith(this.childNodes)
                })), this
            }
        }), S.expr.pseudos.hidden = function (t) {
            return !S.expr.pseudos.visible(t)
        }, S.expr.pseudos.visible = function (t) {
            return !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length)
        }, S.ajaxSettings.xhr = function () {
            try {
                return new n.XMLHttpRequest
            } catch (t) {}
        };
        var Ye = {
                0: 200,
                1223: 204
            },
            Ze = S.ajaxSettings.xhr();
        v.cors = !!Ze && "withCredentials" in Ze, v.ajax = Ze = !!Ze, S.ajaxTransport((function (t) {
            var e, r;
            if (v.cors || Ze && !t.crossDomain) return {
                send: function (o, i) {
                    var a, s = t.xhr();
                    if (s.open(t.type, t.url, t.async, t.username, t.password), t.xhrFields)
                        for (a in t.xhrFields) s[a] = t.xhrFields[a];
                    for (a in t.mimeType && s.overrideMimeType && s.overrideMimeType(t.mimeType), t.crossDomain || o["X-Requested-With"] || (o["X-Requested-With"] = "XMLHttpRequest"), o) s.setRequestHeader(a, o[a]);
                    e = function (t) {
                        return function () {
                            e && (e = r = s.onload = s.onerror = s.onabort = s.ontimeout = s.onreadystatechange = null, "abort" === t ? s.abort() : "error" === t ? "number" != typeof s.status ? i(0, "error") : i(s.status, s.statusText) : i(Ye[s.status] || s.status, s.statusText, "text" !== (s.responseType || "text") || "string" != typeof s.responseText ? {
                                binary: s.response
                            } : {
                                text: s.responseText
                            }, s.getAllResponseHeaders()))
                        }
                    }, s.onload = e(), r = s.onerror = s.ontimeout = e("error"), void 0 !== s.onabort ? s.onabort = r : s.onreadystatechange = function () {
                        4 === s.readyState && n.setTimeout((function () {
                            e && r()
                        }))
                    }, e = e("abort");
                    try {
                        s.send(t.hasContent && t.data || null)
                    } catch (t) {
                        if (e) throw t
                    }
                },
                abort: function () {
                    e && e()
                }
            }
        })), S.ajaxPrefilter((function (t) {
            t.crossDomain && (t.contents.script = !1)
        })), S.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /\b(?:java|ecma)script\b/
            },
            converters: {
                "text script": function (t) {
                    return S.globalEval(t), t
                }
            }
        }), S.ajaxPrefilter("script", (function (t) {
            void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET")
        })), S.ajaxTransport("script", (function (t) {
            var e, n;
            if (t.crossDomain || t.scriptAttrs) return {
                send: function (r, o) {
                    e = S("<script>").attr(t.scriptAttrs || {}).prop({
                        charset: t.scriptCharset,
                        src: t.url
                    }).on("load error", n = function (t) {
                        e.remove(), n = null, t && o("error" === t.type ? 404 : 200, t.type)
                    }), a.head.appendChild(e[0])
                },
                abort: function () {
                    n && n()
                }
            }
        }));
        var qe, Ke = [],
            $e = /(=)\?(?=&|$)|\?\?/;
        S.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function () {
                var t = Ke.pop() || S.expando + "_" + Oe++;
                return this[t] = !0, t
            }
        }), S.ajaxPrefilter("json jsonp", (function (t, e, r) {
            var o, i, a, s = !1 !== t.jsonp && ($e.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && $e.test(t.data) && "data");
            if (s || "jsonp" === t.dataTypes[0]) return o = t.jsonpCallback = m(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, s ? t[s] = t[s].replace($e, "$1" + o) : !1 !== t.jsonp && (t.url += (Pe.test(t.url) ? "&" : "?") + t.jsonp + "=" + o), t.converters["script json"] = function () {
                return a || S.error(o + " was not called"), a[0]
            }, t.dataTypes[0] = "json", i = n[o], n[o] = function () {
                a = arguments
            }, r.always((function () {
                void 0 === i ? S(n).removeProp(o) : n[o] = i, t[o] && (t.jsonpCallback = e.jsonpCallback, Ke.push(o)), a && m(i) && i(a[0]), a = i = void 0
            })), "script"
        })), v.createHTMLDocument = ((qe = a.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>", 2 === qe.childNodes.length), S.parseHTML = function (t, e, n) {
            return "string" != typeof t ? [] : ("boolean" == typeof e && (n = e, e = !1), e || (v.createHTMLDocument ? ((r = (e = a.implementation.createHTMLDocument("")).createElement("base")).href = a.location.href, e.head.appendChild(r)) : e = a), i = !n && [], (o = I.exec(t)) ? [e.createElement(o[1])] : (o = Ct([t], e, i), i && i.length && S(i).remove(), S.merge([], o.childNodes)));
            var r, o, i
        }, S.fn.load = function (t, e, n) {
            var r, o, i, a = this,
                s = t.indexOf(" ");
            return s > -1 && (r = be(t.slice(s)), t = t.slice(0, s)), m(e) ? (n = e, e = void 0) : e && "object" == typeof e && (o = "POST"), a.length > 0 && S.ajax({
                url: t,
                type: o || "GET",
                dataType: "html",
                data: e
            }).done((function (t) {
                i = arguments, a.html(r ? S("<div>").append(S.parseHTML(t)).find(r) : t)
            })).always(n && function (t, e) {
                a.each((function () {
                    n.apply(this, i || [t.responseText, e, t])
                }))
            }), this
        }, S.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], (function (t, e) {
            S.fn[e] = function (t) {
                return this.on(e, t)
            }
        })), S.expr.pseudos.animated = function (t) {
            return S.grep(S.timers, (function (e) {
                return t === e.elem
            })).length
        }, S.offset = {
            setOffset: function (t, e, n) {
                var r, o, i, a, s, u, c = S.css(t, "position"),
                    l = S(t),
                    h = {};
                "static" === c && (t.style.position = "relative"), s = l.offset(), i = S.css(t, "top"), u = S.css(t, "left"), ("absolute" === c || "fixed" === c) && (i + u).indexOf("auto") > -1 ? (a = (r = l.position()).top, o = r.left) : (a = parseFloat(i) || 0, o = parseFloat(u) || 0), m(e) && (e = e.call(t, n, S.extend({}, s))), null != e.top && (h.top = e.top - s.top + a), null != e.left && (h.left = e.left - s.left + o), "using" in e ? e.using.call(t, h) : l.css(h)
            }
        }, S.fn.extend({
            offset: function (t) {
                if (arguments.length) return void 0 === t ? this : this.each((function (e) {
                    S.offset.setOffset(this, t, e)
                }));
                var e, n, r = this[0];
                return r ? r.getClientRects().length ? (e = r.getBoundingClientRect(), n = r.ownerDocument.defaultView, {
                    top: e.top + n.pageYOffset,
                    left: e.left + n.pageXOffset
                }) : {
                    top: 0,
                    left: 0
                } : void 0
            },
            position: function () {
                if (this[0]) {
                    var t, e, n, r = this[0],
                        o = {
                            top: 0,
                            left: 0
                        };
                    if ("fixed" === S.css(r, "position")) e = r.getBoundingClientRect();
                    else {
                        for (e = this.offset(), n = r.ownerDocument, t = r.offsetParent || n.documentElement; t && (t === n.body || t === n.documentElement) && "static" === S.css(t, "position");) t = t.parentNode;
                        t && t !== r && 1 === t.nodeType && ((o = S(t).offset()).top += S.css(t, "borderTopWidth", !0), o.left += S.css(t, "borderLeftWidth", !0))
                    }
                    return {
                        top: e.top - o.top - S.css(r, "marginTop", !0),
                        left: e.left - o.left - S.css(r, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function () {
                return this.map((function () {
                    for (var t = this.offsetParent; t && "static" === S.css(t, "position");) t = t.offsetParent;
                    return t || at
                }))
            }
        }), S.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, (function (t, e) {
            var n = "pageYOffset" === e;
            S.fn[t] = function (r) {
                return V(this, (function (t, r, o) {
                    var i;
                    if (_(t) ? i = t : 9 === t.nodeType && (i = t.defaultView), void 0 === o) return i ? i[e] : t[r];
                    i ? i.scrollTo(n ? i.pageXOffset : o, n ? o : i.pageYOffset) : t[r] = o
                }), t, r, arguments.length)
            }
        })), S.each(["top", "left"], (function (t, e) {
            S.cssHooks[e] = Zt(v.pixelPosition, (function (t, n) {
                if (n) return n = Yt(t, e), Wt.test(n) ? S(t).position()[e] + "px" : n
            }))
        })), S.each({
            Height: "height",
            Width: "width"
        }, (function (t, e) {
            S.each({
                padding: "inner" + t,
                content: e,
                "": "outer" + t
            }, (function (n, r) {
                S.fn[r] = function (o, i) {
                    var a = arguments.length && (n || "boolean" != typeof o),
                        s = n || (!0 === o || !0 === i ? "margin" : "border");
                    return V(this, (function (e, n, o) {
                        var i;
                        return _(e) ? 0 === r.indexOf("outer") ? e["inner" + t] : e.document.documentElement["client" + t] : 9 === e.nodeType ? (i = e.documentElement, Math.max(e.body["scroll" + t], i["scroll" + t], e.body["offset" + t], i["offset" + t], i["client" + t])) : void 0 === o ? S.css(e, n, s) : S.style(e, n, o, s)
                    }), e, a ? o : void 0, a)
                }
            }))
        })), S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), (function (t, e) {
            S.fn[e] = function (t, n) {
                return arguments.length > 0 ? this.on(e, null, t, n) : this.trigger(e)
            }
        })), S.fn.extend({
            hover: function (t, e) {
                return this.mouseenter(t).mouseleave(e || t)
            }
        }), S.fn.extend({
            bind: function (t, e, n) {
                return this.on(t, null, e, n)
            },
            unbind: function (t, e) {
                return this.off(t, null, e)
            },
            delegate: function (t, e, n, r) {
                return this.on(e, t, n, r)
            },
            undelegate: function (t, e, n) {
                return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", n)
            }
        }), S.proxy = function (t, e) {
            var n, r, o;
            if ("string" == typeof e && (n = t[e], e = t, t = n), m(t)) return r = u.call(arguments, 2), (o = function () {
                return t.apply(e || this, r.concat(u.call(arguments)))
            }).guid = t.guid = t.guid || S.guid++, o
        }, S.holdReady = function (t) {
            t ? S.readyWait++ : S.ready(!0)
        }, S.isArray = Array.isArray, S.parseJSON = JSON.parse, S.nodeName = R, S.isFunction = m, S.isWindow = _, S.camelCase = q, S.type = w, S.now = Date.now, S.isNumeric = function (t) {
            var e = S.type(t);
            return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t))
        }, void 0 === (r = function () {
            return S
        }.apply(e, [])) || (t.exports = r);
        var Je = n.jQuery,
            Qe = n.$;
        return S.noConflict = function (t) {
            return n.$ === S && (n.$ = Qe), t && n.jQuery === S && (n.jQuery = Je), S
        }, o || (n.jQuery = n.$ = S), S
    }))
}, function (t, e, n) {
    "use strict";
    var r = n(255),
        o = n(263),
        i = n(264),
        a = n(265);
    (t.exports = function (t, e) {
        var n, i, s, u, c;
        return arguments.length < 2 || "string" != typeof t ? (u = e, e = t, t = null) : u = arguments[2], null == t ? (n = s = !0, i = !1) : (n = a.call(t, "c"), i = a.call(t, "e"), s = a.call(t, "w")), c = {
            value: e,
            configurable: n,
            enumerable: i,
            writable: s
        }, u ? r(o(u), c) : c
    }).gs = function (t, e, n) {
        var s, u, c, l;
        return "string" != typeof t ? (c = n, n = e, e = t, t = null) : c = arguments[3], null == e ? e = void 0 : i(e) ? null == n ? n = void 0 : i(n) || (c = n, n = void 0) : (c = e, e = n = void 0), null == t ? (s = !0, u = !1) : (s = a.call(t, "c"), u = a.call(t, "e")), l = {
            get: e,
            set: n,
            configurable: s,
            enumerable: u
        }, c ? r(o(c), l) : l
    }
}, function (t, e, n) {
    "use strict";
    t.exports = n(256)() ? Object.assign : n(257)
}, function (t, e, n) {
    "use strict";
    t.exports = function () {
        var t, e = Object.assign;
        return "function" == typeof e && (e(t = {
            foo: "raz"
        }, {
            bar: "dwa"
        }, {
            trzy: "trzy"
        }), t.foo + t.bar + t.trzy === "razdwatrzy")
    }
}, function (t, e, n) {
    "use strict";
    var r = n(258),
        o = n(262),
        i = Math.max;
    t.exports = function (t, e) {
        var n, a, s, u = i(arguments.length, 2);
        for (t = Object(o(t)), s = function (r) {
                try {
                    t[r] = e[r]
                } catch (t) {
                    n || (n = t)
                }
            }, a = 1; a < u; ++a) e = arguments[a], r(e).forEach(s);
        if (void 0 !== n) throw n;
        return t
    }
}, function (t, e, n) {
    "use strict";
    t.exports = n(259)() ? Object.keys : n(260)
}, function (t, e, n) {
    "use strict";
    t.exports = function () {
        try {
            return Object.keys("primitive"), !0
        } catch (t) {
            return !1
        }
    }
}, function (t, e, n) {
    "use strict";
    var r = n(111),
        o = Object.keys;
    t.exports = function (t) {
        return o(r(t) ? Object(t) : t)
    }
}, function (t, e, n) {
    "use strict";
    t.exports = function () {}
}, function (t, e, n) {
    "use strict";
    var r = n(111);
    t.exports = function (t) {
        if (!r(t)) throw new TypeError("Cannot use null or undefined");
        return t
    }
}, function (t, e, n) {
    "use strict";
    var r = n(111),
        o = Array.prototype.forEach,
        i = Object.create,
        a = function (t, e) {
            var n;
            for (n in t) e[n] = t[n]
        };
    t.exports = function (t) {
        var e = i(null);
        return o.call(arguments, (function (t) {
            r(t) && a(Object(t), e)
        })), e
    }
}, function (t, e, n) {
    "use strict";
    t.exports = function (t) {
        return "function" == typeof t
    }
}, function (t, e, n) {
    "use strict";
    t.exports = n(266)() ? String.prototype.contains : n(267)
}, function (t, e, n) {
    "use strict";
    var r = "razdwatrzy";
    t.exports = function () {
        return "function" == typeof r.contains && !0 === r.contains("dwa") && !1 === r.contains("foo")
    }
}, function (t, e, n) {
    "use strict";
    var r = String.prototype.indexOf;
    t.exports = function (t) {
        return r.call(this, t, arguments[1]) > -1
    }
}, function (t, e, n) {
    "use strict";
    t.exports = function (t) {
        if ("function" != typeof t) throw new TypeError(t + " is not a function");
        return t
    }
}, function (t, e, n) {
    "use strict";
    var r = n(49),
        o = n(17),
        i = [].slice,
        a = {},
        s = function (t, e, n) {
            if (!(e in a)) {
                for (var r = [], o = 0; o < e; o++) r[o] = "a[" + o + "]";
                a[e] = Function("C,a", "return new C(" + r.join(",") + ")")
            }
            return a[e](t, n)
        };
    t.exports = Function.bind || function (t) {
        var e = r(this),
            n = i.call(arguments, 1),
            a = function () {
                var r = n.concat(i.call(arguments));
                return this instanceof a ? s(e, r.length, r) : e.apply(t, r)
            };
        return o(e.prototype) && (a.prototype = e.prototype), a
    }
}, function (t, e, n) {
    var r = n(107),
        o = n(160),
        i = n(161),
        a = n(151),
        s = n(153),
        u = n(109);
    t.exports = function (t, e, n, c) {
        var l = -1,
            h = o,
            f = !0,
            p = t.length,
            d = [],
            y = e.length;
        if (!p) return d;
        n && (e = a(e, s(n))), c ? (h = i, f = !1) : e.length >= 200 && (h = u, f = !1, e = new r(e));
        t: for (; ++l < p;) {
            var g = t[l],
                v = null == n ? g : n(g);
            if (g = c || 0 !== g ? g : 0, f && v == v) {
                for (var m = y; m--;)
                    if (e[m] === v) continue t;
                d.push(g)
            } else h(e, v, c) || d.push(g)
        }
        return d
    }
}, function (t, e, n) {
    var r = n(272),
        o = n(150);
    t.exports = function (t) {
        return o(t) && r(t)
    }
}, function (t, e, n) {
    var r = n(273),
        o = n(275);
    t.exports = function (t) {
        return null != t && o(t.length) && !r(t)
    }
}, function (t, e, n) {
    var r = n(274),
        o = n(110);
    t.exports = function (t) {
        if (!o(t)) return !1;
        var e = r(t);
        return "[object Function]" == e || "[object GeneratorFunction]" == e || "[object AsyncFunction]" == e || "[object Proxy]" == e
    }
}, function (t, e) {
    var n = Object.prototype.toString;
    t.exports = function (t) {
        return n.call(t)
    }
}, function (t, e) {
    t.exports = function (t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991
    }
}, function (t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function o(t) {
        if (t && t.__esModule) return t;
        var e = {};
        if (null != t)
            for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
        return e.default = t, e
    }
    e.__esModule = !0;
    var i = o(n(163)),
        a = r(n(287)),
        s = r(n(52)),
        u = o(n(40)),
        c = o(n(288)),
        l = r(n(290));

    function h() {
        var t = new i.HandlebarsEnvironment;
        return u.extend(t, i), t.SafeString = a.default, t.Exception = s.default, t.Utils = u, t.escapeExpression = u.escapeExpression, t.VM = c, t.template = function (e) {
            return c.template(e, t)
        }, t
    }
    var f = h();
    f.create = h, l.default(f), f.default = f, e.default = f, t.exports = e.default
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(40);
    e.default = function (t) {
        t.registerHelper("blockHelperMissing", (function (e, n) {
            var o = n.inverse,
                i = n.fn;
            if (!0 === e) return i(this);
            if (!1 === e || null == e) return o(this);
            if (r.isArray(e)) return e.length > 0 ? (n.ids && (n.ids = [n.name]), t.helpers.each(e, n)) : o(this);
            if (n.data && n.ids) {
                var a = r.createFrame(n.data);
                a.contextPath = r.appendContextPath(n.data.contextPath, n.name), n = {
                    data: a
                }
            }
            return i(e, n)
        }))
    }, t.exports = e.default
}, function (t, e, n) {
    "use strict";
    (function (r) {
        e.__esModule = !0;
        var o, i = n(40),
            a = (o = n(52)) && o.__esModule ? o : {
                default: o
            };
        e.default = function (t) {
            t.registerHelper("each", (function (t, e) {
                if (!e) throw new a.default("Must pass iterator to #each");
                var n, o = e.fn,
                    s = e.inverse,
                    u = 0,
                    c = "",
                    l = void 0,
                    h = void 0;

                function f(e, n, r) {
                    l && (l.key = e, l.index = n, l.first = 0 === n, l.last = !!r, h && (l.contextPath = h + e)), c += o(t[e], {
                        data: l,
                        blockParams: i.blockParams([t[e], e], [h + e, null])
                    })
                }
                if (e.data && e.ids && (h = i.appendContextPath(e.data.contextPath, e.ids[0]) + "."), i.isFunction(t) && (t = t.call(this)), e.data && (l = i.createFrame(e.data)), t && "object" == typeof t)
                    if (i.isArray(t))
                        for (var p = t.length; u < p; u++) u in t && f(u, u, u === t.length - 1);
                    else if (r.Symbol && t[r.Symbol.iterator]) {
                    for (var d = [], y = t[r.Symbol.iterator](), g = y.next(); !g.done; g = y.next()) d.push(g.value);
                    for (p = (t = d).length; u < p; u++) f(u, u, u === t.length - 1)
                } else n = void 0, Object.keys(t).forEach((function (t) {
                    void 0 !== n && f(n, u - 1), n = t, u++
                })), void 0 !== n && f(n, u - 1, !0);
                return 0 === u && (c = s(this)), c
            }))
        }, t.exports = e.default
    }).call(this, n(46))
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r, o = (r = n(52)) && r.__esModule ? r : {
        default: r
    };
    e.default = function (t) {
        t.registerHelper("helperMissing", (function () {
            if (1 !== arguments.length) throw new o.default('Missing helper: "' + arguments[arguments.length - 1].name + '"')
        }))
    }, t.exports = e.default
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r, o = n(40),
        i = (r = n(52)) && r.__esModule ? r : {
            default: r
        };
    e.default = function (t) {
        t.registerHelper("if", (function (t, e) {
            if (2 != arguments.length) throw new i.default("#if requires exactly one argument");
            return o.isFunction(t) && (t = t.call(this)), !e.hash.includeZero && !t || o.isEmpty(t) ? e.inverse(this) : e.fn(this)
        })), t.registerHelper("unless", (function (e, n) {
            if (2 != arguments.length) throw new i.default("#unless requires exactly one argument");
            return t.helpers.if.call(this, e, {
                fn: n.inverse,
                inverse: n.fn,
                hash: n.hash
            })
        }))
    }, t.exports = e.default
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0, e.default = function (t) {
        t.registerHelper("log", (function () {
            for (var e = [void 0], n = arguments[arguments.length - 1], r = 0; r < arguments.length - 1; r++) e.push(arguments[r]);
            var o = 1;
            null != n.hash.level ? o = n.hash.level : n.data && null != n.data.level && (o = n.data.level), e[0] = o, t.log.apply(t, e)
        }))
    }, t.exports = e.default
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0, e.default = function (t) {
        t.registerHelper("lookup", (function (t, e, n) {
            return t ? n.lookupProperty(t, e) : t
        }))
    }, t.exports = e.default
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r, o = n(40),
        i = (r = n(52)) && r.__esModule ? r : {
            default: r
        };
    e.default = function (t) {
        t.registerHelper("with", (function (t, e) {
            if (2 != arguments.length) throw new i.default("#with requires exactly one argument");
            o.isFunction(t) && (t = t.call(this));
            var n = e.fn;
            if (o.isEmpty(t)) return e.inverse(this);
            var r = e.data;
            return e.data && e.ids && ((r = o.createFrame(e.data)).contextPath = o.appendContextPath(e.data.contextPath, e.ids[0])), n(t, {
                data: r,
                blockParams: o.blockParams([t], [r && r.contextPath])
            })
        }))
    }, t.exports = e.default
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0, e.registerDefaultDecorators = function (t) {
        o.default(t)
    };
    var r, o = (r = n(285)) && r.__esModule ? r : {
        default: r
    }
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(40);
    e.default = function (t) {
        t.registerDecorator("inline", (function (t, e, n, o) {
            var i = t;
            return e.partials || (e.partials = {}, i = function (o, i) {
                var a = n.partials;
                n.partials = r.extend({}, a, e.partials);
                var s = t(o, i);
                return n.partials = a, s
            }), e.partials[o.args[0]] = o.fn, i
        }))
    }, t.exports = e.default
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0, e.createNewLookupObject = function () {
        for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n];
        return r.extend.apply(void 0, [Object.create(null)].concat(e))
    };
    var r = n(40)
}, function (t, e, n) {
    "use strict";

    function r(t) {
        this.string = t
    }
    e.__esModule = !0, r.prototype.toString = r.prototype.toHTML = function () {
        return "" + this.string
    }, e.default = r, t.exports = e.default
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0, e.checkRevision = function (t) {
        var e = t && t[0] || 1,
            n = a.COMPILER_REVISION;
        if (!(e >= a.LAST_COMPATIBLE_COMPILER_REVISION && e <= a.COMPILER_REVISION)) {
            if (e < a.LAST_COMPATIBLE_COMPILER_REVISION) {
                var r = a.REVISION_CHANGES[n],
                    o = a.REVISION_CHANGES[e];
                throw new i.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + r + ") or downgrade your runtime to an older version (" + o + ").")
            }
            throw new i.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + t[1] + ").")
        }
    }, e.template = function (t, e) {
        if (!e) throw new i.default("No environment passed to template");
        if (!t || !t.main) throw new i.default("Unknown template object: " + typeof t);
        t.main.decorator = t.main_d, e.VM.checkRevision(t.compiler);
        var n = t.compiler && 7 === t.compiler[0],
            r = {
                strict: function (t, e, n) {
                    if (!t || !(e in t)) throw new i.default('"' + e + '" not defined in ' + t, {
                        loc: n
                    });
                    return t[e]
                },
                lookupProperty: function (t, e) {
                    var n = t[e];
                    return null == n || Object.prototype.hasOwnProperty.call(t, e) || c.resultIsAllowed(n, r.protoAccessControl, e) ? n : void 0
                },
                lookup: function (t, e) {
                    for (var n = t.length, o = 0; o < n; o++)
                        if (null != (t[o] && r.lookupProperty(t[o], e))) return t[o][e]
                },
                lambda: function (t, e) {
                    return "function" == typeof t ? t.call(e) : t
                },
                escapeExpression: o.escapeExpression,
                invokePartial: function (n, r, a) {
                    a.hash && (r = o.extend({}, r, a.hash), a.ids && (a.ids[0] = !0)), n = e.VM.resolvePartial.call(this, n, r, a);
                    var s = o.extend({}, a, {
                            hooks: this.hooks,
                            protoAccessControl: this.protoAccessControl
                        }),
                        u = e.VM.invokePartial.call(this, n, r, s);
                    if (null == u && e.compile && (a.partials[a.name] = e.compile(n, t.compilerOptions, e), u = a.partials[a.name](r, s)), null != u) {
                        if (a.indent) {
                            for (var c = u.split("\n"), l = 0, h = c.length; l < h && (c[l] || l + 1 !== h); l++) c[l] = a.indent + c[l];
                            u = c.join("\n")
                        }
                        return u
                    }
                    throw new i.default("The partial " + a.name + " could not be compiled when running in runtime-only mode")
                },
                fn: function (e) {
                    var n = t[e];
                    return n.decorator = t[e + "_d"], n
                },
                programs: [],
                program: function (t, e, n, r, o) {
                    var i = this.programs[t],
                        a = this.fn(t);
                    return e || o || r || n ? i = l(this, t, a, e, n, r, o) : i || (i = this.programs[t] = l(this, t, a)), i
                },
                data: function (t, e) {
                    for (; t && e--;) t = t._parent;
                    return t
                },
                mergeIfNeeded: function (t, e) {
                    var n = t || e;
                    return t && e && t !== e && (n = o.extend({}, e, t)), n
                },
                nullContext: Object.seal({}),
                noop: e.VM.noop,
                compilerInfo: t.compiler
            };

        function a(e) {
            var n = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
                o = n.data;
            a._setup(n), !n.partial && t.useData && (o = f(e, o));
            var i = void 0,
                s = t.useBlockParams ? [] : void 0;

            function u(e) {
                return "" + t.main(r, e, r.helpers, r.partials, o, s, i)
            }
            return t.useDepths && (i = n.depths ? e != n.depths[0] ? [e].concat(n.depths) : n.depths : [e]), (u = p(t.main, u, r, n.depths || [], o, s))(e, n)
        }
        return a.isTop = !0, a._setup = function (i) {
            if (i.partial) r.protoAccessControl = i.protoAccessControl, r.helpers = i.helpers, r.partials = i.partials, r.decorators = i.decorators, r.hooks = i.hooks;
            else {
                var a = o.extend({}, e.helpers, i.helpers);
                ! function (t, e) {
                    Object.keys(t).forEach((function (n) {
                        var r = t[n];
                        t[n] = function (t, e) {
                            var n = e.lookupProperty;
                            return u.wrapHelper(t, (function (t) {
                                return o.extend({
                                    lookupProperty: n
                                }, t)
                            }))
                        }(r, e)
                    }))
                }(a, r), r.helpers = a, t.usePartial && (r.partials = r.mergeIfNeeded(i.partials, e.partials)), (t.usePartial || t.useDecorators) && (r.decorators = o.extend({}, e.decorators, i.decorators)), r.hooks = {}, r.protoAccessControl = c.createProtoAccessControl(i);
                var l = i.allowCallsToHelperMissing || n;
                s.moveHelperToHooks(r, "helperMissing", l), s.moveHelperToHooks(r, "blockHelperMissing", l)
            }
        }, a._child = function (e, n, o, a) {
            if (t.useBlockParams && !o) throw new i.default("must pass block params");
            if (t.useDepths && !a) throw new i.default("must pass parent depths");
            return l(r, e, t[e], n, 0, o, a)
        }, a
    }, e.wrapProgram = l, e.resolvePartial = function (t, e, n) {
        return t ? t.call || n.name || (n.name = t, t = n.partials[t]) : t = "@partial-block" === n.name ? n.data["partial-block"] : n.partials[n.name], t
    }, e.invokePartial = function (t, e, n) {
        var r = n.data && n.data["partial-block"];
        n.partial = !0, n.ids && (n.data.contextPath = n.ids[0] || n.data.contextPath);
        var s = void 0;
        if (n.fn && n.fn !== h && function () {
                n.data = a.createFrame(n.data);
                var t = n.fn;
                s = n.data["partial-block"] = function (e) {
                    var n = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                    return n.data = a.createFrame(n.data), n.data["partial-block"] = r, t(e, n)
                }, t.partials && (n.partials = o.extend({}, n.partials, t.partials))
            }(), void 0 === t && s && (t = s), void 0 === t) throw new i.default("The partial " + n.name + " could not be found");
        if (t instanceof Function) return t(e, n)
    }, e.noop = h;
    var r, o = function (t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(n(40)),
        i = (r = n(52)) && r.__esModule ? r : {
            default: r
        },
        a = n(163),
        s = n(164),
        u = n(289),
        c = n(166);

    function l(t, e, n, r, o, i, a) {
        function s(e) {
            var o = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
                s = a;
            return !a || e == a[0] || e === t.nullContext && null === a[0] || (s = [e].concat(a)), n(t, e, t.helpers, t.partials, o.data || r, i && [o.blockParams].concat(i), s)
        }
        return (s = p(n, s, t, a, r, i)).program = e, s.depth = a ? a.length : 0, s.blockParams = o || 0, s
    }

    function h() {
        return ""
    }

    function f(t, e) {
        return e && "root" in e || ((e = e ? a.createFrame(e) : {}).root = t), e
    }

    function p(t, e, n, r, i, a) {
        if (t.decorator) {
            var s = {};
            e = t.decorator(e, s, n, r && r[0], i, a, r), o.extend(e, s)
        }
        return e
    }
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0, e.wrapHelper = function (t, e) {
        return "function" != typeof t ? t : function () {
            var n = arguments[arguments.length - 1];
            return arguments[arguments.length - 1] = e(n), t.apply(this, arguments)
        }
    }
}, function (t, e, n) {
    "use strict";
    (function (n) {
        e.__esModule = !0, e.default = function (t) {
            var e = void 0 !== n ? n : window,
                r = e.Handlebars;
            t.noConflict = function () {
                return e.Handlebars === t && (e.Handlebars = r), t
            }
        }, t.exports = e.default
    }).call(this, n(46))
}, function (t, e, n) {
    var r = n(1),
        o = n(17),
        i = n(112).onFreeze,
        a = n(158),
        s = n(8),
        u = Object.seal;
    r({
        target: "Object",
        stat: !0,
        forced: s((function () {
            u(1)
        })),
        sham: !a
    }, {
        seal: function (t) {
            return u && o(t) ? u(i(t)) : t
        }
    })
}, function (t, e, n) {
    "use strict";
    var r = n(1),
        o = n(56).findIndex,
        i = n(79),
        a = n(37),
        s = !0,
        u = a("findIndex");
    "findIndex" in [] && Array(1).findIndex((function () {
        s = !1
    })), r({
        target: "Array",
        proto: !0,
        forced: s || !u
    }, {
        findIndex: function (t) {
            return o(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }), i("findIndex")
}, function (t, e, n) {
    n(1)({
        target: "Math",
        stat: !0
    }, {
        sign: n(294)
    })
}, function (t, e) {
    t.exports = Math.sign || function (t) {
        return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
    }
}, function (t, e, n) {
    var r = n(296);
    t.exports = function (t, e, n) {
        "__proto__" == e && r ? r(t, e, {
            configurable: !0,
            enumerable: !0,
            value: n,
            writable: !0
        }) : t[e] = n
    }
}, function (t, e, n) {
    var r = n(297),
        o = function () {
            try {
                var t = r(Object, "defineProperty");
                return t({}, "", {}), t
            } catch (t) {}
        }();
    t.exports = o
}, function (t, e) {
    t.exports = function (t, e) {
        return null == t ? void 0 : t[e]
    }
}, function (t, e, n) {
    var r = n(299),
        o = n(300),
        i = n(152),
        a = n(108);
    t.exports = function (t, e) {
        return function (n, s) {
            var u = a(n) ? r : o,
                c = e ? e() : {};
            return u(n, t, i(s, 2), c)
        }
    }
}, function (t, e) {
    t.exports = function (t, e, n, r) {
        for (var o = -1, i = null == t ? 0 : t.length; ++o < i;) {
            var a = t[o];
            e(r, a, n(a), t)
        }
        return r
    }
}, function (t, e) {
    t.exports = function (t, e, n, r) {
        for (var o = -1, i = null == t ? 0 : t.length; ++o < i;) {
            var a = t[o];
            e(r, a, n(a), t)
        }
        return r
    }
}, function (t, e, n) {
    var r = n(1),
        o = Math.log,
        i = Math.LOG10E;
    r({
        target: "Math",
        stat: !0
    }, {
        log10: function (t) {
            return o(t) * i
        }
    })
}, function (t, e, n) {
    var r = n(107),
        o = n(160),
        i = n(161),
        a = n(109),
        s = n(303),
        u = n(304);
    t.exports = function (t, e, n) {
        var c = -1,
            l = o,
            h = t.length,
            f = !0,
            p = [],
            d = p;
        if (n) f = !1, l = i;
        else if (h >= 200) {
            var y = e ? null : s(t);
            if (y) return u(y);
            f = !1, l = a, d = new r
        } else d = e ? [] : p;
        t: for (; ++c < h;) {
            var g = t[c],
                v = e ? e(g) : g;
            if (g = n || 0 !== g ? g : 0, f && v == v) {
                for (var m = d.length; m--;)
                    if (d[m] === v) continue t;
                e && d.push(v), p.push(g)
            } else l(d, v, n) || (d !== p && d.push(v), p.push(g))
        }
        return p
    }
}, function (t, e) {
    t.exports = function () {}
}, function (t, e) {
    t.exports = function () {
        return []
    }
}, function (t, e) {}, function (t, e, n) {
    "use strict";
    n.r(e), n.d(e, "MapApp", (function () {
        return Kd
    })), n(7), n(9), n(10), n(26), n(42), n(68), n(28), n(15), n(50), n(70), n(3), n(198), n(11), n(82), n(12), n(132), n(16), n(104), n(83), n(84), n(31), n(2), n(21), n(85), n(4), n(51), n(5), n(212), n(214), n(216), n(29), n(6), n(24);
    var r = n(167),
        o = n.n(r),
        i = n(57),
        a = n.n(i),
        s = n(71),
        u = n.n(s),
        c = n(0),
        l = n.n(c),
        h = n(30),
        f = n.n(h),
        p = n(168),
        d = n.n(p);
    n(156);
    var y = function () {
            function t(e) {
                ! function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this.buildings = [], Object.assign(this, e)
            }
            var e;
            return (e = [{
                key: "getValidView",
                value: function (t) {
                    return Object.keys(this.views).includes(t) ? t : this.defaultView
                }
            }, {
                key: "view",
                get: function () {
                    return this.getValidView(this._view)
                },
                set: function (t) {
                    this._view = t
                }
            }, {
                key: "defaultView",
                get: function () {
                    return (Object.entries(this.views).find((function (t) {
                        return t[1].default
                    })) || [])[0] || "tiles"
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(t.prototype, e), t
        }(),
        g = {
            Desert: {
                sep17: {
                    desc: "Early prototype, found September 2017",
                    default: !1
                },
                nov17: {
                    desc: "More complete, found November 2017",
                    default: !1
                },
                valle: {
                    desc: "Early rough spanish names, map was named Valle Coronado",
                    default: !1
                },
                first: {
                    desc: "First playable version on test",
                    default: !1
                },
                dec17: {
                    desc: "1.0",
                    default: !1
                },
                jan18: {
                    desc: "January 13, 2018",
                    default: !1
                },
                jan18_1: {
                    desc: "January 31, 2018",
                    default: !1
                },
                apr18: {
                    desc: "April 11, 2018",
                    default: !1
                },
                apr18_1: {
                    desc: "April 26, 2018",
                    default: !1
                },
                may18: {
                    desc: "May 16, 2018",
                    default: !1
                },
                tiles: {
                    desc: "Current version",
                    default: !0
                }
            },
            Savage: {
                test1_2: {
                    desc: "First test, second update, April 04, 2018",
                    default: !1
                },
                test2: {
                    desc: "Test 2 April 16, 2018",
                    default: !1
                },
                test3: {
                    desc: "Test 3 May 10, 2018",
                    default: !1
                },
                test4: {
                    desc: "Test 4 May 31, 2018",
                    default: !1
                },
                jun18: {
                    desc: "Sanhok released, June 20, 2018",
                    default: !1
                },
                tiles: {
                    desc: "Current version",
                    default: !0
                }
            },
            DihorOtok: {
                20190708: {
                    desc: "July 8, 2019",
                    default: !1
                },
                20200110: {
                    desc: "January 10, 2020",
                    default: !1
                },
                tiles: {
                    desc: "Current version",
                    default: !0
                }
            },
            Range: {
                tiles: {
                    desc: "Current version",
                    default: !0
                }
            },
            Baltic: {
                landx8: {
                    desc: "Old Map",
                    default: !1
                },
                aug17: {
                    desc: "August 2017",
                    default: !1
                },
                notext: {
                    desc: "Map without text (June 2018)",
                    default: !1
                },
                dec17: {
                    desc: "December 20, 2017 -- 1.0",
                    default: !1
                },
                tiles: {
                    desc: "Current version",
                    default: !0
                }
            },
            Summerland: {
                tiles: {
                    desc: "Current version",
                    default: !0
                }
            },
            Chimera: {
                tiles: {
                    desc: "Current version",
                    default: !0
                }
            },
            Tiger: {
                tiles: {
                    desc: "Current version",
                    default: !0
                }
            },
            Heaven: {
                tiles: {
                    desc: "Current version",
                    default: !0
                }
            },
            Kiki: {
                tiles: {
                    desc: "Current version",
                    default: !0
                }
            }
        };

    function v(t) {
        return g[t]
    }
    var m = new y({
            id: "Desert",
            name: "Miramar",
            views: v("Desert"),
            projection: {
                projection: [8160, 8160],
                dimensions: [8160, 8160],
                gridSize: 1020
            },
            overlays: [{
                id: "roads",
                enabled: !1
            }, {
                id: "asphalt",
                enabled: !1
            }, {
                id: "contour",
                name: "Contours",
                icon: "globe",
                color: "rgba(210,180,140,1)",
                maxZoom: 5,
                format: "png",
                display: !1
            }, {
                id: "grid",
                name: "Grid",
                icon: "th",
                color: "rgba(222,222,222,1)",
                display: !0,
                virt: !0,
                displayIndex: 0
            }],
            maxZoom: 5,
            heatMult: 1,
            gridColor: "rgba(0,0,0,0.9)",
            smallGridColor: "rgba(255,255,255,0.4)",
            lootTypes: {
                AA: "Normal",
                BA: "Military",
                BB: "Crates",
                CA: "Shacks",
                CB: "Parachute"
            },
            vehicleCategories: {
                "EThingSpotGroupType::GroupA": {
                    name: "Vehicles",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "orange",
                    displayIndex: 0
                },
                "EThingSpotGroupType::GroupB": {
                    name: "Offroad",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "wheat",
                    displayIndex: 1
                },
                "EThingSpotGroupType::GroupE": {
                    name: "Boats",
                    icon: "ship",
                    iconChar: "ïˆš",
                    color: "lightcyan",
                    displayIndex: 2
                },
                "EThingSpotGroupType::GroupF": {
                    name: "Islands",
                    icon: "ship",
                    iconChar: "ïˆš",
                    iconColor: "#fff",
                    color: "aquamarine",
                    displayIndex: 3
                },
                "EThingSpotGroupType::GroupN": {
                    name: "<h4>Esports</h4> Mirado",
                    color: "purple",
                    icon: "car",
                    iconChar: "ï†¹",
                    ratio: 1,
                    display: !1,
                    enabled: !0,
                    displayIndex: 10
                },
                DeployedMotorcycle: {
                    name: "Conquest",
                    icon: "motorcycle",
                    iconChar: "ïˆœ",
                    color: "#D66FA1",
                    ratio: 1,
                    display: !1,
                    displayIndex: 20,
                    enabled: !1
                },
                "EThingSpotGroupType::GroupM": {
                    name: "<h4>Esports</h4> Pickup",
                    color: "plum",
                    icon: "car",
                    iconChar: "ï†¹",
                    ratio: 1,
                    display: !1,
                    enabled: !0,
                    displayIndex: 11
                },
                "EThingSpotGroupType::GroupL": {
                    name: "<h4>Esports</h4> Boat",
                    color: "mediumpurple",
                    icon: "ship",
                    iconChar: "ïˆš",
                    ratio: 1,
                    display: !1,
                    enabled: !0
                },
                "EThingSpotGroupType::GroupC": {
                    name: "Mirado",
                    color: "gold",
                    icon: "car",
                    iconChar: "ï†¹",
                    displayIndex: 5
                },
                "EThingSpotGroupType::GroupG": {
                    name: "Glider",
                    color: "cyan",
                    icon: "plane",
                    iconChar: "ï²"
                }
            }
        }),
        _ = new y({
            id: "Savage",
            name: "Sanhok",
            views: v("Savage"),
            projection: {
                projection: [8160, 8160],
                dimensions: [8160, 8160],
                sizeScale: .5,
                gridLength: 2e3,
                gridSize: 2024,
                gridDivisions: 10,
                gridRef: {
                    X: "ABCD",
                    Y: "IJKL"
                }
            },
            overlays: [{
                id: "shallow",
                name: "Shallows",
                icon: "road",
                color: "lightcyan",
                maxZoom: 5,
                format: "png",
                enabled: !1
            }, {
                id: "contour",
                name: "Contours",
                icon: "globe",
                color: "rgba(210,180,140,1)",
                maxZoom: 5,
                format: "png",
                display: !1,
                displayIndex: 1
            }, {
                id: "grid",
                name: "Grid",
                icon: "th",
                color: "rgba(222,222,222,1)",
                display: !0,
                virt: !0,
                displayIndex: 0
            }],
            maxZoom: 5,
            heatMult: 1.66,
            lootTypes: {
                AA: "Residential",
                BA: "Military",
                BB: "Barracks",
                CA: "Shacks"
            },
            gridColor: "rgba(0,0,0,0.9)",
            smallGridColor: "rgba(255,255,255,0.4)",
            vehicleCategories: {
                "EThingSpotGroupType::GroupA": {
                    name: "Vehicles",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#E28C5A",
                    displayIndex: 0
                },
                "EThingSpotGroupType::GroupE": {
                    name: "Boats",
                    color: "lightcyan",
                    icon: "ship",
                    iconChar: "ïˆš",
                    displayIndex: 1
                },
                "EThingSpotGroupType::GroupF": {
                    name: "More boats",
                    color: "lightcyan",
                    icon: "ship",
                    iconChar: "ïˆš",
                    displayIndex: 2
                },
                "EThingSpotGroupType::GroupG": {
                    name: "River Boats",
                    color: "#E5FFE6",
                    icon: "ship",
                    iconChar: "ïˆš",
                    displayIndex: 3
                },
                "EThingSpotGroupType::GroupH": {
                    name: "Cave AquaRail",
                    icon: "ship",
                    iconChar: "ïˆš",
                    color: "#E0C0B1",
                    displayIndex: 4
                },
                "EThingSpotGroupType::GroupC": {
                    name: "Cave Bike",
                    icon: "motorcycle",
                    iconChar: "ïˆœ",
                    color: "#E0C0B1",
                    displayIndex: 5
                },
                DeployedMotorcycle: {
                    name: "Conquest",
                    icon: "motorcycle",
                    iconChar: "ïˆœ",
                    color: "#D66FA1",
                    ratio: 1,
                    display: !1,
                    enabled: !1
                },
                "EThingSpotGroupType::GroupN": {
                    name: "<h4>Esports</h4> Rony",
                    color: "purple",
                    icon: "car",
                    iconChar: "ï†¹",
                    ratio: 1,
                    display: !1,
                    enabled: !0,
                    displayIndex: 20
                },
                "EThingSpotGroupType::GroupL": {
                    name: "<h4>Esports</h4> Boat",
                    color: "mediumpurple",
                    icon: "ship",
                    iconChar: "ïˆš",
                    ratio: 1,
                    display: !1,
                    enabled: !0,
                    displayIndex: 21
                },
                "EThingSpotGroupType::GroupK": {
                    name: "<h4>Esports</h4> AquaRail",
                    color: "mediumpurple",
                    icon: "ship",
                    iconChar: "ïˆš",
                    ratio: 1,
                    display: !1,
                    enabled: !0,
                    displayIndex: 22
                },
                "EThingSpotGroupType::GroupD": {
                    name: "Glider",
                    color: "cyan",
                    icon: "plane",
                    iconChar: "ï²"
                }
            }
        }),
        b = new y({
            id: "Range",
            name: "Training",
            views: v("Range"),
            projection: {
                projection: [8160, 8160],
                dimensions: [8160, 8160],
                sizeScale: .25,
                gridLength: 4e3,
                gridSize: 4048,
                gridDivisions: 10,
                gridRef: {
                    X: "ABCD",
                    Y: "IJKL"
                }
            },
            overlays: [{
                id: "contour",
                name: "Contours",
                icon: "globe",
                color: "rgba(210,180,140,1)",
                maxZoom: 5,
                format: "png",
                display: !1
            }, {
                id: "grid",
                name: "Grid",
                icon: "th",
                color: "rgba(222,222,222,1)",
                display: !0,
                virt: !0,
                displayIndex: 0
            }],
            maxZoom: 5,
            heatMult: 1.66,
            lootTypes: {
                ZA: "Misc",
                ZB: "Meds",
                ZC: "Weapons",
                ZG: "Ammo",
                ZF: "Throwables",
                ZD: "Equipment",
                ZE: "Ghillie"
            },
            gridColor: "rgba(0,0,0,0.9)",
            smallGridColor: "rgba(255,255,255,0.4)",
            vehicleCategories: {
                ParachuteExperience: {
                    name: "Chute",
                    icon: "plane",
                    iconChar: "ï²",
                    color: "white",
                    ratio: 1,
                    display: !1
                },
                DeployedVehicle: {
                    name: "Vehicles",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#E28C5A",
                    ratio: 1,
                    display: !1,
                    enabled: !1
                },
                DeployedBoat: {
                    name: "Boat",
                    color: "lightcyan",
                    icon: "ship",
                    iconChar: "ïˆš",
                    ratio: 1
                },
                DeployedAquaRail: {
                    name: "AquaRail",
                    color: "#E5FFE6",
                    icon: "ship",
                    iconChar: "ïˆš",
                    ratio: 1,
                    enabled: !1,
                    display: !1
                },
                DeployedBuggy: {
                    name: "Buggy",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#E28C5A",
                    ratio: 1
                },
                DeployedMotorcycle: {
                    name: "Motorcycle",
                    icon: "motorcycle",
                    iconChar: "ïˆœ",
                    color: "#D66FA1",
                    ratio: 1
                },
                "DeployedSidecar Motorcycle": {
                    name: "Sidecar",
                    icon: "motorcycle",
                    iconChar: "ïˆœ",
                    color: "#E28C5A",
                    ratio: 1,
                    enabled: !1,
                    display: !1
                },
                DeployedDacia: {
                    name: "Dacia",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#E28C5A",
                    ratio: 1
                },
                DeployedUAZ: {
                    name: "UAZ",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#E28C5A",
                    ratio: 1
                },
                DeployedVan: {
                    name: "Van",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#E28C5A",
                    ratio: 1
                },
                DeployedPickup: {
                    name: "Pickup",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#E28C5A",
                    ratio: 1,
                    enabled: !1,
                    display: !1
                },
                DeployedMirado: {
                    name: "Mirado",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#D66FA1",
                    ratio: 1
                },
                DeployedRony: {
                    name: "Rony",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#E28C5A",
                    ratio: 1
                },
                DeployedScooter: {
                    name: "Scooter",
                    icon: "motorcycle",
                    iconChar: "ïˆœ",
                    color: "#DBBAA6",
                    ratio: 1
                },
                DeployedTukTuk: {
                    name: "TukTuk",
                    icon: "motorcycle",
                    iconChar: "ïˆœ",
                    color: "#DBBAA6",
                    ratio: 1
                },
                DeployedZima: {
                    name: "Zima",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#E28C5A",
                    ratio: 1
                },
                DeployedBeetle: {
                    name: "Beetle",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#E28C5A",
                    ratio: 1,
                    enabled: !1,
                    display: !1
                }
            }
        }),
        x = new y({
            displayIcon: !1,
            id: "DihorOtok",
            name: "Vikendi",
            views: v("DihorOtok"),
            projection: {
                projection: [8160, 8160],
                dimensions: [8160, 8160],
                adjustCoords: [0, 0],
                sizeScale: .75,
                gridLength: 1e3 / .75,
                gridSize: 1360,
                gridDivisions: 10,
                gridRef: {
                    X: "ABCDEF",
                    Y: "IJKLMN"
                }
            },
            overlays: [{
                id: "contour",
                name: "Contours",
                icon: "globe",
                color: "rgba(210,180,140,1)",
                maxZoom: 5,
                format: "png",
                display: !1
            }, {
                id: "grid",
                name: "Grid",
                icon: "th",
                color: "rgba(222,222,222,1)",
                display: !0,
                virt: !0,
                displayIndex: 0
            }],
            maxZoom: 5,
            heatMult: 1,
            lootTypes: {
                AA: "AA",
                BA: "BA",
                BB: "BB",
                DA: "DA",
                DB: "DB",
                XX: "Package"
            },
            gridColor: "rgba(0,0,0,0.9)",
            smallGridColor: "rgba(255,255,255,0.4)",
            vehicleCategories: {
                "EThingSpotGroupType::GroupA": {
                    name: "Vehicles--old",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#FFC96D",
                    enabled: !1
                },
                "EThingSpotGroupType::GroupC": {
                    name: "Garage",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "red"
                },
                "EThingSpotGroupType::GroupB": {
                    name: "Vehicles",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#FFC96D",
                    displayIndex: 0
                },
                "EThingSpotGroupType::GroupE": {
                    name: "Boats",
                    color: "lightcyan",
                    icon: "ship",
                    iconChar: "ïˆš"
                },
                "EThingSpotGroupType::GroupF": {
                    name: "River Boats",
                    color: "#E5FFE6",
                    icon: "ship",
                    iconChar: "ïˆš",
                    display: !1,
                    enabled: !1
                },
                "EThingSpotGroupType::GroupN": {
                    name: "<h4>Esports</h4>",
                    color: "purple",
                    icon: "car",
                    iconChar: "ï†¹",
                    ratio: 1,
                    display: !1,
                    enabled: !1
                },
                "EThingSpotGroupType::GroupM": {
                    name: "<h4>Esports</h4> 2",
                    color: "plum",
                    icon: "car",
                    iconChar: "ï†¹",
                    ratio: 1,
                    display: !1,
                    enabled: !1
                },
                "EThingSpotGroupType::GroupL": {
                    name: "<h4>Esports</h4> Boat",
                    color: "mediumpurple",
                    icon: "ship",
                    iconChar: "ïˆš",
                    ratio: 1,
                    display: !1,
                    enabled: !1
                }
            }
        }),
        w = new y({
            id: "Baltic",
            name: "Erangel",
            views: v("Baltic"),
            projection: {
                projection: [8192, 8192],
                dimensions: [8192, 8192]
            },
            overlays: [{
                id: "grid",
                name: "Grid",
                icon: "th",
                color: "rgba(222,222,222,1)",
                display: !0,
                virt: !0,
                displayIndex: 0
            }, {
                id: "contour",
                name: "Contours",
                icon: "globe",
                color: "rgba(210,180,140,1)",
                maxZoom: 5,
                format: "png",
                display: !1
            }],
            maxZoom: 5,
            heatMult: 1,
            gridColor: "rgba(0,0,0,0.9)",
            smallGridColor: "rgba(255,255,255,0.4)",
            lootTypes: {
                AA: "Normal",
                AD: "Bridge",
                BA: "Military",
                BB: "Crates",
                BC: "Tables",
                CA: "Shacks",
                CB: "Spawn Island",
                DA: "Church"
            },
            areas: {
                blueZones: {
                    name: "Blue Zone Restricted Areas"
                },
                carePackages: {
                    name: "Care Package Restricted Areas"
                },
                spawnAreas: {
                    name: "Start Areas"
                },
                "bza-Field": {
                    name: "Field End Zones"
                },
                "bza-Mountain": {
                    name: "Mountain End Zones"
                },
                "bza-Town": {
                    name: "Town End Zones"
                },
                "bza-WarMode": {
                    name: "WarMode Zones"
                }
            },
            vehicleCategories: {
                "EThingSpotGroupType::GroupA": {
                    name: "Vehicles",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#FFC96D"
                },
                "EThingSpotGroupType::GroupC": {
                    name: "Garage",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "red"
                },
                "EThingSpotGroupType::GroupE": {
                    name: "Boats",
                    color: "lightcyan",
                    icon: "ship",
                    iconChar: "ïˆš"
                },
                "EThingSpotGroupType::GroupB": {
                    name: "Old(?)",
                    icon: "car",
                    iconChar: "ï†ˆ",
                    color: "pink",
                    display: !1,
                    enabled: !1
                },
                "EThingSpotGroupType::GroupN": {
                    name: "<h4>Esports</h4> Dacia",
                    color: "purple",
                    icon: "car",
                    iconChar: "ï†¹",
                    ratio: 1,
                    display: !1,
                    enabled: !0
                },
                DeployedMotorcycle: {
                    name: "Conquest",
                    icon: "motorcycle",
                    iconChar: "ïˆœ",
                    color: "#D66FA1",
                    ratio: 1,
                    display: !1,
                    enabled: !1
                },
                "EThingSpotGroupType::GroupM": {
                    name: "<h4>Esports</h4> UAZ",
                    color: "plum",
                    icon: "car",
                    iconChar: "ï†¹",
                    ratio: 1,
                    display: !1,
                    enabled: !0
                },
                "EThingSpotGroupType::GroupL": {
                    name: "<h4>Esports</h4> Boat",
                    color: "mediumpurple",
                    icon: "ship",
                    iconChar: "ïˆš",
                    ratio: 1,
                    display: !1,
                    enabled: !0
                },
                "EThingSpotGroupType::GroupG": {
                    name: "Glider",
                    color: "cyan",
                    icon: "plane",
                    iconChar: "ï²"
                }
            }
        }),
        S = new y({
            displayIcon: !1,
            id: "Summerland",
            name: "Karakin",
            views: v("Summerland"),
            projection: {
                projection: [8160, 8160],
                dimensions: [8160, 8160],
                sizeScale: .25,
                gridLength: 4e3,
                gridSize: 4048,
                gridDivisions: 10,
                gridRef: {
                    X: "AB",
                    Y: "IJ"
                }
            },
            overlays: [{
                id: "grid",
                name: "Grid",
                icon: "th",
                color: "rgba(222,222,222,1)",
                display: !0,
                virt: !0,
                displayIndex: 0
            }, {
                id: "contour",
                name: "Contours",
                icon: "globe",
                color: "rgba(210,180,140,1)",
                maxZoom: 5,
                format: "png",
                display: !1
            }, {
                id: "tunnel",
                name: "Tunnels",
                icon: "level-down",
                color: "rgba(208,179,132,1)",
                maxZoom: 5,
                format: "png"
            }],
            maxZoom: 5,
            heatMult: 2.33,
            gridColor: "rgba(0,0,0,0.9)",
            smallGridColor: "rgba(255,255,255,0.4)",
            lootTypes: {
                AA: "City A",
                BA: "City B",
                BB: "Apartments",
                CA: "Shack",
                DA: "Smuggler Stash",
                DB: "Tunnel Core"
            },
            vehicleCategories: {
                "EThingSpotGroupType::GroupA": {
                    name: "Vehicles",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "orange",
                    displayIndex: 0,
                    display: !1,
                    enabled: !1
                },
                "EThingSpotGroupType::GroupE": {
                    name: "Boats",
                    icon: "ship",
                    iconChar: "ïˆš",
                    color: "lightcyan",
                    displayIndex: 1,
                    display: !1,
                    enabled: !1
                }
            },
            maxPlayers: 49
        }),
        C = new y({
            id: "Chimera",
            name: "Paramo",
            views: v("Chimera"),
            projection: {
                projection: [8160, 8160],
                dimensions: [8160, 8160],
                sizeScale: .375,
                gridLength: 1e3 / .375,
                gridSize: 2720,
                gridDivisions: 10,
                gridRef: {
                    X: "ABC",
                    Y: "IJK"
                }
            },
            overlays: [{
                id: "grid",
                name: "Grid",
                icon: "th",
                color: "rgba(222,222,222,1)",
                display: !0,
                virt: !0,
                displayIndex: 0
            }, {
                id: "contour",
                name: "Contours",
                icon: "globe",
                color: "rgba(210,180,140,1)",
                maxZoom: 5,
                format: "png",
                display: !1
            }],
            maxZoom: 5,
            heatMult: 2.33,
            gridColor: "rgba(0,0,0,0.9)",
            smallGridColor: "rgba(255,255,255,0.4)",
            lootTypes: {
                AA: "AA",
                BA: "BA",
                CA: "CA",
                DB: "DB",
                ZA: "ZA"
            },
            vehicleCategories: {
                "EThingSpotGroupType::GroupA": {
                    name: "Vehicles",
                    icon: "motorcycle",
                    iconChar: "ïˆœ",
                    color: "orange",
                    displayIndex: 0
                },
                LockedDoor: {
                    name: "Secret Room",
                    color: "lime",
                    icon: "key",
                    iconChar: "ï‚„",
                    display: !1,
                    enabled: !0,
                    displayIndex: 50
                }
            },
            maxPlayers: 49
        }),
        E = new y({
            id: "Tiger",
            name: "Taego",
            views: v("Tiger"),
            projection: {
                projection: [8160, 8160],
                dimensions: [8160, 8160],
                gridSize: 1020
            },
            overlays: [{
                id: "roads",
                enabled: !1
            }, {
                id: "asphalt",
                enabled: !1
            }, {
                id: "grid",
                name: "Grid",
                icon: "th",
                color: "rgba(222,222,222,1)",
                display: !0,
                virt: !0,
                displayIndex: 0
            }],
            maxZoom: 4,
            heatMult: 1,
            gridColor: "rgba(0,0,0,0.9)",
            smallGridColor: "rgba(255,255,255,0.4)",
            lootTypes: {
                AA: "AA",
                BA: "BA",
                CA: "CA",
                DA: "DA"
            },
            vehicleCategories: {
                "EThingSpotGroupType::GroupA": {
                    name: "Vehicles",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "orange",
                    displayIndex: 0
                },
                "EThingSpotGroupType::GroupB": {
                    name: "Offroad",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "wheat",
                    displayIndex: 2
                },
                "EThingSpotGroupType::GroupE": {
                    name: "Boats",
                    icon: "ship",
                    iconChar: "ïˆš",
                    color: "lightcyan",
                    displayIndex: 3
                },
                "EThingSpotGroupType::GroupC": {
                    name: "Garage",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "red",
                    displayIndex: 1
                },
                "EThingSpotGroupType::GroupD": {
                    name: "Porter",
                    color: "plum",
                    icon: "car",
                    iconChar: "ï†¹",
                    ratio: 1,
                    display: !1,
                    enabled: !0,
                    displayIndex: 20
                },
                LockedDoor: {
                    name: "Secret Room",
                    color: "lime",
                    icon: "key",
                    iconChar: "ï‚„",
                    display: !1,
                    enabled: !0,
                    displayIndex: 50
                }
            }
        }),
        T = 8192,
        O = 1130 / T,
        P = new y({
            id: "Heaven",
            name: "Haven",
            views: v("Heaven"),
            projection: {
                projection: [T, T],
                dimensions: [T, T],
                adjustCoords: [55 / O, 55 / O],
                sizeScale: O,
                gridLength: 1e3 / O,
                gridSize: 1020 / O,
                gridDivisions: 10,
                gridRef: {
                    X: "A",
                    Y: "I"
                }
            },
            overlays: [{
                id: "grid",
                name: "Grid",
                icon: "th",
                color: "rgba(222,222,222,1)",
                display: !0,
                virt: !0,
                displayIndex: 0
            }, {
                id: "contour",
                name: "Contours",
                icon: "globe",
                color: "rgba(210,180,140,1)",
                maxZoom: 5,
                format: "png",
                display: !1,
                enabled: !1
            }],
            maxZoom: 5,
            heatMult: 4.66,
            gridColor: "rgba(0,0,0,0.9)",
            smallGridColor: "rgba(255,255,255,0.9)",
            lootTypes: {
                AA: "AA",
                BA: "BA",
                BB: "BB",
                CA: "CA",
                DA: "DA",
                DB: "DB"
            },
            areas: {
                blueZones: {
                    name: "Blue Zone Restricted Areas"
                },
                carePackages: {
                    name: "Care Package Restricted Areas"
                },
                spawnAreas: {
                    name: "Start Areas"
                },
                "bza-Field": {
                    name: "Field End Zones"
                },
                "bza-Mountain": {
                    name: "Mountain End Zones"
                },
                "bza-Town": {
                    name: "Town End Zones"
                },
                "bza-WarMode": {
                    name: "WarMode Zones"
                }
            },
            vehicleCategories: {}
        }),
        A = new y({
            id: "Kiki",
            name: "Deston",
            views: v("Kiki"),
            projection: {
                projection: [8160, 8160],
                dimensions: [8160, 8160],
                gridSize: 1020
            },
            overlays: [{
                id: "grid",
                name: "Grid",
                icon: "th",
                color: "rgba(222,222,222,1)",
                display: !0,
                virt: !0,
                displayIndex: 0
            }, {
                id: "contour",
                name: "Contours",
                icon: "globe",
                color: "rgba(210,180,140,1)",
                maxZoom: 5,
                format: "png",
                display: !1
            }],
            maxZoom: 5,
            heatMult: 1,
            gridColor: "rgba(0,0,0,0.9)",
            smallGridColor: "rgba(255,255,255,0.4)",
            lootTypes: {
                AA: "AA",
                BA: "BA",
                BB: "BB",
                CA: "CA",
                DA: "DA",
                GA: "GA",
                GD: "GD",
                GG: "GG",
                LA: "LA",
                LB: "LB",
                LC: "LC",
                LD: "LD"
            },
            areas: {
                blueZones: {
                    name: "Blue Zone Restricted Areas"
                },
                carePackages: {
                    name: "Care Package Restricted Areas"
                },
                spawnAreas: {
                    name: "Start Areas"
                },
                "bza-Field": {
                    name: "Field End Zones"
                },
                "bza-Mountain": {
                    name: "Mountain End Zones"
                },
                "bza-Town": {
                    name: "Town End Zones"
                },
                "bza-WarMode": {
                    name: "WarMode Zones"
                }
            },
            vehicleCategories: {
                "EThingSpotGroupType::GroupA": {
                    name: "Road",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "orange",
                    displayIndex: 0
                },
                "EThingSpotGroupType::GroupB": {
                    name: "Offroad",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "wheat",
                    displayIndex: 1
                },
                "EThingSpotGroupType::GroupC": {
                    name: "Police",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#FF7941",
                    displayIndex: 2
                },
                "EThingSpotGroupType::GroupE": {
                    name: "Ocean",
                    color: "lightcyan",
                    icon: "ship",
                    iconChar: "ïˆš",
                    displayIndex: -10
                },
                "EThingSpotGroupType::GroupF": {
                    name: "River",
                    color: "lightcyan",
                    icon: "ship",
                    iconChar: "ïˆš",
                    displayIndex: -9
                },
                "EThingSpotGroupType::GroupG": {
                    name: "Airboat",
                    icon: "ship",
                    iconChar: "ïˆš",
                    color: "lightcyan",
                    displayIndex: -8
                },
                "EThingSpotGroupType::GroupN": {
                    name: "Garage",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "red",
                    displayIndex: 7
                },
                "EThingSpotGroupType::GroupI": {
                    name: "Air",
                    color: "cyan",
                    icon: "plane",
                    iconChar: "ï²",
                    display: !1,
                    enabled: !0,
                    displayIndex: -1
                },
                "EThingSpotGroupType::GroupJ": {
                    name: "RichHouses",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#FFC96D",
                    displayIndex: 9
                },
                "EThingSpotGroupType::GroupK": {
                    name: "PoorHouses",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "#FFC96D",
                    displayIndex: 10
                },
                "EThingSpotGroupType::GroupL": {
                    name: "GasStation",
                    icon: "car",
                    iconChar: "ï†¹",
                    color: "pink",
                    displayIndex: 11
                },
                "EThingSpotGroupType::GroupM": {
                    name: "Sports",
                    icon: "motorcycle",
                    iconChar: "ïˆœ",
                    color: "#E0C0B1",
                    displayIndex: 12
                },
                "EThingSpotGroupType::GroupH": {
                    name: "Dam",
                    icon: "ship",
                    iconChar: "ïˆš",
                    color: "lightcyan",
                    displayIndex: -7
                },
                LockedDoor: {
                    name: "Security Door",
                    color: "lime",
                    icon: "key",
                    iconChar: "ï‚„",
                    display: !1,
                    enabled: !0,
                    displayIndex: 50
                },
                GasPump: {
                    name: "Gas Pump",
                    color: "lime",
                    icon: "gas-pump",
                    iconChar: "ï”¯",
                    display: !1,
                    enabled: !0,
                    displayIndex: 51
                }
            }
        }),
        R = [w, m, E, x, _, C, S, b, P, A];
    R.forEach((function (t) {
        return t.displayIcon = !1
    })), [w, m, C, E, _, A].forEach((function (t) {
        return t.displayIcon = !0
    })), n(43), n(18), n(19), n(20);
    var I = n(169),
        k = n.n(I);

    function L(t) {
        return (L = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function j(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function M(t, e) {
        return !e || "object" !== L(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function D(t) {
        var e = "function" == typeof Map ? new Map : void 0;
        return (D = function (t) {
            if (null === t || (n = t, -1 === Function.toString.call(n).indexOf("[native code]"))) return t;
            var n;
            if ("function" != typeof t) throw new TypeError("Super expression must either be null or a function");
            if (void 0 !== e) {
                if (e.has(t)) return e.get(t);
                e.set(t, r)
            }

            function r() {
                return F(t, arguments, z(this).constructor)
            }
            return r.prototype = Object.create(t.prototype, {
                constructor: {
                    value: r,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), N(r, t)
        })(t)
    }

    function F(t, e, n) {
        return (F = G() ? Reflect.construct : function (t, e, n) {
            var r = [null];
            r.push.apply(r, e);
            var o = new(Function.bind.apply(t, r));
            return n && N(o, n.prototype), o
        }).apply(null, arguments)
    }

    function G() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function N(t, e) {
        return (N = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function z(t) {
        return (z = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }
    var B = function (t) {
            ! function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && N(t, e)
            }(r, t);
            var e, n = (e = r, function () {
                var t, n = z(e);
                if (G()) {
                    var r = z(this).constructor;
                    t = Reflect.construct(n, arguments, r)
                } else t = n.apply(this, arguments);
                return M(this, t)
            });

            function r(t) {
                return j(this, r), n.call(this, t)
            }
            return r
        }(D(Error)),
        U = function () {
            function t() {
                j(this, t), this._abort = !1, this.requests = []
            }
            var e;
            return (e = [{
                key: "abort",
                value: function () {
                    this._abort = !0, this.requests.forEach((function (t) {
                        return t.abort()
                    }))
                }
            }, {
                key: "getDataUrl",
                value: function (t, e) {
                    var n = "/map/data/";
                    return null != e && (n += e + "/"), (n += t + ".json") + "?ea0ac4430308"
                }
            }, {
                key: "loadData",
                value: function (t, e) {
                    var n = this;
                    return new Promise((function (r, o) {
                        var i = n.getDataUrl(t, e ? e.id : void 0),
                            a = $.ajax(i, {
                                complete: function (t, e) {
                                    n.requests = k()(n.requests, a), n._abort || "abort" == e ? o(new B("Cancelled.")) : "success" == e ? r(t.responseJSON) : o({
                                        code: t.status,
                                        text: t.responseText,
                                        xhr: t,
                                        status: e
                                    })
                                }
                            });
                        n.requests.push(a)
                    }))
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(t.prototype, e), t
        }();

    function X(t) {
        return (X = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function W(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function V(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function H(t, e) {
        return !e || "object" !== X(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Y() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function Z(t) {
        return (Z = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function q(t, e) {
        return (q = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var K = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && q(t, e)
        }(s, t);
        var e, n, r, o, i, a = (e = s, function () {
            var t, n = Z(e);
            if (Y()) {
                var r = Z(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return H(this, t)
        });

        function s() {
            return V(this, s), a.apply(this, arguments)
        }
        return n = s, (r = [{
            key: "getDataUrl",
            value: function (t, e) {
                return "/map/js/".concat(t, ".json?").concat(Math.random())
            }
        }, {
            key: "load",
            value: (o = regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, this.loadData("info");
                        case 2:
                            return t.abrupt("return", t.sent);
                        case 3:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            })), i = function () {
                var t = this,
                    e = arguments;
                return new Promise((function (n, r) {
                    var i = o.apply(t, e);

                    function a(t) {
                        W(i, n, r, a, s, "next", t)
                    }

                    function s(t) {
                        W(i, n, r, a, s, "throw", t)
                    }
                    a(void 0)
                }))
            }, function () {
                return i.apply(this, arguments)
            })
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(n.prototype, r), s
    }(U);

    function J(t) {
        return (J = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Q(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function tt(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function et(t, e) {
        return !e || "object" !== J(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function nt() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function rt(t) {
        return (rt = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ot(t, e) {
        return (ot = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var it = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && ot(t, e)
        }(s, t);
        var e, n, r, o, i, a = (e = s, function () {
            var t, n = rt(e);
            if (nt()) {
                var r = rt(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return et(this, t)
        });

        function s() {
            return tt(this, s), a.apply(this, arguments)
        }
        return n = s, (r = [{
            key: "load",
            value: (o = regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, this.loadData("version");
                        case 2:
                            return t.abrupt("return", t.sent);
                        case 3:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            })), i = function () {
                var t = this,
                    e = arguments;
                return new Promise((function (n, r) {
                    var i = o.apply(t, e);

                    function a(t) {
                        Q(i, n, r, a, s, "next", t)
                    }

                    function s(t) {
                        Q(i, n, r, a, s, "throw", t)
                    }
                    a(void 0)
                }))
            }, function () {
                return i.apply(this, arguments)
            })
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(n.prototype, r), s
    }(U);

    function at(t) {
        return (3122512141 ^ t) / 10
    }

    function st(t) {
        return (st = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ut(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = lt(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function ct(t, e) {
        return function (t) {
            if (Array.isArray(t)) return t
        }(t) || function (t, e) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) {
                var n = [],
                    r = !0,
                    o = !1,
                    i = void 0;
                try {
                    for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); r = !0);
                } catch (t) {
                    o = !0, i = t
                } finally {
                    try {
                        r || null == s.return || s.return()
                    } finally {
                        if (o) throw i
                    }
                }
                return n
            }
        }(t, e) || lt(t, e) || function () {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function lt(t, e) {
        if (t) {
            if ("string" == typeof t) return ht(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? ht(t, e) : void 0
        }
    }

    function ht(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function ft(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function pt(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function dt(t, e, n) {
        return (dt = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {
            var r = function (t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = vt(t)););
                return t
            }(t, e);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function yt(t, e) {
        return !e || "object" !== st(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function gt() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function vt(t) {
        return (vt = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function mt(t, e) {
        return (mt = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    n(38), n(39);
    var _t = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && mt(t, e)
        }(o, t);
        var e, n, r = (e = o, function () {
            var t, n = vt(e);
            if (gt()) {
                var r = vt(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return yt(this, t)
        });

        function o(t, e) {
            var n, i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
            return pt(this, o), (n = r.call(this)).map = t, n.slurp = e, n.condensed = i, n._lootCount = {}, n
        }
        return (n = [{
            key: "abort",
            value: function () {
                dt(vt(o.prototype), "abort", this).call(this), this._loadPromise = void 0
            }
        }, {
            key: "load",
            value: function () {
                var t = this;
                if (this._abort = !1, void 0 === this._loadPromise) {
                    var e = function () {
                        var e, n = (e = regeneratorRuntime.mark((function e() {
                            var n, r;
                            return regeneratorRuntime.wrap((function (e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.prev = 0, e.next = 3, Promise.all([t.loadData("loot", t.map), t.loadData("lootSpots" + (t.slurp ? "-slurp" : "") + (t.condensed ? "-condensed" : ""), t.map), t.loadData("lootDescriptions")]);
                                    case 3:
                                        n = e.sent, r = ct(n, 3), t._loot = r[0], t.spots = r[1], t._descriptions = r[2], t.process(), e.next = 16;
                                        break;
                                    case 11:
                                        throw e.prev = 11, e.t0 = e.catch(0), console.error(e.t0), t._loadPromise = void 0, e.t0;
                                    case 16:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [0, 11]
                            ])
                        })), function () {
                            var t = this,
                                n = arguments;
                            return new Promise((function (r, o) {
                                var i = e.apply(t, n);

                                function a(t) {
                                    ft(i, r, o, a, s, "next", t)
                                }

                                function s(t) {
                                    ft(i, r, o, a, s, "throw", t)
                                }
                                a(void 0)
                            }))
                        });
                        return function () {
                            return n.apply(this, arguments)
                        }
                    }();
                    this._loadPromise = e()
                }
                return this._loadPromise
            }
        }, {
            key: "process",
            value: function () {
                var t = this;
                if (this.condensed) {
                    this.slurp = !1;
                    var e = this.spots;
                    this.spots = [];
                    for (var n = 0, r = Object.entries(e); n < r.length; n++)
                        for (var o = ct(r[n], 2), i = o[0], a = o[1], s = 0, u = Object.entries(a); s < u.length; s++) {
                            var c, l = ct(u[s], 2),
                                h = l[0],
                                f = ut(l[1]);
                            try {
                                for (f.s(); !(c = f.n()).done;) {
                                    var p = c.value;
                                    this.spots.push({
                                        x: at(p[0]),
                                        y: at(p[1]),
                                        z: 0,
                                        type: h,
                                        groupType: i,
                                        weight: p[2]
                                    })
                                }
                            } catch (t) {
                                f.e(t)
                            } finally {
                                f.f()
                            }
                        }
                }
                this._lootCount = {}, this.spots.forEach((function (e) {
                    e.loot = t._loot[e.groupType] && t._loot[e.groupType][e.type] || void 0;
                    var n = e.groupType.slice(-1) + e.type.slice(-1);
                    t._lootCount[n] = t._lootCount[n] + 1 || 1, t.slurp || (e.weight = .1)
                })), console.log("".concat(this.spots.reduce((function (t, e) {
                    return 10 * e.weight + t
                }), 0), " spots, clustered to ").concat(this.spots.length)), console.log("Loot counts", this._lootCount);
                var d = 0;
                for (var y in this._loot) {
                    var g = this._loot[y];
                    for (var v in g) {
                        var m = g[v];
                        m.spotModifier > d && (d = m.spotModifier)
                    }
                }
                this.maxRatio = d
            }
        }, {
            key: "max",
            value: function (t) {
                var e = 0;
                for (var n in this._loot) {
                    var r = this._loot[n];
                    for (var o in r) {
                        var i = r[o];
                        i.itemRatios[t] > e && (e = i.itemRatios[t])
                    }
                }
                return e
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(o.prototype, n), o
    }(U);

    function bt(t) {
        return (bt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function xt(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = St(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function wt(t, e) {
        return function (t) {
            if (Array.isArray(t)) return t
        }(t) || function (t, e) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) {
                var n = [],
                    r = !0,
                    o = !1,
                    i = void 0;
                try {
                    for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); r = !0);
                } catch (t) {
                    o = !0, i = t
                } finally {
                    try {
                        r || null == s.return || s.return()
                    } finally {
                        if (o) throw i
                    }
                }
                return n
            }
        }(t, e) || St(t, e) || function () {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function St(t, e) {
        if (t) {
            if ("string" == typeof t) return Ct(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Ct(t, e) : void 0
        }
    }

    function Ct(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function Et(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function Tt(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Ot(t, e, n) {
        return (Ot = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {
            var r = function (t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Rt(t)););
                return t
            }(t, e);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function Pt(t, e) {
        return !e || "object" !== bt(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function At() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function Rt(t) {
        return (Rt = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function It(t, e) {
        return (It = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var kt = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && It(t, e)
        }(o, t);
        var e, n, r = (e = o, function () {
            var t, n = Rt(e);
            if (At()) {
                var r = Rt(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return Pt(this, t)
        });

        function o(t) {
            var e, n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
            return Tt(this, o), (e = r.call(this)).map = t, e.condensed = n, e.spotCount = {}, e
        }
        return (n = [{
            key: "abort",
            value: function () {
                Ot(Rt(o.prototype), "abort", this).call(this), this._loadPromise = void 0
            }
        }, {
            key: "load",
            value: function () {
                var t = this;
                if (this._abort = !1, void 0 === this._loadPromise) {
                    var e = function () {
                        var e, n = (e = regeneratorRuntime.mark((function e() {
                            var n, r;
                            return regeneratorRuntime.wrap((function (e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.prev = 0, e.next = 3, Promise.all([t.loadData("vehicleSpots" + (t.condensed ? "-condensed" : ""), t.map), t.loadData("vehicles", t.map)]);
                                    case 3:
                                        n = e.sent, r = wt(n, 2), t.spots = r[0], t.info = r[1], t.process(), e.next = 14;
                                        break;
                                    case 10:
                                        throw e.prev = 10, e.t0 = e.catch(0), t._loadPromise = void 0, e.t0;
                                    case 14:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [0, 10]
                            ])
                        })), function () {
                            var t = this,
                                n = arguments;
                            return new Promise((function (r, o) {
                                var i = e.apply(t, n);

                                function a(t) {
                                    Et(i, r, o, a, s, "next", t)
                                }

                                function s(t) {
                                    Et(i, r, o, a, s, "throw", t)
                                }
                                a(void 0)
                            }))
                        });
                        return function () {
                            return n.apply(this, arguments)
                        }
                    }();
                    this._loadPromise = e()
                }
                return this._loadPromise
            }
        }, {
            key: "process",
            value: function () {
                var t = this;
                if (this.spotCount = {}, this.condensed) {
                    var e = this.spots;
                    this.spots = [];
                    for (var n = 0, r = Object.entries(e); n < r.length; n++) {
                        var o, i = wt(r[n], 2),
                            a = i[0],
                            s = xt(i[1]);
                        try {
                            for (s.s(); !(o = s.n()).done;) {
                                var u = o.value;
                                this.spots.push({
                                    x: at(u[0]),
                                    y: at(u[1]),
                                    z: 0,
                                    type: a
                                })
                            }
                        } catch (t) {
                            s.e(t)
                        } finally {
                            s.f()
                        }
                    }
                }
                for (var c in this.spots.forEach((function (e) {
                        return t.spotCount[e.type] = (t.spotCount[e.type] || 0) + 1
                    })), this.info) {
                    var l = this.info[c];
                    l.spawnRange = [l.totalCountRange[0] / this.spotCount[c], l.totalCountRange[1] / this.spotCount[c]]
                }
            }
        }, {
            key: "getInfo",
            value: function (t) {
                return this.info[t.type]
            }
        }, {
            key: "getRange",
            value: function (t) {
                if (this.info && this.info[t]) {
                    var e = this.info[t].totalCountRange[0],
                        n = this.info[t].totalCountRange[1];
                    return {
                        lo: e,
                        hi: n,
                        avg: (e + n) / 2
                    }
                }
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(o.prototype, n), o
    }(U);

    function Lt(t) {
        return (Lt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function jt(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = function (t, e) {
                    if (t) {
                        if ("string" == typeof t) return Mt(t, void 0);
                        var n = Object.prototype.toString.call(t).slice(8, -1);
                        return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Mt(t, void 0) : void 0
                    }
                }(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function Mt(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function Dt(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function Ft(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    Dt(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    Dt(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }

    function Gt(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Nt(t, e) {
        return !e || "object" !== Lt(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function zt() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function Bt(t) {
        return (Bt = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ut(t, e) {
        return (Ut = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Xt = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Ut(t, e)
        }(i, t);
        var e, n, r, o = (e = i, function () {
            var t, n = Bt(e);
            if (zt()) {
                var r = Bt(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return Nt(this, t)
        });

        function i(t) {
            var e, n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
            return Gt(this, i), (e = o.call(this)).map = t, e.condensed = n, e.objects = new Map, e
        }
        return n = i, (r = [{
            key: "get",
            value: function () {
                var t = Ft(regeneratorRuntime.mark((function t(e) {
                    var n = this;
                    return regeneratorRuntime.wrap((function (t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return this._abort = !1, this.objects.has(e) || this.objects.set(e, Ft(regeneratorRuntime.mark((function t() {
                                    var r;
                                    return regeneratorRuntime.wrap((function (t) {
                                        for (;;) switch (t.prev = t.next) {
                                            case 0:
                                                return t.prev = 0, t.next = 3, n.loadData("meshes/".concat(e) + (n.condensed ? "-condensed" : ""), n.map);
                                            case 3:
                                                return r = t.sent, t.abrupt("return", n.process(r, e));
                                            case 7:
                                                throw t.prev = 7, t.t0 = t.catch(0), n.objects.delete(e), t.t0;
                                            case 11:
                                            case "end":
                                                return t.stop()
                                        }
                                    }), t, null, [
                                        [0, 7]
                                    ])
                                })))()), t.abrupt("return", this.objects.get(e));
                            case 3:
                            case "end":
                                return t.stop()
                        }
                    }), t, this)
                })));
                return function (e) {
                    return t.apply(this, arguments)
                }
            }()
        }, {
            key: "process",
            value: function (t, e) {
                var n = [];
                if (this.condensed)
                    for (var r in t) {
                        var o, i = jt(t[r]);
                        try {
                            for (i.s(); !(o = i.n()).done;) {
                                var a = o.value;
                                n.push({
                                    x: at(a[0]),
                                    y: at(a[1]),
                                    z: a[4] || 0,
                                    type: r,
                                    exportName: a[4] || r,
                                    gridFile: "",
                                    material: a[3],
                                    exportIndex: -1,
                                    className: a[2]
                                })
                            }
                        } catch (t) {
                            i.e(t)
                        } finally {
                            i.f()
                        }
                    }
                return console.log("Loaded ".concat(n.length, " from ").concat(e)), n
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(n.prototype, r), i
    }(U);

    function Wt(t) {
        return (Wt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Vt(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function Ht(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    Vt(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    Vt(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }

    function Yt(t, e) {
        return !e || "object" !== Wt(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Zt() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function qt(t) {
        return (qt = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Kt(t, e) {
        return (Kt = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var $t = function (t) {
            ! function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Kt(t, e)
            }(i, t);
            var e, n, r, o = (e = i, function () {
                var t, n = qt(e);
                if (Zt()) {
                    var r = qt(this).constructor;
                    t = Reflect.construct(n, arguments, r)
                } else t = n.apply(this, arguments);
                return Yt(this, t)
            });

            function i(t) {
                var e;
                return function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, i), (e = o.call(this)).map = t, e.objects = new Map, e
            }
            return n = i, (r = [{
                key: "get",
                value: function () {
                    var t = Ht(regeneratorRuntime.mark((function t(e) {
                        var n = this;
                        return regeneratorRuntime.wrap((function (t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return this.objects.has(e) || this.objects.set(e, Ht(regeneratorRuntime.mark((function t() {
                                        var r;
                                        return regeneratorRuntime.wrap((function (t) {
                                            for (;;) switch (t.prev = t.next) {
                                                case 0:
                                                    return t.next = 2, n.loadData("areas/".concat(e), n.map);
                                                case 2:
                                                    return r = t.sent, t.abrupt("return", r);
                                                case 4:
                                                case "end":
                                                    return t.stop()
                                            }
                                        }), t)
                                    })))()), t.abrupt("return", this.objects.get(e));
                                case 2:
                                case "end":
                                    return t.stop()
                            }
                        }), t, this)
                    })));
                    return function (e) {
                        return t.apply(this, arguments)
                    }
                }()
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(n.prototype, r), i
        }(U),
        Jt = (n(162), {
            DEGREES: "degrees",
            FEET: "ft",
            METERS: "m",
            PIXELS: "pixels",
            TILE_PIXELS: "tile-pixels",
            USFEET: "us-ft"
        }),
        Qt = {};
    Qt[Jt.DEGREES] = 2 * Math.PI * 6370997 / 360, Qt[Jt.FEET] = .3048, Qt[Jt.METERS] = 1, Qt[Jt.USFEET] = 1200 / 3937;
    var te = Jt,
        ee = function () {
            function t(t) {
                this.code_ = t.code, this.units_ = t.units, this.extent_ = void 0 !== t.extent ? t.extent : null, this.worldExtent_ = void 0 !== t.worldExtent ? t.worldExtent : null, this.axisOrientation_ = void 0 !== t.axisOrientation ? t.axisOrientation : "enu", this.global_ = void 0 !== t.global && t.global, this.canWrapX_ = !(!this.global_ || !this.extent_), this.getPointResolutionFunc_ = t.getPointResolution, this.defaultTileGrid_ = null, this.metersPerUnit_ = t.metersPerUnit
            }
            return t.prototype.canWrapX = function () {
                return this.canWrapX_
            }, t.prototype.getCode = function () {
                return this.code_
            }, t.prototype.getExtent = function () {
                return this.extent_
            }, t.prototype.getUnits = function () {
                return this.units_
            }, t.prototype.getMetersPerUnit = function () {
                return this.metersPerUnit_ || Qt[this.units_]
            }, t.prototype.getWorldExtent = function () {
                return this.worldExtent_
            }, t.prototype.getAxisOrientation = function () {
                return this.axisOrientation_
            }, t.prototype.isGlobal = function () {
                return this.global_
            }, t.prototype.setGlobal = function (t) {
                this.global_ = t, this.canWrapX_ = !(!t || !this.extent_)
            }, t.prototype.getDefaultTileGrid = function () {
                return this.defaultTileGrid_
            }, t.prototype.setDefaultTileGrid = function (t) {
                this.defaultTileGrid_ = t
            }, t.prototype.setExtent = function (t) {
                this.extent_ = t, this.canWrapX_ = !(!this.global_ || !t)
            }, t.prototype.setWorldExtent = function (t) {
                this.worldExtent_ = t
            }, t.prototype.setGetPointResolution = function (t) {
                this.getPointResolutionFunc_ = t
            }, t.prototype.getPointResolutionFunc = function () {
                return this.getPointResolutionFunc_
            }, t
        }();

    function ne() {
        return function () {
            throw new Error("Unimplemented abstract method.")
        }()
    }
    var re = 0;

    function oe(t) {
        return t.ol_uid || (t.ol_uid = String(++re))
    }
    var ie, ae = (ie = function (t, e) {
            return (ie = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                } || function (t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(t, e)
        }, function (t, e) {
            function n() {
                this.constructor = t
            }
            ie(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
        }),
        se = function (t) {
            function e(e) {
                var n = this,
                    r = "Assertion failed. See https://openlayers.org/en/v" + "6.2.1".split("-")[0] + "/doc/errors/#" + e + " for details.";
                return (n = t.call(this, r) || this).code = e, n.name = "AssertionError", n.message = r, n
            }
            return ae(e, t), e
        }(Error),
        ue = "function" == typeof Object.assign ? Object.assign : function (t, e) {
            if (null == t) throw new TypeError("Cannot convert undefined or null to object");
            for (var n = Object(t), r = 1, o = arguments.length; r < o; ++r) {
                var i = arguments[r];
                if (null != i)
                    for (var a in i) i.hasOwnProperty(a) && (n[a] = i[a])
            }
            return n
        };

    function ce(t) {
        for (var e in t) delete t[e]
    }
    var le = "function" == typeof Object.values ? Object.values : function (t) {
        var e = [];
        for (var n in t) e.push(t[n]);
        return e
    };

    function he(t) {
        var e;
        for (e in t) return !1;
        return !e
    }

    function fe(t, e, n, r, o) {
        if (r && r !== t && (n = n.bind(r)), o) {
            var i = n;
            n = function () {
                t.removeEventListener(e, n), i.apply(this, arguments)
            }
        }
        var a = {
            target: t,
            type: e,
            listener: n
        };
        return t.addEventListener(e, n), a
    }

    function pe(t, e, n, r) {
        return fe(t, e, n, r, !0)
    }

    function de(t) {
        t && t.target && (t.target.removeEventListener(t.type, t.listener), ce(t))
    }
    var ye = function () {
        function t() {
            this.disposed_ = !1
        }
        return t.prototype.dispose = function () {
            this.disposed_ || (this.disposed_ = !0, this.disposeInternal())
        }, t.prototype.disposeInternal = function () {}, t
    }();

    function ge(t, e) {
        return t > e ? 1 : t < e ? -1 : 0
    }

    function ve(t, e) {
        return t.indexOf(e) >= 0
    }

    function me(t, e, n) {
        var r = t.length;
        if (t[0] <= e) return 0;
        if (e <= t[r - 1]) return r - 1;
        var o = void 0;
        if (n > 0) {
            for (o = 1; o < r; ++o)
                if (t[o] < e) return o - 1
        } else if (n < 0) {
            for (o = 1; o < r; ++o)
                if (t[o] <= e) return o
        } else
            for (o = 1; o < r; ++o) {
                if (t[o] == e) return o;
                if (t[o] < e) return t[o - 1] - e < e - t[o] ? o - 1 : o
            }
        return r - 1
    }

    function _e(t, e, n) {
        for (; e < n;) {
            var r = t[e];
            t[e] = t[n], t[n] = r, ++e, --n
        }
    }

    function be(t, e) {
        for (var n = Array.isArray(e) ? e : [e], r = n.length, o = 0; o < r; o++) t[t.length] = n[o]
    }

    function xe(t, e) {
        var n = t.length;
        if (n !== e.length) return !1;
        for (var r = 0; r < n; r++)
            if (t[r] !== e[r]) return !1;
        return !0
    }

    function we() {
        return !0
    }

    function Se() {
        return !1
    }

    function Ce() {}

    function Ee(t) {
        t.stopPropagation()
    }
    var Te = function () {
            function t(t) {
                this.propagationStopped, this.type = t, this.target = null
            }
            return t.prototype.preventDefault = function () {
                this.propagationStopped = !0
            }, t.prototype.stopPropagation = function () {
                this.propagationStopped = !0
            }, t
        }(),
        Oe = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Pe = function (t) {
            function e(e) {
                var n = t.call(this) || this;
                return n.eventTarget_ = e, n.pendingRemovals_ = {}, n.dispatching_ = {}, n.listeners_ = {}, n
            }
            return Oe(e, t), e.prototype.addEventListener = function (t, e) {
                if (t && e) {
                    var n = this.listeners_[t];
                    n || (n = [], this.listeners_[t] = n), -1 === n.indexOf(e) && n.push(e)
                }
            }, e.prototype.dispatchEvent = function (t) {
                var e = "string" == typeof t ? new Te(t) : t,
                    n = e.type;
                e.target || (e.target = this.eventTarget_ || this);
                var r, o = this.listeners_[n];
                if (o) {
                    n in this.dispatching_ || (this.dispatching_[n] = 0, this.pendingRemovals_[n] = 0), ++this.dispatching_[n];
                    for (var i = 0, a = o.length; i < a; ++i)
                        if (!1 === o[i].call(this, e) || e.propagationStopped) {
                            r = !1;
                            break
                        } if (--this.dispatching_[n], 0 === this.dispatching_[n]) {
                        var s = this.pendingRemovals_[n];
                        for (delete this.pendingRemovals_[n]; s--;) this.removeEventListener(n, Ce);
                        delete this.dispatching_[n]
                    }
                    return r
                }
            }, e.prototype.disposeInternal = function () {
                ce(this.listeners_)
            }, e.prototype.getListeners = function (t) {
                return this.listeners_[t]
            }, e.prototype.hasListener = function (t) {
                return t ? t in this.listeners_ : Object.keys(this.listeners_).length > 0
            }, e.prototype.removeEventListener = function (t, e) {
                var n = this.listeners_[t];
                if (n) {
                    var r = n.indexOf(e); - 1 !== r && (t in this.pendingRemovals_ ? (n[r] = Ce, ++this.pendingRemovals_[t]) : (n.splice(r, 1), 0 === n.length && delete this.listeners_[t]))
                }
            }, e
        }(ye),
        Ae = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function Re(t) {
        if (Array.isArray(t))
            for (var e = 0, n = t.length; e < n; ++e) de(t[e]);
        else de(t)
    }
    var Ie = function (t) {
            function e() {
                var e = t.call(this) || this;
                return e.revision_ = 0, e
            }
            return Ae(e, t), e.prototype.changed = function () {
                ++this.revision_, this.dispatchEvent("change")
            }, e.prototype.getRevision = function () {
                return this.revision_
            }, e.prototype.on = function (t, e) {
                if (Array.isArray(t)) {
                    for (var n = t.length, r = new Array(n), o = 0; o < n; ++o) r[o] = fe(this, t[o], e);
                    return r
                }
                return fe(this, t, e)
            }, e.prototype.once = function (t, e) {
                if (Array.isArray(t)) {
                    for (var n = t.length, r = new Array(n), o = 0; o < n; ++o) r[o] = pe(this, t[o], e);
                    return r
                }
                return pe(this, t, e)
            }, e.prototype.un = function (t, e) {
                if (Array.isArray(t))
                    for (var n = 0, r = t.length; n < r; ++n) this.removeEventListener(t[n], e);
                else this.removeEventListener(t, e)
            }, e
        }(Pe),
        ke = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Le = function (t) {
            function e(e, n, r) {
                var o = t.call(this, e) || this;
                return o.key = n, o.oldValue = r, o
            }
            return ke(e, t), e
        }(Te),
        je = function (t) {
            function e(e) {
                var n = t.call(this) || this;
                return oe(n), n.values_ = {}, void 0 !== e && n.setProperties(e), n
            }
            return ke(e, t), e.prototype.get = function (t) {
                var e;
                return this.values_.hasOwnProperty(t) && (e = this.values_[t]), e
            }, e.prototype.getKeys = function () {
                return Object.keys(this.values_)
            }, e.prototype.getProperties = function () {
                return ue({}, this.values_)
            }, e.prototype.notify = function (t, e) {
                var n;
                n = De(t), this.dispatchEvent(new Le(n, t, e)), n = "propertychange", this.dispatchEvent(new Le(n, t, e))
            }, e.prototype.set = function (t, e, n) {
                if (n) this.values_[t] = e;
                else {
                    var r = this.values_[t];
                    this.values_[t] = e, r !== e && this.notify(t, r)
                }
            }, e.prototype.setProperties = function (t, e) {
                for (var n in t) this.set(n, t[n], e)
            }, e.prototype.unset = function (t, e) {
                if (t in this.values_) {
                    var n = this.values_[t];
                    delete this.values_[t], e || this.notify(t, n)
                }
            }, e
        }(Ie),
        Me = {};

    function De(t) {
        return Me.hasOwnProperty(t) ? Me[t] : Me[t] = "change:" + t
    }
    var Fe = je,
        Ge = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Ne = function (t) {
            function e(e, n, r) {
                var o = t.call(this, e) || this;
                return o.element = n, o.index = r, o
            }
            return Ge(e, t), e
        }(Te),
        ze = function (t) {
            function e(e, n) {
                var r = t.call(this) || this,
                    o = n || {};
                if (r.unique_ = !!o.unique, r.array_ = e || [], r.unique_)
                    for (var i = 0, a = r.array_.length; i < a; ++i) r.assertUnique_(r.array_[i], i);
                return r.updateLength_(), r
            }
            return Ge(e, t), e.prototype.clear = function () {
                for (; this.getLength() > 0;) this.pop()
            }, e.prototype.extend = function (t) {
                for (var e = 0, n = t.length; e < n; ++e) this.push(t[e]);
                return this
            }, e.prototype.forEach = function (t) {
                for (var e = this.array_, n = 0, r = e.length; n < r; ++n) t(e[n], n, e)
            }, e.prototype.getArray = function () {
                return this.array_
            }, e.prototype.item = function (t) {
                return this.array_[t]
            }, e.prototype.getLength = function () {
                return this.get("length")
            }, e.prototype.insertAt = function (t, e) {
                this.unique_ && this.assertUnique_(e), this.array_.splice(t, 0, e), this.updateLength_(), this.dispatchEvent(new Ne("add", e, t))
            }, e.prototype.pop = function () {
                return this.removeAt(this.getLength() - 1)
            }, e.prototype.push = function (t) {
                this.unique_ && this.assertUnique_(t);
                var e = this.getLength();
                return this.insertAt(e, t), this.getLength()
            }, e.prototype.remove = function (t) {
                for (var e = this.array_, n = 0, r = e.length; n < r; ++n)
                    if (e[n] === t) return this.removeAt(n)
            }, e.prototype.removeAt = function (t) {
                var e = this.array_[t];
                return this.array_.splice(t, 1), this.updateLength_(), this.dispatchEvent(new Ne("remove", e, t)), e
            }, e.prototype.setAt = function (t, e) {
                var n = this.getLength();
                if (t < n) {
                    this.unique_ && this.assertUnique_(e, t);
                    var r = this.array_[t];
                    this.array_[t] = e, this.dispatchEvent(new Ne("remove", r, t)), this.dispatchEvent(new Ne("add", e, t))
                } else {
                    for (var o = n; o < t; ++o) this.insertAt(o, void 0);
                    this.insertAt(t, e)
                }
            }, e.prototype.updateLength_ = function () {
                this.set("length", this.array_.length)
            }, e.prototype.assertUnique_ = function (t, e) {
                for (var n = 0, r = this.array_.length; n < r; ++n)
                    if (this.array_[n] === t && n !== e) throw new se(58)
            }, e
        }(Fe),
        Be = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Ue = function (t) {
            function e(e, n, r) {
                var o = t.call(this, e) || this;
                return o.map = n, o.frameState = void 0 !== r ? r : null, o
            }
            return Be(e, t), e
        }(Te),
        Xe = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        We = function (t) {
            function e(e, n, r, o, i) {
                var a = t.call(this, e, n, i) || this;
                return a.originalEvent = r, a.pixel_ = null, a.coordinate_ = null, a.dragging = void 0 !== o && o, a
            }
            return Xe(e, t), Object.defineProperty(e.prototype, "pixel", {
                get: function () {
                    return this.pixel_ || (this.pixel_ = this.map.getEventPixel(this.originalEvent)), this.pixel_
                },
                set: function (t) {
                    this.pixel_ = t
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "coordinate", {
                get: function () {
                    return this.coordinate_ || (this.coordinate_ = this.map.getCoordinateFromPixel(this.pixel)), this.coordinate_
                },
                set: function (t) {
                    this.coordinate_ = t
                },
                enumerable: !0,
                configurable: !0
            }), e.prototype.preventDefault = function () {
                t.prototype.preventDefault.call(this), this.originalEvent.preventDefault()
            }, e.prototype.stopPropagation = function () {
                t.prototype.stopPropagation.call(this), this.originalEvent.stopPropagation()
            }, e
        }(Ue),
        Ve = (n(114), "undefined" != typeof navigator ? navigator.userAgent.toLowerCase() : ""),
        He = -1 !== Ve.indexOf("firefox"),
        Ye = (-1 !== Ve.indexOf("safari") && Ve.indexOf("chrom"), -1 !== Ve.indexOf("webkit") && -1 == Ve.indexOf("edge")),
        Ze = -1 !== Ve.indexOf("macintosh"),
        qe = window.devicePixelRatio || 1,
        Ke = "undefined" != typeof Image && Image.prototype.decode,
        $e = function () {
            var t = !1;
            try {
                var e = Object.defineProperty({}, "passive", {
                    get: function () {
                        t = !0
                    }
                });
                window.addEventListener("_", null, e), window.removeEventListener("_", null, e)
            } catch (t) {}
            return t
        }(),
        Je = {
            SINGLECLICK: "singleclick",
            CLICK: "click",
            DBLCLICK: "dblclick",
            POINTERDRAG: "pointerdrag",
            POINTERMOVE: "pointermove",
            POINTERDOWN: "pointerdown",
            POINTERUP: "pointerup",
            POINTEROVER: "pointerover",
            POINTEROUT: "pointerout",
            POINTERENTER: "pointerenter",
            POINTERLEAVE: "pointerleave",
            POINTERCANCEL: "pointercancel"
        },
        Qe = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        tn = function (t) {
            function e(e, n, r, o, i) {
                var a = t.call(this, e, n, r, o, i) || this;
                return a.pointerEvent = r, a
            }
            return Qe(e, t), e
        }(We),
        en = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        nn = function (t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                r.map_ = e, r.clickTimeoutId_, r.dragging_ = !1, r.dragListenerKeys_ = [], r.moveTolerance_ = n ? n * qe : qe, r.down_ = null;
                var o = r.map_.getViewport();
                return r.activePointers_ = 0, r.trackedTouches_ = {}, r.element_ = o, r.pointerdownListenerKey_ = fe(o, "pointerdown", r.handlePointerDown_, r), r.originalPointerMoveEvent_, r.relayedListenerKey_ = fe(o, "pointermove", r.relayEvent_, r), r.boundHandleTouchMove_ = r.handleTouchMove_.bind(r), r.element_.addEventListener("touchmove", r.boundHandleTouchMove_, !!$e && {
                    passive: !1
                }), r
            }
            return en(e, t), e.prototype.emulateClick_ = function (t) {
                var e = new tn(Je.CLICK, this.map_, t);
                this.dispatchEvent(e), void 0 !== this.clickTimeoutId_ ? (clearTimeout(this.clickTimeoutId_), this.clickTimeoutId_ = void 0, e = new tn(Je.DBLCLICK, this.map_, t), this.dispatchEvent(e)) : this.clickTimeoutId_ = setTimeout(function () {
                    this.clickTimeoutId_ = void 0;
                    var e = new tn(Je.SINGLECLICK, this.map_, t);
                    this.dispatchEvent(e)
                }.bind(this), 250)
            }, e.prototype.updateActivePointers_ = function (t) {
                var e = t;
                e.type == Je.POINTERUP || e.type == Je.POINTERCANCEL ? delete this.trackedTouches_[e.pointerId] : e.type == Je.POINTERDOWN && (this.trackedTouches_[e.pointerId] = !0), this.activePointers_ = Object.keys(this.trackedTouches_).length
            }, e.prototype.handlePointerUp_ = function (t) {
                this.updateActivePointers_(t);
                var e = new tn(Je.POINTERUP, this.map_, t);
                this.dispatchEvent(e), e.propagationStopped || this.dragging_ || !this.isMouseActionButton_(t) || this.emulateClick_(this.down_), 0 === this.activePointers_ && (this.dragListenerKeys_.forEach(de), this.dragListenerKeys_.length = 0, this.dragging_ = !1, this.down_ = null)
            }, e.prototype.isMouseActionButton_ = function (t) {
                return 0 === t.button
            }, e.prototype.handlePointerDown_ = function (t) {
                this.updateActivePointers_(t);
                var e = new tn(Je.POINTERDOWN, this.map_, t);
                this.dispatchEvent(e), this.down_ = t, 0 === this.dragListenerKeys_.length && this.dragListenerKeys_.push(fe(document, Je.POINTERMOVE, this.handlePointerMove_, this), fe(document, Je.POINTERUP, this.handlePointerUp_, this), fe(this.element_, Je.POINTERCANCEL, this.handlePointerUp_, this))
            }, e.prototype.handlePointerMove_ = function (t) {
                if (this.isMoving_(t)) {
                    this.dragging_ = !0;
                    var e = new tn(Je.POINTERDRAG, this.map_, t, this.dragging_);
                    this.dispatchEvent(e)
                }
            }, e.prototype.relayEvent_ = function (t) {
                this.originalPointerMoveEvent_ = t;
                var e = !(!this.down_ || !this.isMoving_(t));
                this.dispatchEvent(new tn(t.type, this.map_, t, e))
            }, e.prototype.handleTouchMove_ = function (t) {
                this.originalPointerMoveEvent_.defaultPrevented && t.preventDefault()
            }, e.prototype.isMoving_ = function (t) {
                return this.dragging_ || Math.abs(t.clientX - this.down_.clientX) > this.moveTolerance_ || Math.abs(t.clientY - this.down_.clientY) > this.moveTolerance_
            }, e.prototype.disposeInternal = function () {
                this.relayedListenerKey_ && (de(this.relayedListenerKey_), this.relayedListenerKey_ = null), this.element_.removeEventListener("touchmove", this.boundHandleTouchMove_), this.pointerdownListenerKey_ && (de(this.pointerdownListenerKey_), this.pointerdownListenerKey_ = null), this.dragListenerKeys_.forEach(de), this.dragListenerKeys_.length = 0, this.element_ = null, t.prototype.disposeInternal.call(this)
            }, e
        }(Pe);

    function rn(t, e) {
        if (!t) throw new se(e)
    }
    var on = function () {
            function t(t, e) {
                this.priorityFunction_ = t, this.keyFunction_ = e, this.elements_ = [], this.priorities_ = [], this.queuedElements_ = {}
            }
            return t.prototype.clear = function () {
                this.elements_.length = 0, this.priorities_.length = 0, ce(this.queuedElements_)
            }, t.prototype.dequeue = function () {
                var t = this.elements_,
                    e = this.priorities_,
                    n = t[0];
                1 == t.length ? (t.length = 0, e.length = 0) : (t[0] = t.pop(), e[0] = e.pop(), this.siftUp_(0));
                var r = this.keyFunction_(n);
                return delete this.queuedElements_[r], n
            }, t.prototype.enqueue = function (t) {
                rn(!(this.keyFunction_(t) in this.queuedElements_), 31);
                var e = this.priorityFunction_(t);
                return e != 1 / 0 && (this.elements_.push(t), this.priorities_.push(e), this.queuedElements_[this.keyFunction_(t)] = !0, this.siftDown_(0, this.elements_.length - 1), !0)
            }, t.prototype.getCount = function () {
                return this.elements_.length
            }, t.prototype.getLeftChildIndex_ = function (t) {
                return 2 * t + 1
            }, t.prototype.getRightChildIndex_ = function (t) {
                return 2 * t + 2
            }, t.prototype.getParentIndex_ = function (t) {
                return t - 1 >> 1
            }, t.prototype.heapify_ = function () {
                var t;
                for (t = (this.elements_.length >> 1) - 1; t >= 0; t--) this.siftUp_(t)
            }, t.prototype.isEmpty = function () {
                return 0 === this.elements_.length
            }, t.prototype.isKeyQueued = function (t) {
                return t in this.queuedElements_
            }, t.prototype.isQueued = function (t) {
                return this.isKeyQueued(this.keyFunction_(t))
            }, t.prototype.siftUp_ = function (t) {
                for (var e = this.elements_, n = this.priorities_, r = e.length, o = e[t], i = n[t], a = t; t < r >> 1;) {
                    var s = this.getLeftChildIndex_(t),
                        u = this.getRightChildIndex_(t),
                        c = u < r && n[u] < n[s] ? u : s;
                    e[t] = e[c], n[t] = n[c], t = c
                }
                e[t] = o, n[t] = i, this.siftDown_(a, t)
            }, t.prototype.siftDown_ = function (t, e) {
                for (var n = this.elements_, r = this.priorities_, o = n[e], i = r[e]; e > t;) {
                    var a = this.getParentIndex_(e);
                    if (!(r[a] > i)) break;
                    n[e] = n[a], r[e] = r[a], e = a
                }
                n[e] = o, r[e] = i
            }, t.prototype.reprioritize = function () {
                var t, e, n, r = this.priorityFunction_,
                    o = this.elements_,
                    i = this.priorities_,
                    a = 0,
                    s = o.length;
                for (e = 0; e < s; ++e)(n = r(t = o[e])) == 1 / 0 ? delete this.queuedElements_[this.keyFunction_(t)] : (i[a] = n, o[a++] = t);
                o.length = a, i.length = a, this.heapify_()
            }, t
        }(),
        an = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        sn = function (t) {
            function e(e, n) {
                var r = t.call(this, (function (t) {
                    return e.apply(null, t)
                }), (function (t) {
                    return t[0].getKey()
                })) || this;
                return r.boundHandleTileChange_ = r.handleTileChange.bind(r), r.tileChangeCallback_ = n, r.tilesLoading_ = 0, r.tilesLoadingKeys_ = {}, r
            }
            return an(e, t), e.prototype.enqueue = function (e) {
                var n = t.prototype.enqueue.call(this, e);
                return n && e[0].addEventListener("change", this.boundHandleTileChange_), n
            }, e.prototype.getTilesLoading = function () {
                return this.tilesLoading_
            }, e.prototype.handleTileChange = function (t) {
                var e = t.target,
                    n = e.getState();
                if (e.hifi && 2 === n || 3 === n || 4 === n) {
                    e.removeEventListener("change", this.boundHandleTileChange_);
                    var r = e.getKey();
                    r in this.tilesLoadingKeys_ && (delete this.tilesLoadingKeys_[r], --this.tilesLoading_), this.tileChangeCallback_()
                }
            }, e.prototype.loadMoreTiles = function (t, e) {
                for (var n, r, o = 0; this.tilesLoading_ < t && o < e && this.getCount() > 0;) r = (n = this.dequeue()[0]).getKey(), 0 !== n.getState() || r in this.tilesLoadingKeys_ || (this.tilesLoadingKeys_[r] = !0, ++this.tilesLoading_, ++o, n.load())
            }, e
        }(on);

    function un(t, e, n) {
        return Math.min(Math.max(t, e), n)
    }
    var cn = "cosh" in Math ? Math.cosh : function (t) {
        var e = Math.exp(t);
        return (e + 1 / e) / 2
    };

    function ln(t, e, n, r, o, i) {
        var a = o - n,
            s = i - r;
        if (0 !== a || 0 !== s) {
            var u = ((t - n) * a + (e - r) * s) / (a * a + s * s);
            u > 1 ? (n = o, r = i) : u > 0 && (n += a * u, r += s * u)
        }
        return hn(t, e, n, r)
    }

    function hn(t, e, n, r) {
        var o = n - t,
            i = r - e;
        return o * o + i * i
    }

    function fn(t) {
        return t * Math.PI / 180
    }

    function pn(t, e) {
        var n = t % e;
        return n * e < 0 ? n + e : n
    }

    function dn(t, e, n) {
        return t + n * (e - t)
    }

    function yn(t, e, n) {
        return function (r, o, i, a) {
            if (r) {
                var s = e ? 0 : i[0] * o,
                    u = e ? 0 : i[1] * o,
                    c = t[0] + s / 2,
                    l = t[2] - s / 2,
                    h = t[1] + u / 2,
                    f = t[3] - u / 2;
                c > l && (l = c = (l + c) / 2), h > f && (f = h = (f + h) / 2);
                var p = un(r[0], c, l),
                    d = un(r[1], h, f),
                    y = 30 * o;
                return a && n && (p += -y * Math.log(1 + Math.max(0, c - r[0]) / y) + y * Math.log(1 + Math.max(0, r[0] - l) / y), d += -y * Math.log(1 + Math.max(0, h - r[1]) / y) + y * Math.log(1 + Math.max(0, r[1] - f) / y)), [p, d]
            }
        }
    }

    function gn(t) {
        return t
    }

    function vn(t) {
        for (var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0], n = 0, r = t.length; n < r; ++n) In(e, t[n]);
        return e
    }

    function mn(t, e, n) {
        return n ? (n[0] = t[0] - e, n[1] = t[1] - e, n[2] = t[2] + e, n[3] = t[3] + e, n) : [t[0] - e, t[1] - e, t[2] + e, t[3] + e]
    }

    function _n(t, e) {
        return e ? (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e) : t.slice()
    }

    function bn(t, e, n) {
        var r, o;
        return (r = e < t[0] ? t[0] - e : t[2] < e ? e - t[2] : 0) * r + (o = n < t[1] ? t[1] - n : t[3] < n ? n - t[3] : 0) * o
    }

    function xn(t, e) {
        return Sn(t, e[0], e[1])
    }

    function wn(t, e) {
        return t[0] <= e[0] && e[2] <= t[2] && t[1] <= e[1] && e[3] <= t[3]
    }

    function Sn(t, e, n) {
        return t[0] <= e && e <= t[2] && t[1] <= n && n <= t[3]
    }

    function Cn(t, e) {
        var n = t[0],
            r = t[1],
            o = t[2],
            i = t[3],
            a = e[0],
            s = e[1],
            u = 0;
        return a < n ? u |= 16 : a > o && (u |= 4), s < r ? u |= 8 : s > i && (u |= 2), 0 === u && (u = 1), u
    }

    function En(t, e, n, r, o) {
        return o ? (o[0] = t, o[1] = e, o[2] = n, o[3] = r, o) : [t, e, n, r]
    }

    function Tn(t) {
        return En(1 / 0, 1 / 0, -1 / 0, -1 / 0, t)
    }

    function On(t, e) {
        var n = t[0],
            r = t[1];
        return En(n, r, n, r, e)
    }

    function Pn(t, e, n, r, o) {
        return kn(Tn(o), t, e, n, r)
    }

    function An(t, e) {
        return t[0] == e[0] && t[2] == e[2] && t[1] == e[1] && t[3] == e[3]
    }

    function Rn(t, e) {
        return e[0] < t[0] && (t[0] = e[0]), e[2] > t[2] && (t[2] = e[2]), e[1] < t[1] && (t[1] = e[1]), e[3] > t[3] && (t[3] = e[3]), t
    }

    function In(t, e) {
        e[0] < t[0] && (t[0] = e[0]), e[0] > t[2] && (t[2] = e[0]), e[1] < t[1] && (t[1] = e[1]), e[1] > t[3] && (t[3] = e[1])
    }

    function kn(t, e, n, r, o) {
        for (; n < r; n += o) Ln(t, e[n], e[n + 1]);
        return t
    }

    function Ln(t, e, n) {
        t[0] = Math.min(t[0], e), t[1] = Math.min(t[1], n), t[2] = Math.max(t[2], e), t[3] = Math.max(t[3], n)
    }

    function jn(t, e) {
        var n;
        return (n = e(Dn(t))) || (n = e(Fn(t))) || (n = e(Wn(t))) ? n : (n = e(Xn(t))) || !1
    }

    function Mn(t) {
        var e = 0;
        return Yn(t) || (e = Vn(t) * Bn(t)), e
    }

    function Dn(t) {
        return [t[0], t[1]]
    }

    function Fn(t) {
        return [t[2], t[1]]
    }

    function Gn(t) {
        return [(t[0] + t[2]) / 2, (t[1] + t[3]) / 2]
    }

    function Nn(t, e) {
        var n;
        return "bottom-left" === e ? n = Dn(t) : "bottom-right" === e ? n = Fn(t) : "top-left" === e ? n = Xn(t) : "top-right" === e ? n = Wn(t) : rn(!1, 13), n
    }

    function zn(t, e, n, r, o) {
        var i = e * r[0] / 2,
            a = e * r[1] / 2,
            s = Math.cos(n),
            u = Math.sin(n),
            c = i * s,
            l = i * u,
            h = a * s,
            f = a * u,
            p = t[0],
            d = t[1],
            y = p - c + f,
            g = p - c - f,
            v = p + c - f,
            m = p + c + f,
            _ = d - l - h,
            b = d - l + h,
            x = d + l + h,
            w = d + l - h;
        return En(Math.min(y, g, v, m), Math.min(_, b, x, w), Math.max(y, g, v, m), Math.max(_, b, x, w), o)
    }

    function Bn(t) {
        return t[3] - t[1]
    }

    function Un(t, e, n) {
        var r = n || [1 / 0, 1 / 0, -1 / 0, -1 / 0];
        return Hn(t, e) ? (t[0] > e[0] ? r[0] = t[0] : r[0] = e[0], t[1] > e[1] ? r[1] = t[1] : r[1] = e[1], t[2] < e[2] ? r[2] = t[2] : r[2] = e[2], t[3] < e[3] ? r[3] = t[3] : r[3] = e[3]) : Tn(r), r
    }

    function Xn(t) {
        return [t[0], t[3]]
    }

    function Wn(t) {
        return [t[2], t[3]]
    }

    function Vn(t) {
        return t[2] - t[0]
    }

    function Hn(t, e) {
        return t[0] <= e[2] && t[2] >= e[0] && t[1] <= e[3] && t[3] >= e[1]
    }

    function Yn(t) {
        return t[2] < t[0] || t[3] < t[1]
    }

    function Zn(t, e) {
        var n = (t[2] - t[0]) / 2 * (e - 1),
            r = (t[3] - t[1]) / 2 * (e - 1);
        t[0] -= n, t[2] += n, t[1] -= r, t[3] += r
    }

    function qn(t, e, n, r) {
        var o = Vn(e) / n[0],
            i = Bn(e) / n[1];
        return r ? Math.min(t, Math.max(o, i)) : Math.min(t, Math.min(o, i))
    }

    function Kn(t, e, n) {
        var r = Math.min(t, e);
        return r *= Math.log(1 + 50 * Math.max(0, t / e - 1)) / 50 + 1, n && (r = Math.max(r, n), r /= Math.log(1 + 50 * Math.max(0, n / t - 1)) / 50 + 1), un(r, n / 2, 2 * e)
    }

    function $n(t, e, n, r, o) {
        return function (i, a, s, u) {
            if (void 0 !== i) {
                var c = r ? qn(t, r, s, o) : t;
                return (void 0 === n || n) && u ? Kn(i, c, e) : un(i, e, c)
            }
        }
    }

    function Jn(t) {
        return void 0 !== t ? 0 : void 0
    }

    function Qn(t) {
        return void 0 !== t ? t : void 0
    }

    function tr(t, e) {
        return t[0] += +e[0], t[1] += +e[1], t
    }

    function er(t, e) {
        for (var n = !0, r = t.length - 1; r >= 0; --r)
            if (t[r] != e[r]) {
                n = !1;
                break
            } return n
    }

    function nr(t, e) {
        var n = Math.cos(e),
            r = Math.sin(e),
            o = t[0] * n - t[1] * r,
            i = t[1] * n + t[0] * r;
        return t[0] = o, t[1] = i, t
    }

    function rr(t, e) {
        return t[0] *= e, t[1] *= e, t
    }

    function or(t) {
        return Math.pow(t, 3)
    }

    function ir(t) {
        return 1 - or(1 - t)
    }

    function ar(t) {
        return 3 * t * t - 2 * t * t * t
    }

    function sr(t) {
        return t
    }

    function ur(t, e, n, r, o, i) {
        for (var a = i || [], s = 0, u = e; u < n; u += r) {
            var c = t[u],
                l = t[u + 1];
            a[s++] = o[0] * c + o[2] * l + o[4], a[s++] = o[1] * c + o[3] * l + o[5]
        }
        return i && a.length != s && (a.length = s), a
    }

    function cr(t, e, n, r, o, i, a) {
        for (var s = a || [], u = Math.cos(o), c = Math.sin(o), l = i[0], h = i[1], f = 0, p = e; p < n; p += r) {
            var d = t[p] - l,
                y = t[p + 1] - h;
            s[f++] = l + d * u - y * c, s[f++] = h + d * c + y * u;
            for (var g = p + 2; g < p + r; ++g) s[f++] = t[g]
        }
        return a && s.length != f && (s.length = f), s
    }

    function lr(t, e, n, r, o, i, a) {
        for (var s = a || [], u = 0, c = e; c < n; c += r) {
            s[u++] = t[c] + o, s[u++] = t[c + 1] + i;
            for (var l = c + 2; l < c + r; ++l) s[u++] = t[l]
        }
        return a && s.length != u && (s.length = u), s
    }

    function hr(t, e, n) {
        var r = n || 6371008.8,
            o = fn(t[1]),
            i = fn(e[1]),
            a = (i - o) / 2,
            s = fn(e[0] - t[0]) / 2,
            u = Math.sin(a) * Math.sin(a) + Math.sin(s) * Math.sin(s) * Math.cos(o) * Math.cos(i);
        return 2 * r * Math.atan2(Math.sqrt(u), Math.sqrt(1 - u))
    }
    var fr = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        pr = 6378137 * Math.PI,
        dr = [-pr, -pr, pr, pr],
        yr = [-180, -85, 180, 85],
        gr = function (t) {
            function e(e) {
                return t.call(this, {
                    code: e,
                    units: te.METERS,
                    extent: dr,
                    global: !0,
                    worldExtent: yr,
                    getPointResolution: function (t, e) {
                        return t / cn(e[1] / 6378137)
                    }
                }) || this
            }
            return fr(e, t), e
        }(ee),
        vr = [new gr("EPSG:3857"), new gr("EPSG:102100"), new gr("EPSG:102113"), new gr("EPSG:900913"), new gr("urn:ogc:def:crs:EPSG:6.18:3:3857"), new gr("urn:ogc:def:crs:EPSG::3857"), new gr("http://www.opengis.net/gml/srs/epsg.xml#3857")],
        mr = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        _r = [-180, -90, 180, 90],
        br = 6378137 * Math.PI / 180,
        xr = function (t) {
            function e(e, n) {
                return t.call(this, {
                    code: e,
                    units: te.DEGREES,
                    extent: _r,
                    axisOrientation: n,
                    global: !0,
                    metersPerUnit: br,
                    worldExtent: _r
                }) || this
            }
            return mr(e, t), e
        }(ee),
        wr = [new xr("CRS:84"), new xr("EPSG:4326", "neu"), new xr("urn:ogc:def:crs:EPSG::4326", "neu"), new xr("urn:ogc:def:crs:EPSG:6.6:4326", "neu"), new xr("urn:ogc:def:crs:OGC:1.3:CRS84"), new xr("urn:ogc:def:crs:OGC:2:84"), new xr("http://www.opengis.net/gml/srs/epsg.xml#4326", "neu"), new xr("urn:x-ogc:def:crs:EPSG:4326", "neu")],
        Sr = {};

    function Cr(t, e, n) {
        var r = t.getCode(),
            o = e.getCode();
        r in Sr || (Sr[r] = {}), Sr[r][o] = n
    }
    var Er, Tr, Or, Pr = {};

    function Ar(t, e, n) {
        var r;
        if (void 0 !== e) {
            for (var o = 0, i = t.length; o < i; ++o) e[o] = t[o];
            r = e
        } else r = t.slice();
        return r
    }

    function Rr(t, e, n) {
        if (void 0 !== e && t !== e) {
            for (var r = 0, o = t.length; r < o; ++r) e[r] = t[r];
            t = e
        }
        return t
    }

    function Ir(t) {
        ! function (t, e) {
            Pr[t] = e
        }(t.getCode(), t), Cr(t, t, Ar)
    }

    function kr(t) {
        return "string" == typeof t ? Pr[t] || null : t || null
    }

    function Lr(t, e, n, r) {
        var o, i = (t = kr(t)).getPointResolutionFunc();
        if (i) o = i(e, n), r && r !== t.getUnits() && (a = t.getMetersPerUnit()) && (o = o * a / Qt[r]);
        else if (t.getUnits() == te.DEGREES && !r || r == te.DEGREES) o = e;
        else {
            var a, s = Fr(t, kr("EPSG:4326")),
                u = [n[0] - e / 2, n[1], n[0] + e / 2, n[1], n[0], n[1] - e / 2, n[0], n[1] + e / 2];
            o = (hr((u = s(u, u, 2)).slice(0, 2), u.slice(2, 4)) + hr(u.slice(4, 6), u.slice(6, 8))) / 2, void 0 !== (a = r ? Qt[r] : t.getMetersPerUnit()) && (o /= a)
        }
        return o
    }

    function jr(t) {
        ! function (t) {
            t.forEach(Ir)
        }(t), t.forEach((function (e) {
            t.forEach((function (t) {
                e !== t && Cr(e, t, Ar)
            }))
        }))
    }

    function Mr(t, e) {
        return t ? "string" == typeof t ? kr(t) : t : kr(e)
    }

    function Dr(t, e) {
        if (t === e) return !0;
        var n = t.getUnits() === e.getUnits();
        return (t.getCode() === e.getCode() || Fr(t, e) === Ar) && n
    }

    function Fr(t, e) {
        var n, r, o, i = (n = t.getCode(), r = e.getCode(), n in Sr && r in Sr[n] && (o = Sr[n][r]), o);
        return i || (i = Rr), i
    }

    function Gr(t, e) {
        return Fr(kr(t), kr(e))
    }

    function Nr(t, e) {
        return t
    }

    function zr(t, e) {
        return t
    }

    function Br(t, e) {
        return t
    }

    function Ur(t, e) {
        return t
    }
    jr(vr), jr(wr), Er = vr, Tr = function (t, e, n) {
        var r = t.length,
            o = n > 1 ? n : 2,
            i = e;
        void 0 === i && (i = o > 2 ? t.slice() : new Array(r));
        for (var a = pr, s = 0; s < r; s += o) {
            i[s] = a * t[s] / 180;
            var u = 6378137 * Math.log(Math.tan(Math.PI * (+t[s + 1] + 90) / 360));
            u > a ? u = a : u < -a && (u = -a), i[s + 1] = u
        }
        return i
    }, Or = function (t, e, n) {
        var r = t.length,
            o = n > 1 ? n : 2,
            i = e;
        void 0 === i && (i = o > 2 ? t.slice() : new Array(r));
        for (var a = 0; a < r; a += o) i[a] = 180 * t[a] / pr, i[a + 1] = 360 * Math.atan(Math.exp(t[a + 1] / 6378137)) / Math.PI - 90;
        return i
    }, wr.forEach((function (t) {
        Er.forEach((function (e) {
            Cr(t, e, Tr), Cr(e, t, Or)
        }))
    }));
    var Xr = new Array(6);

    function Wr(t) {
        return Hr(t, 1, 0, 0, 1, 0, 0)
    }

    function Vr(t, e) {
        var n = t[0],
            r = t[1],
            o = t[2],
            i = t[3],
            a = t[4],
            s = t[5],
            u = e[0],
            c = e[1],
            l = e[2],
            h = e[3],
            f = e[4],
            p = e[5];
        return t[0] = n * u + o * c, t[1] = r * u + i * c, t[2] = n * l + o * h, t[3] = r * l + i * h, t[4] = n * f + o * p + a, t[5] = r * f + i * p + s, t
    }

    function Hr(t, e, n, r, o, i, a) {
        return t[0] = e, t[1] = n, t[2] = r, t[3] = o, t[4] = i, t[5] = a, t
    }

    function Yr(t, e) {
        var n = e[0],
            r = e[1];
        return e[0] = t[0] * n + t[2] * r + t[4], e[1] = t[1] * n + t[3] * r + t[5], e
    }

    function Zr(t, e, n, r, o, i, a, s) {
        var u = Math.sin(i),
            c = Math.cos(i);
        return t[0] = r * c, t[1] = o * u, t[2] = -r * u, t[3] = o * c, t[4] = a * r * c - s * r * u + e, t[5] = a * o * u + s * o * c + n, t
    }

    function qr(t, e) {
        var n, r = (n = e)[0] * n[3] - n[1] * n[2];
        rn(0 !== r, 32);
        var o = e[0],
            i = e[1],
            a = e[2],
            s = e[3],
            u = e[4],
            c = e[5];
        return t[0] = s / r, t[1] = -i / r, t[2] = -a / r, t[3] = o / r, t[4] = (a * c - s * u) / r, t[5] = -(o * c - i * u) / r, t
    }

    function Kr(t) {
        return "matrix(" + t.join(", ") + ")"
    }
    var $r = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Jr = [1, 0, 0, 1, 0, 0],
        Qr = function (t) {
            function e() {
                var e, n, r, o, i, a = t.call(this) || this;
                return a.extent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0], a.extentRevision_ = -1, a.simplifiedGeometryMaxMinSquaredTolerance = 0, a.simplifiedGeometryRevision = 0, a.simplifyTransformedInternal = (e = function (t, e, n) {
                    if (!n) return this.getSimplifiedGeometry(e);
                    var r = this.clone();
                    return r.applyTransform(n), r.getSimplifiedGeometry(e)
                }, i = !1, function () {
                    var t = Array.prototype.slice.call(arguments);
                    return i && this === o && xe(t, r) || (i = !0, o = this, r = t, n = e.apply(this, arguments)), n
                }), a
            }
            return $r(e, t), e.prototype.simplifyTransformed = function (t, e) {
                return this.simplifyTransformedInternal(this.getRevision(), t, e)
            }, e.prototype.clone = function () {
                return ne()
            }, e.prototype.closestPointXY = function (t, e, n, r) {
                return ne()
            }, e.prototype.containsXY = function (t, e) {
                var n = this.getClosestPoint([t, e]);
                return n[0] === t && n[1] === e
            }, e.prototype.getClosestPoint = function (t, e) {
                var n = e || [NaN, NaN];
                return this.closestPointXY(t[0], t[1], n, 1 / 0), n
            }, e.prototype.intersectsCoordinate = function (t) {
                return this.containsXY(t[0], t[1])
            }, e.prototype.computeExtent = function (t) {
                return ne()
            }, e.prototype.getExtent = function (t) {
                return this.extentRevision_ != this.getRevision() && (this.extent_ = this.computeExtent(this.extent_), this.extentRevision_ = this.getRevision()),
                    function (t, e) {
                        return e ? (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e) : t
                    }(this.extent_, t)
            }, e.prototype.rotate = function (t, e) {
                ne()
            }, e.prototype.scale = function (t, e, n) {
                ne()
            }, e.prototype.simplify = function (t) {
                return this.getSimplifiedGeometry(t * t)
            }, e.prototype.getSimplifiedGeometry = function (t) {
                return ne()
            }, e.prototype.getType = function () {
                return ne()
            }, e.prototype.applyTransform = function (t) {
                ne()
            }, e.prototype.intersectsExtent = function (t) {
                return ne()
            }, e.prototype.translate = function (t, e) {
                ne()
            }, e.prototype.transform = function (t, e) {
                var n = kr(t),
                    r = n.getUnits() == te.TILE_PIXELS ? function (t, r, o) {
                        var i = n.getExtent(),
                            a = n.getWorldExtent(),
                            s = Bn(a) / Bn(i);
                        return Zr(Jr, a[0], a[3], s, -s, 0, 0, 0), ur(t, 0, t.length, o, Jr, r), Gr(n, e)(t, r, o)
                    } : Gr(n, e);
                return this.applyTransform(r), this
            }, e
        }(Fe),
        to = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function eo(t) {
        var e;
        return "XY" == t ? e = 2 : "XYZ" == t || "XYM" == t ? e = 3 : "XYZM" == t && (e = 4), e
    }
    var no = function (t) {
        function e() {
            var e = t.call(this) || this;
            return e.layout = "XY", e.stride = 2, e.flatCoordinates = null, e
        }
        return to(e, t), e.prototype.computeExtent = function (t) {
            return Pn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t)
        }, e.prototype.getCoordinates = function () {
            return ne()
        }, e.prototype.getFirstCoordinate = function () {
            return this.flatCoordinates.slice(0, this.stride)
        }, e.prototype.getFlatCoordinates = function () {
            return this.flatCoordinates
        }, e.prototype.getLastCoordinate = function () {
            return this.flatCoordinates.slice(this.flatCoordinates.length - this.stride)
        }, e.prototype.getLayout = function () {
            return this.layout
        }, e.prototype.getSimplifiedGeometry = function (t) {
            if (this.simplifiedGeometryRevision !== this.getRevision() && (this.simplifiedGeometryMaxMinSquaredTolerance = 0, this.simplifiedGeometryRevision = this.getRevision()), t < 0 || 0 !== this.simplifiedGeometryMaxMinSquaredTolerance && t <= this.simplifiedGeometryMaxMinSquaredTolerance) return this;
            var e = this.getSimplifiedGeometryInternal(t);
            return e.getFlatCoordinates().length < this.flatCoordinates.length ? e : (this.simplifiedGeometryMaxMinSquaredTolerance = t, this)
        }, e.prototype.getSimplifiedGeometryInternal = function (t) {
            return this
        }, e.prototype.getStride = function () {
            return this.stride
        }, e.prototype.setFlatCoordinates = function (t, e) {
            this.stride = eo(t), this.layout = t, this.flatCoordinates = e
        }, e.prototype.setCoordinates = function (t, e) {
            ne()
        }, e.prototype.setLayout = function (t, e, n) {
            var r;
            if (t) r = eo(t);
            else {
                for (var o = 0; o < n; ++o) {
                    if (0 === e.length) return this.layout = "XY", void(this.stride = 2);
                    e = e[0]
                }
                t = function (t) {
                    var e;
                    return 2 == t ? e = "XY" : 3 == t ? e = "XYZ" : 4 == t && (e = "XYZM"), e
                }(r = e.length)
            }
            this.layout = t, this.stride = r
        }, e.prototype.applyTransform = function (t) {
            this.flatCoordinates && (t(this.flatCoordinates, this.flatCoordinates, this.stride), this.changed())
        }, e.prototype.rotate = function (t, e) {
            var n = this.getFlatCoordinates();
            if (n) {
                var r = this.getStride();
                cr(n, 0, n.length, r, t, e, n), this.changed()
            }
        }, e.prototype.scale = function (t, e, n) {
            var r = e;
            void 0 === r && (r = t);
            var o = n;
            o || (o = Gn(this.getExtent()));
            var i = this.getFlatCoordinates();
            if (i) {
                var a = this.getStride();
                ! function (t, e, n, r, o, i, a, s) {
                    for (var u = s || [], c = a[0], l = a[1], h = 0, f = 0; f < n; f += r) {
                        var p = t[f] - c,
                            d = t[f + 1] - l;
                        u[h++] = c + o * p, u[h++] = l + i * d;
                        for (var y = f + 2; y < f + r; ++y) u[h++] = t[y]
                    }
                    s && u.length != h && (u.length = h)
                }(i, 0, i.length, a, t, r, o, i), this.changed()
            }
        }, e.prototype.translate = function (t, e) {
            var n = this.getFlatCoordinates();
            if (n) {
                var r = this.getStride();
                lr(n, 0, n.length, r, t, e, n), this.changed()
            }
        }, e
    }(Qr);

    function ro(t, e, n, r) {
        for (var o = 0, i = t[n - r], a = t[n - r + 1]; e < n; e += r) {
            var s = t[e],
                u = t[e + 1];
            o += a * s - i * u, i = s, a = u
        }
        return o / 2
    }

    function oo(t, e, n, r) {
        for (var o = 0, i = 0, a = n.length; i < a; ++i) {
            var s = n[i];
            o += ro(t, e, s, r), e = s
        }
        return o
    }

    function io(t, e, n, r, o, i, a) {
        var s, u = t[e],
            c = t[e + 1],
            l = t[n] - u,
            h = t[n + 1] - c;
        if (0 === l && 0 === h) s = e;
        else {
            var f = ((o - u) * l + (i - c) * h) / (l * l + h * h);
            if (f > 1) s = n;
            else {
                if (f > 0) {
                    for (var p = 0; p < r; ++p) a[p] = dn(t[e + p], t[n + p], f);
                    return void(a.length = r)
                }
                s = e
            }
        }
        for (p = 0; p < r; ++p) a[p] = t[s + p];
        a.length = r
    }

    function ao(t, e, n, r, o) {
        var i = t[e],
            a = t[e + 1];
        for (e += r; e < n; e += r) {
            var s = t[e],
                u = t[e + 1],
                c = hn(i, a, s, u);
            c > o && (o = c), i = s, a = u
        }
        return o
    }

    function so(t, e, n, r, o) {
        for (var i = 0, a = n.length; i < a; ++i) {
            var s = n[i];
            o = ao(t, e, s, r, o), e = s
        }
        return o
    }

    function uo(t, e, n, r, o, i, a, s, u, c, l) {
        if (e == n) return c;
        var h, f;
        if (0 === o) {
            if ((f = hn(a, s, t[e], t[e + 1])) < c) {
                for (h = 0; h < r; ++h) u[h] = t[e + h];
                return u.length = r, f
            }
            return c
        }
        for (var p = l || [NaN, NaN], d = e + r; d < n;)
            if (io(t, d - r, d, r, a, s, p), (f = hn(a, s, p[0], p[1])) < c) {
                for (c = f, h = 0; h < r; ++h) u[h] = p[h];
                u.length = r, d += r
            } else d += r * Math.max((Math.sqrt(f) - Math.sqrt(c)) / o | 0, 1);
        if (i && (io(t, n - r, e, r, a, s, p), (f = hn(a, s, p[0], p[1])) < c)) {
            for (c = f, h = 0; h < r; ++h) u[h] = p[h];
            u.length = r
        }
        return c
    }

    function co(t, e, n, r, o, i, a, s, u, c, l) {
        for (var h = l || [NaN, NaN], f = 0, p = n.length; f < p; ++f) {
            var d = n[f];
            c = uo(t, e, d, r, o, i, a, s, u, c, h), e = d
        }
        return c
    }

    function lo(t, e, n, r) {
        for (var o = 0, i = n.length; o < i; ++o) t[e++] = n[o];
        return e
    }

    function ho(t, e, n, r) {
        for (var o = 0, i = n.length; o < i; ++o)
            for (var a = n[o], s = 0; s < r; ++s) t[e++] = a[s];
        return e
    }

    function fo(t, e, n, r, o) {
        for (var i = o || [], a = 0, s = 0, u = n.length; s < u; ++s) {
            var c = ho(t, e, n[s], r);
            i[a++] = c, e = c
        }
        return i.length = a, i
    }

    function po(t, e, n, r, o) {
        for (var i = void 0 !== o ? o : [], a = 0, s = e; s < n; s += r) i[a++] = t.slice(s, s + r);
        return i.length = a, i
    }

    function yo(t, e, n, r, o) {
        for (var i = void 0 !== o ? o : [], a = 0, s = 0, u = n.length; s < u; ++s) {
            var c = n[s];
            i[a++] = po(t, e, c, r, i[a]), e = c
        }
        return i.length = a, i
    }

    function go(t, e, n, r, o) {
        for (var i = void 0 !== o ? o : [], a = 0, s = 0, u = n.length; s < u; ++s) {
            var c = n[s];
            i[a++] = yo(t, e, c, r, i[a]), e = c[c.length - 1]
        }
        return i.length = a, i
    }

    function vo(t, e, n, r, o, i, a) {
        var s = (n - e) / r;
        if (s < 3) {
            for (; e < n; e += r) i[a++] = t[e], i[a++] = t[e + 1];
            return a
        }
        var u = new Array(s);
        u[0] = 1, u[s - 1] = 1;
        for (var c = [e, n - r], l = 0; c.length > 0;) {
            for (var h = c.pop(), f = c.pop(), p = 0, d = t[f], y = t[f + 1], g = t[h], v = t[h + 1], m = f + r; m < h; m += r) {
                var _ = ln(t[m], t[m + 1], d, y, g, v);
                _ > p && (l = m, p = _)
            }
            p > o && (u[(l - e) / r] = 1, f + r < l && c.push(f, l), l + r < h && c.push(l, h))
        }
        for (m = 0; m < s; ++m) u[m] && (i[a++] = t[e + m * r], i[a++] = t[e + m * r + 1]);
        return a
    }

    function mo(t, e) {
        return e * Math.round(t / e)
    }

    function _o(t, e, n, r, o, i, a) {
        if (e == n) return a;
        var s, u, c = mo(t[e], o),
            l = mo(t[e + 1], o);
        e += r, i[a++] = c, i[a++] = l;
        do {
            if (s = mo(t[e], o), u = mo(t[e + 1], o), (e += r) == n) return i[a++] = s, i[a++] = u, a
        } while (s == c && u == l);
        for (; e < n;) {
            var h = mo(t[e], o),
                f = mo(t[e + 1], o);
            if (e += r, h != s || f != u) {
                var p = s - c,
                    d = u - l,
                    y = h - c,
                    g = f - l;
                p * g == d * y && (p < 0 && y < p || p == y || p > 0 && y > p) && (d < 0 && g < d || d == g || d > 0 && g > d) ? (s = h, u = f) : (i[a++] = s, i[a++] = u, c = s, l = u, s = h, u = f)
            }
        }
        return i[a++] = s, i[a++] = u, a
    }

    function bo(t, e, n, r, o, i, a, s) {
        for (var u = 0, c = n.length; u < c; ++u) {
            var l = n[u];
            a = _o(t, e, l, r, o, i, a), s.push(a), e = l
        }
        return a
    }
    var xo = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        wo = function (t) {
            function e(e, n) {
                var r = t.call(this) || this;
                return r.maxDelta_ = -1, r.maxDeltaRevision_ = -1, void 0 === n || Array.isArray(e[0]) ? r.setCoordinates(e, n) : r.setFlatCoordinates(n, e), r
            }
            return xo(e, t), e.prototype.clone = function () {
                return new e(this.flatCoordinates.slice(), this.layout)
            }, e.prototype.closestPointXY = function (t, e, n, r) {
                return r < bn(this.getExtent(), t, e) ? r : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(ao(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), uo(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, this.maxDelta_, !0, t, e, n, r))
            }, e.prototype.getArea = function () {
                return ro(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride)
            }, e.prototype.getCoordinates = function () {
                return po(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride)
            }, e.prototype.getSimplifiedGeometryInternal = function (t) {
                var n = [];
                return n.length = vo(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t, n, 0), new e(n, "XY")
            }, e.prototype.getType = function () {
                return "LinearRing"
            }, e.prototype.intersectsExtent = function (t) {
                return !1
            }, e.prototype.setCoordinates = function (t, e) {
                this.setLayout(e, t, 1), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = ho(this.flatCoordinates, 0, t, this.stride), this.changed()
            }, e
        }(no),
        So = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Co = function (t) {
            function e(e, n) {
                var r = t.call(this) || this;
                return r.setCoordinates(e, n), r
            }
            return So(e, t), e.prototype.clone = function () {
                return new e(this.flatCoordinates.slice(), this.layout)
            }, e.prototype.closestPointXY = function (t, e, n, r) {
                var o = this.flatCoordinates,
                    i = hn(t, e, o[0], o[1]);
                if (i < r) {
                    for (var a = this.stride, s = 0; s < a; ++s) n[s] = o[s];
                    return n.length = a, i
                }
                return r
            }, e.prototype.getCoordinates = function () {
                return this.flatCoordinates ? this.flatCoordinates.slice() : []
            }, e.prototype.computeExtent = function (t) {
                return On(this.flatCoordinates, t)
            }, e.prototype.getType = function () {
                return "Point"
            }, e.prototype.intersectsExtent = function (t) {
                return Sn(t, this.flatCoordinates[0], this.flatCoordinates[1])
            }, e.prototype.setCoordinates = function (t, e) {
                this.setLayout(e, t, 0), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = lo(this.flatCoordinates, 0, t, this.stride), this.changed()
            }, e
        }(no);

    function Eo(t, e, n, r, o) {
        return !jn(o, (function (o) {
            return !To(t, e, n, r, o[0], o[1])
        }))
    }

    function To(t, e, n, r, o, i) {
        for (var a = 0, s = t[n - r], u = t[n - r + 1]; e < n; e += r) {
            var c = t[e],
                l = t[e + 1];
            u <= i ? l > i && (c - s) * (i - u) - (o - s) * (l - u) > 0 && a++ : l <= i && (c - s) * (i - u) - (o - s) * (l - u) < 0 && a--, s = c, u = l
        }
        return 0 !== a
    }

    function Oo(t, e, n, r, o, i) {
        if (0 === n.length) return !1;
        if (!To(t, e, n[0], r, o, i)) return !1;
        for (var a = 1, s = n.length; a < s; ++a)
            if (To(t, n[a - 1], n[a], r, o, i)) return !1;
        return !0
    }

    function Po(t, e, n, r, o, i, a) {
        for (var s, u, c, l, h, f, p, d = o[i + 1], y = [], g = 0, v = n.length; g < v; ++g) {
            var m = n[g];
            for (l = t[m - r], f = t[m - r + 1], s = e; s < m; s += r) h = t[s], p = t[s + 1], (d <= f && p <= d || f <= d && d <= p) && (c = (d - f) / (p - f) * (h - l) + l, y.push(c)), l = h, f = p
        }
        var _ = NaN,
            b = -1 / 0;
        for (y.sort(ge), l = y[0], s = 1, u = y.length; s < u; ++s) {
            h = y[s];
            var x = Math.abs(h - l);
            x > b && Oo(t, e, n, r, c = (l + h) / 2, d) && (_ = c, b = x), l = h
        }
        return isNaN(_) && (_ = o[i]), a ? (a.push(_, d, b), a) : [_, d, b]
    }

    function Ao(t, e, n, r, o) {
        for (var i, a = [t[e], t[e + 1]], s = []; e + r < n; e += r) {
            if (s[0] = t[e + r], s[1] = t[e + r + 1], i = o(a, s)) return i;
            a[0] = s[0], a[1] = s[1]
        }
        return !1
    }

    function Ro(t, e, n, r, o) {
        var i = kn([1 / 0, 1 / 0, -1 / 0, -1 / 0], t, e, n, r);
        return !!Hn(o, i) && (!!wn(o, i) || i[0] >= o[0] && i[2] <= o[2] || i[1] >= o[1] && i[3] <= o[3] || Ao(t, e, n, r, (function (t, e) {
            return function (t, e, n) {
                var r = !1,
                    o = Cn(t, e),
                    i = Cn(t, n);
                if (1 === o || 1 === i) r = !0;
                else {
                    var a = t[0],
                        s = t[1],
                        u = t[2],
                        c = t[3],
                        l = e[0],
                        h = e[1],
                        f = n[0],
                        p = n[1],
                        d = (p - h) / (f - l),
                        y = void 0,
                        g = void 0;
                    2 & i && !(2 & o) && (r = (y = f - (p - c) / d) >= a && y <= u), r || !(4 & i) || 4 & o || (r = (g = p - (f - u) * d) >= s && g <= c), r || !(8 & i) || 8 & o || (r = (y = f - (p - s) / d) >= a && y <= u), r || !(16 & i) || 16 & o || (r = (g = p - (f - a) * d) >= s && g <= c)
                }
                return r
            }(o, t, e)
        })))
    }

    function Io(t, e, n, r, o) {
        if (! function (t, e, n, r, o) {
                return !!(Ro(t, e, n, r, o) || To(t, e, n, r, o[0], o[1]) || To(t, e, n, r, o[0], o[3]) || To(t, e, n, r, o[2], o[1]) || To(t, e, n, r, o[2], o[3]))
            }(t, e, n[0], r, o)) return !1;
        if (1 === n.length) return !0;
        for (var i = 1, a = n.length; i < a; ++i)
            if (Eo(t, n[i - 1], n[i], r, o) && !Ro(t, n[i - 1], n[i], r, o)) return !1;
        return !0
    }

    function ko(t, e, n, r) {
        for (; e < n - r;) {
            for (var o = 0; o < r; ++o) {
                var i = t[e + o];
                t[e + o] = t[n - r + o], t[n - r + o] = i
            }
            e += r, n -= r
        }
    }

    function Lo(t, e, n, r) {
        for (var o = 0, i = t[n - r], a = t[n - r + 1]; e < n; e += r) {
            var s = t[e],
                u = t[e + 1];
            o += (s - i) * (u + a), i = s, a = u
        }
        return o > 0
    }

    function jo(t, e, n, r, o) {
        for (var i = void 0 !== o && o, a = 0, s = n.length; a < s; ++a) {
            var u = n[a],
                c = Lo(t, e, u, r);
            if (0 === a) {
                if (i && c || !i && !c) return !1
            } else if (i && !c || !i && c) return !1;
            e = u
        }
        return !0
    }

    function Mo(t, e, n, r, o) {
        for (var i = void 0 !== o && o, a = 0, s = n.length; a < s; ++a) {
            var u = n[a],
                c = Lo(t, e, u, r);
            (0 === a ? i && c || !i && !c : i && !c || !i && c) && ko(t, e, u, r), e = u
        }
        return e
    }

    function Do(t, e, n, r, o) {
        for (var i = 0, a = n.length; i < a; ++i) e = Mo(t, e, n[i], r, o);
        return e
    }
    var Fo = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Go = function (t) {
            function e(e, n, r) {
                var o = t.call(this) || this;
                return o.ends_ = [], o.flatInteriorPointRevision_ = -1, o.flatInteriorPoint_ = null, o.maxDelta_ = -1, o.maxDeltaRevision_ = -1, o.orientedRevision_ = -1, o.orientedFlatCoordinates_ = null, void 0 !== n && r ? (o.setFlatCoordinates(n, e), o.ends_ = r) : o.setCoordinates(e, n), o
            }
            return Fo(e, t), e.prototype.appendLinearRing = function (t) {
                this.flatCoordinates ? be(this.flatCoordinates, t.getFlatCoordinates()) : this.flatCoordinates = t.getFlatCoordinates().slice(), this.ends_.push(this.flatCoordinates.length), this.changed()
            }, e.prototype.clone = function () {
                return new e(this.flatCoordinates.slice(), this.layout, this.ends_.slice())
            }, e.prototype.closestPointXY = function (t, e, n, r) {
                return r < bn(this.getExtent(), t, e) ? r : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(so(this.flatCoordinates, 0, this.ends_, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), co(this.flatCoordinates, 0, this.ends_, this.stride, this.maxDelta_, !0, t, e, n, r))
            }, e.prototype.containsXY = function (t, e) {
                return Oo(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, t, e)
            }, e.prototype.getArea = function () {
                return oo(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride)
            }, e.prototype.getCoordinates = function (t) {
                var e;
                return void 0 !== t ? Mo(e = this.getOrientedFlatCoordinates().slice(), 0, this.ends_, this.stride, t) : e = this.flatCoordinates, yo(e, 0, this.ends_, this.stride)
            }, e.prototype.getEnds = function () {
                return this.ends_
            }, e.prototype.getFlatInteriorPoint = function () {
                if (this.flatInteriorPointRevision_ != this.getRevision()) {
                    var t = Gn(this.getExtent());
                    this.flatInteriorPoint_ = Po(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, t, 0), this.flatInteriorPointRevision_ = this.getRevision()
                }
                return this.flatInteriorPoint_
            }, e.prototype.getInteriorPoint = function () {
                return new Co(this.getFlatInteriorPoint(), "XYM")
            }, e.prototype.getLinearRingCount = function () {
                return this.ends_.length
            }, e.prototype.getLinearRing = function (t) {
                return t < 0 || this.ends_.length <= t ? null : new wo(this.flatCoordinates.slice(0 === t ? 0 : this.ends_[t - 1], this.ends_[t]), this.layout)
            }, e.prototype.getLinearRings = function () {
                for (var t = this.layout, e = this.flatCoordinates, n = this.ends_, r = [], o = 0, i = 0, a = n.length; i < a; ++i) {
                    var s = n[i],
                        u = new wo(e.slice(o, s), t);
                    r.push(u), o = s
                }
                return r
            }, e.prototype.getOrientedFlatCoordinates = function () {
                if (this.orientedRevision_ != this.getRevision()) {
                    var t = this.flatCoordinates;
                    jo(t, 0, this.ends_, this.stride) ? this.orientedFlatCoordinates_ = t : (this.orientedFlatCoordinates_ = t.slice(), this.orientedFlatCoordinates_.length = Mo(this.orientedFlatCoordinates_, 0, this.ends_, this.stride)), this.orientedRevision_ = this.getRevision()
                }
                return this.orientedFlatCoordinates_
            }, e.prototype.getSimplifiedGeometryInternal = function (t) {
                var n = [],
                    r = [];
                return n.length = bo(this.flatCoordinates, 0, this.ends_, this.stride, Math.sqrt(t), n, 0, r), new e(n, "XY", r)
            }, e.prototype.getType = function () {
                return "Polygon"
            }, e.prototype.intersectsExtent = function (t) {
                return Io(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, t)
            }, e.prototype.setCoordinates = function (t, e) {
                this.setLayout(e, t, 2), this.flatCoordinates || (this.flatCoordinates = []);
                var n = fo(this.flatCoordinates, 0, t, this.stride, this.ends_);
                this.flatCoordinates.length = 0 === n.length ? 0 : n[n.length - 1], this.changed()
            }, e
        }(no),
        No = Go;

    function zo(t) {
        var e = t[0],
            n = t[1],
            r = t[2],
            o = t[3],
            i = [e, n, e, o, r, o, r, n, e, n];
        return new Go(i, "XY", [i.length])
    }
    var Bo = function () {
        var t = function (e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                } || function (t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(e, n)
        };
        return function (e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();

    function Uo(t, e) {
        setTimeout((function () {
            t(e)
        }), 0)
    }

    function Xo(t) {
        return !(t.sourceCenter && t.targetCenter && !er(t.sourceCenter, t.targetCenter)) && t.sourceResolution === t.targetResolution && t.sourceRotation === t.targetRotation
    }
    var Wo = function (t) {
        function e(e) {
            var n = t.call(this) || this,
                r = ue({}, e);
            return n.hints_ = [0, 0], n.animations_ = [], n.updateAnimationKey_, n.projection_ = Mr(r.projection, "EPSG:3857"), n.viewportSize_ = [100, 100], n.targetCenter_ = null, n.targetResolution_, n.targetRotation_, n.cancelAnchor_ = void 0, r.center && (r.center = zr(r.center, n.projection_)), r.extent && (r.extent = Ur(r.extent, n.projection_)), n.applyOptions_(r), n
        }
        return Bo(e, t), e.prototype.applyOptions_ = function (t) {
            var e = function (t) {
                var e, n, r, o = void 0 !== t.minZoom ? t.minZoom : 0,
                    i = void 0 !== t.maxZoom ? t.maxZoom : 28,
                    a = void 0 !== t.zoomFactor ? t.zoomFactor : 2,
                    s = void 0 !== t.multiWorld && t.multiWorld,
                    u = void 0 === t.smoothResolutionConstraint || t.smoothResolutionConstraint,
                    c = void 0 !== t.showFullExtent && t.showFullExtent,
                    l = Mr(t.projection, "EPSG:3857"),
                    h = l.getExtent(),
                    f = t.constrainOnlyCenter,
                    p = t.extent;
                if (s || p || !l.isGlobal() || (f = !1, p = h), void 0 !== t.resolutions) {
                    var d = t.resolutions;
                    n = d[o], r = void 0 !== d[i] ? d[i] : d[d.length - 1], e = t.constrainResolution ? function (t, e, n, r) {
                        return function (o, i, a, s) {
                            if (void 0 !== o) {
                                var u = t[0],
                                    c = t[t.length - 1],
                                    l = n ? qn(u, n, a, r) : u;
                                if (s) return void 0 === e || e ? Kn(o, l, c) : un(o, c, l);
                                var h = Math.min(l, o),
                                    f = Math.floor(me(t, h, i));
                                return t[f] > l && f < t.length - 1 ? t[f + 1] : t[f]
                            }
                        }
                    }(d, u, !f && p, c) : $n(n, r, u, !f && p, c)
                } else {
                    var y = (h ? Math.max(Vn(h), Bn(h)) : 360 * Qt[te.DEGREES] / l.getMetersPerUnit()) / 256 / Math.pow(2, 0),
                        g = y / Math.pow(2, 28);
                    void 0 !== (n = t.maxResolution) ? o = 0 : n = y / Math.pow(a, o), void 0 === (r = t.minResolution) && (r = void 0 !== t.maxZoom ? void 0 !== t.maxResolution ? n / Math.pow(a, i) : y / Math.pow(a, i) : g), i = o + Math.floor(Math.log(n / r) / Math.log(a)), r = n / Math.pow(a, i - o), e = t.constrainResolution ? function (t, e, n, r, o, i) {
                        return function (a, s, u, c) {
                            if (void 0 !== a) {
                                var l = o ? qn(e, o, u, i) : e,
                                    h = void 0 !== n ? n : 0;
                                if (c) return void 0 === r || r ? Kn(a, l, h) : un(a, h, l);
                                var f = Math.ceil(Math.log(e / l) / Math.log(t) - 1e-9),
                                    p = -s * (.5 - 1e-9) + .5,
                                    d = Math.min(l, a),
                                    y = Math.floor(Math.log(e / d) / Math.log(t) + p),
                                    g = Math.max(f, y);
                                return un(e / Math.pow(t, g), h, l)
                            }
                        }
                    }(a, n, r, u, !f && p, c) : $n(n, r, u, !f && p, c)
                }
                return {
                    constraint: e,
                    maxResolution: n,
                    minResolution: r,
                    minZoom: o,
                    zoomFactor: a
                }
            }(t);
            this.maxResolution_ = e.maxResolution, this.minResolution_ = e.minResolution, this.zoomFactor_ = e.zoomFactor, this.resolutions_ = t.resolutions, this.minZoom_ = e.minZoom;
            var n = function (t) {
                    if (void 0 !== t.extent) {
                        var e = void 0 === t.smoothExtentConstraint || t.smoothExtentConstraint;
                        return yn(t.extent, t.constrainOnlyCenter, e)
                    }
                    var n = Mr(t.projection, "EPSG:3857");
                    if (!0 !== t.multiWorld && n.isGlobal()) {
                        var r = n.getExtent().slice();
                        return r[0] = -1 / 0, r[2] = 1 / 0, yn(r, !1, !1)
                    }
                    return gn
                }(t),
                r = e.constraint,
                o = function (t) {
                    if (void 0 === t.enableRotation || t.enableRotation) {
                        var e = t.constrainRotation;
                        return void 0 === e || !0 === e ? (o = fn(5), function (t, e) {
                            return e ? t : void 0 !== t ? Math.abs(t) <= o ? 0 : t : void 0
                        }) : !1 === e ? Qn : "number" == typeof e ? (n = e, r = 2 * Math.PI / n, function (t, e) {
                            return e ? t : void 0 !== t ? t = Math.floor(t / r + .5) * r : void 0
                        }) : Qn
                    }
                    return Jn;
                    var n, r, o
                }(t);
            this.constraints_ = {
                center: n,
                resolution: r,
                rotation: o
            }, this.setRotation(void 0 !== t.rotation ? t.rotation : 0), this.setCenterInternal(void 0 !== t.center ? t.center : null), void 0 !== t.resolution ? this.setResolution(t.resolution) : void 0 !== t.zoom && this.setZoom(t.zoom), this.resolveConstraints(0), this.setProperties({}), this.options_ = t
        }, e.prototype.getUpdatedOptions_ = function (t) {
            var e = ue({}, this.options_);
            return void 0 !== e.resolution ? e.resolution = this.getResolution() : e.zoom = this.getZoom(), e.center = this.getCenterInternal(), e.rotation = this.getRotation(), ue({}, e, t)
        }, e.prototype.animate = function (t) {
            this.isDef() && !this.getAnimating() && this.resolveConstraints(0);
            for (var e = new Array(arguments.length), n = 0; n < e.length; ++n) {
                var r = arguments[n];
                r.center && ((r = ue({}, r)).center = zr(r.center, this.getProjection())), r.anchor && ((r = ue({}, r)).anchor = zr(r.anchor, this.getProjection())), e[n] = r
            }
            this.animateInternal.apply(this, e)
        }, e.prototype.animateInternal = function (t) {
            var e, n = arguments.length;
            if (n > 1 && "function" == typeof arguments[n - 1] && (e = arguments[n - 1], --n), !this.isDef()) {
                var r = arguments[n - 1];
                return r.center && this.setCenterInternal(r.center), void 0 !== r.zoom && this.setZoom(r.zoom), void 0 !== r.rotation && this.setRotation(r.rotation), void(e && Uo(e, !0))
            }
            for (var o = Date.now(), i = this.targetCenter_.slice(), a = this.targetResolution_, s = this.targetRotation_, u = [], c = 0; c < n; ++c) {
                var l = arguments[c],
                    h = {
                        start: o,
                        complete: !1,
                        anchor: l.anchor,
                        duration: void 0 !== l.duration ? l.duration : 1e3,
                        easing: l.easing || ar,
                        callback: e
                    };
                if (l.center && (h.sourceCenter = i, h.targetCenter = l.center.slice(), i = h.targetCenter), void 0 !== l.zoom ? (h.sourceResolution = a, h.targetResolution = this.getResolutionForZoom(l.zoom), a = h.targetResolution) : l.resolution && (h.sourceResolution = a, h.targetResolution = l.resolution, a = h.targetResolution), void 0 !== l.rotation) {
                    h.sourceRotation = s;
                    var f = pn(l.rotation - s + Math.PI, 2 * Math.PI) - Math.PI;
                    h.targetRotation = s + f, s = h.targetRotation
                }
                Xo(h) ? h.complete = !0 : o += h.duration, u.push(h)
            }
            this.animations_.push(u), this.setHint(0, 1), this.updateAnimations_()
        }, e.prototype.getAnimating = function () {
            return this.hints_[0] > 0
        }, e.prototype.getInteracting = function () {
            return this.hints_[1] > 0
        }, e.prototype.cancelAnimations = function () {
            var t;
            this.setHint(0, -this.hints_[0]);
            for (var e = 0, n = this.animations_.length; e < n; ++e) {
                var r = this.animations_[e];
                r[0].callback && Uo(r[0].callback, !1), t = t || r.filter((function (t) {
                    return !t.complete
                }))[0].anchor
            }
            this.animations_.length = 0, this.cancelAnchor_ = t
        }, e.prototype.updateAnimations_ = function () {
            if (void 0 !== this.updateAnimationKey_ && (cancelAnimationFrame(this.updateAnimationKey_), this.updateAnimationKey_ = void 0), this.getAnimating()) {
                for (var t = Date.now(), e = !1, n = this.animations_.length - 1; n >= 0; --n) {
                    for (var r = this.animations_[n], o = !0, i = 0, a = r.length; i < a; ++i) {
                        var s = r[i];
                        if (!s.complete) {
                            var u = t - s.start,
                                c = s.duration > 0 ? u / s.duration : 1;
                            c >= 1 ? (s.complete = !0, c = 1) : o = !1;
                            var l = s.easing(c);
                            if (s.sourceCenter) {
                                var h = s.sourceCenter[0],
                                    f = s.sourceCenter[1],
                                    p = h + l * (s.targetCenter[0] - h),
                                    d = f + l * (s.targetCenter[1] - f);
                                this.targetCenter_ = [p, d]
                            }
                            if (s.sourceResolution && s.targetResolution) {
                                var y = 1 === l ? s.targetResolution : s.sourceResolution + l * (s.targetResolution - s.sourceResolution);
                                if (s.anchor) {
                                    var g = this.getViewportSize_(this.getRotation()),
                                        v = this.constraints_.resolution(y, 0, g, !0);
                                    this.targetCenter_ = this.calculateCenterZoom(v, s.anchor)
                                }
                                this.targetResolution_ = y, this.applyTargetState_(!0)
                            }
                            if (void 0 !== s.sourceRotation && void 0 !== s.targetRotation) {
                                var m = 1 === l ? pn(s.targetRotation + Math.PI, 2 * Math.PI) - Math.PI : s.sourceRotation + l * (s.targetRotation - s.sourceRotation);
                                if (s.anchor) {
                                    var _ = this.constraints_.rotation(m, !0);
                                    this.targetCenter_ = this.calculateCenterRotate(_, s.anchor)
                                }
                                this.targetRotation_ = m
                            }
                            if (this.applyTargetState_(!0), e = !0, !s.complete) break
                        }
                    }
                    if (o) {
                        this.animations_[n] = null, this.setHint(0, -1);
                        var b = r[0].callback;
                        b && Uo(b, !0)
                    }
                }
                this.animations_ = this.animations_.filter(Boolean), e && void 0 === this.updateAnimationKey_ && (this.updateAnimationKey_ = requestAnimationFrame(this.updateAnimations_.bind(this)))
            }
        }, e.prototype.calculateCenterRotate = function (t, e) {
            var n, r = this.getCenterInternal();
            return void 0 !== r && (nr(n = [r[0] - e[0], r[1] - e[1]], t - this.getRotation()), tr(n, e)), n
        }, e.prototype.calculateCenterZoom = function (t, e) {
            var n, r = this.getCenterInternal(),
                o = this.getResolution();
            return void 0 !== r && void 0 !== o && (n = [e[0] - t * (e[0] - r[0]) / o, e[1] - t * (e[1] - r[1]) / o]), n
        }, e.prototype.getViewportSize_ = function (t) {
            var e = this.viewportSize_;
            if (t) {
                var n = e[0],
                    r = e[1];
                return [Math.abs(n * Math.cos(t)) + Math.abs(r * Math.sin(t)), Math.abs(n * Math.sin(t)) + Math.abs(r * Math.cos(t))]
            }
            return e
        }, e.prototype.setViewportSize = function (t) {
            this.viewportSize_ = Array.isArray(t) ? t.slice() : [100, 100]
        }, e.prototype.getCenter = function () {
            var t = this.getCenterInternal();
            return t ? Nr(t, this.getProjection()) : t
        }, e.prototype.getCenterInternal = function () {
            return this.get("center")
        }, e.prototype.getConstraints = function () {
            return this.constraints_
        }, e.prototype.getHints = function (t) {
            return void 0 !== t ? (t[0] = this.hints_[0], t[1] = this.hints_[1], t) : this.hints_.slice()
        }, e.prototype.calculateExtent = function (t) {
            return Br(this.calculateExtentInternal(t), this.getProjection())
        }, e.prototype.calculateExtentInternal = function (t) {
            var e = t || this.getViewportSize_(),
                n = this.getCenterInternal();
            rn(n, 1);
            var r = this.getResolution();
            rn(void 0 !== r, 2);
            var o = this.getRotation();
            return rn(void 0 !== o, 3), zn(n, r, o, e)
        }, e.prototype.getMaxResolution = function () {
            return this.maxResolution_
        }, e.prototype.getMinResolution = function () {
            return this.minResolution_
        }, e.prototype.getMaxZoom = function () {
            return this.getZoomForResolution(this.minResolution_)
        }, e.prototype.setMaxZoom = function (t) {
            this.applyOptions_(this.getUpdatedOptions_({
                maxZoom: t
            }))
        }, e.prototype.getMinZoom = function () {
            return this.getZoomForResolution(this.maxResolution_)
        }, e.prototype.setMinZoom = function (t) {
            this.applyOptions_(this.getUpdatedOptions_({
                minZoom: t
            }))
        }, e.prototype.setConstrainResolution = function (t) {
            this.applyOptions_(this.getUpdatedOptions_({
                constrainResolution: t
            }))
        }, e.prototype.getProjection = function () {
            return this.projection_
        }, e.prototype.getResolution = function () {
            return this.get("resolution")
        }, e.prototype.getResolutions = function () {
            return this.resolutions_
        }, e.prototype.getResolutionForExtent = function (t, e) {
            return this.getResolutionForExtentInternal(Ur(t, this.getProjection()), e)
        }, e.prototype.getResolutionForExtentInternal = function (t, e) {
            var n = e || this.getViewportSize_(),
                r = Vn(t) / n[0],
                o = Bn(t) / n[1];
            return Math.max(r, o)
        }, e.prototype.getResolutionForValueFunction = function (t) {
            var e = t || 2,
                n = this.getConstrainedResolution(this.maxResolution_),
                r = this.minResolution_,
                o = Math.log(n / r) / Math.log(e);
            return function (t) {
                return n / Math.pow(e, t * o)
            }
        }, e.prototype.getRotation = function () {
            return this.get("rotation")
        }, e.prototype.getValueForResolutionFunction = function (t) {
            var e = Math.log(t || 2),
                n = this.getConstrainedResolution(this.maxResolution_),
                r = this.minResolution_,
                o = Math.log(n / r) / e;
            return function (t) {
                return Math.log(n / t) / e / o
            }
        }, e.prototype.getState = function () {
            var t = this.getCenterInternal(),
                e = this.getProjection(),
                n = this.getResolution(),
                r = this.getRotation();
            return {
                center: t.slice(0),
                projection: void 0 !== e ? e : null,
                resolution: n,
                rotation: r,
                zoom: this.getZoom()
            }
        }, e.prototype.getZoom = function () {
            var t, e = this.getResolution();
            return void 0 !== e && (t = this.getZoomForResolution(e)), t
        }, e.prototype.getZoomForResolution = function (t) {
            var e, n, r = this.minZoom_ || 0;
            if (this.resolutions_) {
                var o = me(this.resolutions_, t, 1);
                r = o, e = this.resolutions_[o], n = o == this.resolutions_.length - 1 ? 2 : e / this.resolutions_[o + 1]
            } else e = this.maxResolution_, n = this.zoomFactor_;
            return r + Math.log(e / t) / Math.log(n)
        }, e.prototype.getResolutionForZoom = function (t) {
            if (this.resolutions_) {
                if (this.resolutions_.length <= 1) return 0;
                var e = un(Math.floor(t), 0, this.resolutions_.length - 2),
                    n = this.resolutions_[e] / this.resolutions_[e + 1];
                return this.resolutions_[e] / Math.pow(n, un(t - e, 0, 1))
            }
            return this.maxResolution_ / Math.pow(this.zoomFactor_, t - this.minZoom_)
        }, e.prototype.fit = function (t, e) {
            var n, r = ue({
                size: this.getViewportSize_()
            }, e || {});
            if (rn(Array.isArray(t) || "function" == typeof t.getSimplifiedGeometry, 24), Array.isArray(t)) rn(!Yn(t), 25), n = zo(o = Ur(t, this.getProjection()));
            else if ("Circle" === t.getType()) {
                var o;
                (n = zo(o = Ur(t.getExtent(), this.getProjection()))).rotate(this.getRotation(), Gn(o))
            } else n = t;
            this.fitInternal(n, r)
        }, e.prototype.fitInternal = function (t, e) {
            var n = e || {},
                r = n.size;
            r || (r = this.getViewportSize_());
            var o, i = void 0 !== n.padding ? n.padding : [0, 0, 0, 0],
                a = void 0 !== n.nearest && n.nearest;
            o = void 0 !== n.minResolution ? n.minResolution : void 0 !== n.maxZoom ? this.getResolutionForZoom(n.maxZoom) : 0;
            for (var s = t.getFlatCoordinates(), u = this.getRotation(), c = Math.cos(-u), l = Math.sin(-u), h = 1 / 0, f = 1 / 0, p = -1 / 0, d = -1 / 0, y = t.getStride(), g = 0, v = s.length; g < v; g += y) {
                var m = s[g] * c - s[g + 1] * l,
                    _ = s[g] * l + s[g + 1] * c;
                h = Math.min(h, m), f = Math.min(f, _), p = Math.max(p, m), d = Math.max(d, _)
            }
            var b = this.getResolutionForExtentInternal([h, f, p, d], [r[0] - i[1] - i[3], r[1] - i[0] - i[2]]);
            b = isNaN(b) ? o : Math.max(b, o), b = this.getConstrainedResolution(b, a ? 0 : 1), l = -l;
            var x = (h + p) / 2,
                w = (f + d) / 2,
                S = [(x += (i[1] - i[3]) / 2 * b) * c - (w += (i[0] - i[2]) / 2 * b) * l, w * c + x * l],
                C = n.callback ? n.callback : Ce;
            void 0 !== n.duration ? this.animateInternal({
                resolution: b,
                center: this.getConstrainedCenter(S, b),
                duration: n.duration,
                easing: n.easing
            }, C) : (this.targetResolution_ = b, this.targetCenter_ = S, this.applyTargetState_(!1, !0), Uo(C, !0))
        }, e.prototype.centerOn = function (t, e, n) {
            this.centerOnInternal(zr(t, this.getProjection()), e, n)
        }, e.prototype.centerOnInternal = function (t, e, n) {
            var r = this.getRotation(),
                o = Math.cos(-r),
                i = Math.sin(-r),
                a = t[0] * o - t[1] * i,
                s = t[1] * o + t[0] * i,
                u = this.getResolution(),
                c = (a += (e[0] / 2 - n[0]) * u) * o - (s += (n[1] - e[1] / 2) * u) * (i = -i),
                l = s * o + a * i;
            this.setCenterInternal([c, l])
        }, e.prototype.isDef = function () {
            return !!this.getCenterInternal() && void 0 !== this.getResolution()
        }, e.prototype.adjustCenter = function (t) {
            var e = Nr(this.targetCenter_, this.getProjection());
            this.setCenter([e[0] + t[0], e[1] + t[1]])
        }, e.prototype.adjustCenterInternal = function (t) {
            var e = this.targetCenter_;
            this.setCenterInternal([e[0] + t[0], e[1] + t[1]])
        }, e.prototype.adjustResolution = function (t, e) {
            var n = e && zr(e, this.getProjection());
            this.adjustResolutionInternal(t, n)
        }, e.prototype.adjustResolutionInternal = function (t, e) {
            var n = this.getAnimating() || this.getInteracting(),
                r = this.getViewportSize_(this.getRotation()),
                o = this.constraints_.resolution(this.targetResolution_ * t, 0, r, n);
            e && (this.targetCenter_ = this.calculateCenterZoom(o, e)), this.targetResolution_ *= t, this.applyTargetState_()
        }, e.prototype.adjustZoom = function (t, e) {
            this.adjustResolution(Math.pow(this.zoomFactor_, -t), e)
        }, e.prototype.adjustRotation = function (t, e) {
            e && (e = zr(e, this.getProjection())), this.adjustRotationInternal(t, e)
        }, e.prototype.adjustRotationInternal = function (t, e) {
            var n = this.getAnimating() || this.getInteracting(),
                r = this.constraints_.rotation(this.targetRotation_ + t, n);
            e && (this.targetCenter_ = this.calculateCenterRotate(r, e)), this.targetRotation_ += t, this.applyTargetState_()
        }, e.prototype.setCenter = function (t) {
            this.setCenterInternal(zr(t, this.getProjection()))
        }, e.prototype.setCenterInternal = function (t) {
            this.targetCenter_ = t, this.applyTargetState_()
        }, e.prototype.setHint = function (t, e) {
            return this.hints_[t] += e, this.changed(), this.hints_[t]
        }, e.prototype.setResolution = function (t) {
            this.targetResolution_ = t, this.applyTargetState_()
        }, e.prototype.setRotation = function (t) {
            this.targetRotation_ = t, this.applyTargetState_()
        }, e.prototype.setZoom = function (t) {
            this.setResolution(this.getResolutionForZoom(t))
        }, e.prototype.applyTargetState_ = function (t, e) {
            var n = this.getAnimating() || this.getInteracting() || e,
                r = this.constraints_.rotation(this.targetRotation_, n),
                o = this.getViewportSize_(r),
                i = this.constraints_.resolution(this.targetResolution_, 0, o, n),
                a = this.constraints_.center(this.targetCenter_, i, o, n);
            this.get("rotation") !== r && this.set("rotation", r), this.get("resolution") !== i && this.set("resolution", i), this.get("center") && er(this.get("center"), a) || this.set("center", a), this.getAnimating() && !t && this.cancelAnimations(), this.cancelAnchor_ = void 0
        }, e.prototype.resolveConstraints = function (t, e, n) {
            var r = void 0 !== t ? t : 200,
                o = e || 0,
                i = this.constraints_.rotation(this.targetRotation_),
                a = this.getViewportSize_(i),
                s = this.constraints_.resolution(this.targetResolution_, o, a),
                u = this.constraints_.center(this.targetCenter_, s, a);
            if (0 === r && !this.cancelAnchor_) return this.targetResolution_ = s, this.targetRotation_ = i, this.targetCenter_ = u, void this.applyTargetState_();
            var c = n || (0 === r ? this.cancelAnchor_ : void 0);
            this.cancelAnchor_ = void 0, this.getResolution() === s && this.getRotation() === i && this.getCenterInternal() && er(this.getCenterInternal(), u) || (this.getAnimating() && this.cancelAnimations(), this.animateInternal({
                rotation: i,
                center: u,
                resolution: s,
                duration: r,
                easing: ir,
                anchor: c
            }))
        }, e.prototype.beginInteraction = function () {
            this.resolveConstraints(0), this.setHint(1, 1)
        }, e.prototype.endInteraction = function (t, e, n) {
            var r = n && zr(n, this.getProjection());
            this.endInteractionInternal(t, e, r)
        }, e.prototype.endInteractionInternal = function (t, e, n) {
            this.setHint(1, -1), this.resolveConstraints(t, e, n)
        }, e.prototype.getConstrainedCenter = function (t, e) {
            var n = this.getViewportSize_(this.getRotation());
            return this.constraints_.center(t, e || this.getResolution(), n)
        }, e.prototype.getConstrainedZoom = function (t, e) {
            var n = this.getResolutionForZoom(t);
            return this.getZoomForResolution(this.getConstrainedResolution(n, e))
        }, e.prototype.getConstrainedResolution = function (t, e) {
            var n = e || 0,
                r = this.getViewportSize_(this.getRotation());
            return this.constraints_.resolution(t, n, r)
        }, e
    }(Fe);

    function Vo(t, e, n) {
        var r = n && n.length ? n.shift() : document.createElement("canvas");
        return t && (r.width = t), e && (r.height = e), r.getContext("2d")
    }

    function Ho(t) {
        var e = t.offsetWidth,
            n = getComputedStyle(t);
        return e + (parseInt(n.marginLeft, 10) + parseInt(n.marginRight, 10))
    }

    function Yo(t) {
        var e = t.offsetHeight,
            n = getComputedStyle(t);
        return e + (parseInt(n.marginTop, 10) + parseInt(n.marginBottom, 10))
    }

    function Zo(t, e) {
        var n = e.parentNode;
        n && n.replaceChild(t, e)
    }

    function qo(t) {
        return t && t.parentNode ? t.parentNode.removeChild(t) : null
    }

    function Ko(t) {
        for (; t.lastChild;) t.removeChild(t.lastChild)
    }
    var $o = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Jo = function (t) {
            function e(e) {
                var n = t.call(this) || this,
                    r = ue({}, e);
                return r.opacity = void 0 !== e.opacity ? e.opacity : 1, rn("number" == typeof r.opacity, 64), r.visible = void 0 === e.visible || e.visible, r.zIndex = e.zIndex, r.maxResolution = void 0 !== e.maxResolution ? e.maxResolution : 1 / 0, r.minResolution = void 0 !== e.minResolution ? e.minResolution : 0, r.minZoom = void 0 !== e.minZoom ? e.minZoom : -1 / 0, r.maxZoom = void 0 !== e.maxZoom ? e.maxZoom : 1 / 0, n.className_ = void 0 !== r.className ? e.className : "ol-layer", delete r.className, n.setProperties(r), n.state_ = null, n
            }
            return $o(e, t), e.prototype.getClassName = function () {
                return this.className_
            }, e.prototype.getLayerState = function (t) {
                var e = this.state_ || {
                        layer: this,
                        managed: void 0 === t || t
                    },
                    n = this.getZIndex();
                return e.opacity = un(Math.round(100 * this.getOpacity()) / 100, 0, 1), e.sourceState = this.getSourceState(), e.visible = this.getVisible(), e.extent = this.getExtent(), e.zIndex = void 0 !== n ? n : !1 === e.managed ? 1 / 0 : 0, e.maxResolution = this.getMaxResolution(), e.minResolution = Math.max(this.getMinResolution(), 0), e.minZoom = this.getMinZoom(), e.maxZoom = this.getMaxZoom(), this.state_ = e, e
            }, e.prototype.getLayersArray = function (t) {
                return ne()
            }, e.prototype.getLayerStatesArray = function (t) {
                return ne()
            }, e.prototype.getExtent = function () {
                return this.get("extent")
            }, e.prototype.getMaxResolution = function () {
                return this.get("maxResolution")
            }, e.prototype.getMinResolution = function () {
                return this.get("minResolution")
            }, e.prototype.getMinZoom = function () {
                return this.get("minZoom")
            }, e.prototype.getMaxZoom = function () {
                return this.get("maxZoom")
            }, e.prototype.getOpacity = function () {
                return this.get("opacity")
            }, e.prototype.getSourceState = function () {
                return ne()
            }, e.prototype.getVisible = function () {
                return this.get("visible")
            }, e.prototype.getZIndex = function () {
                return this.get("zIndex")
            }, e.prototype.setExtent = function (t) {
                this.set("extent", t)
            }, e.prototype.setMaxResolution = function (t) {
                this.set("maxResolution", t)
            }, e.prototype.setMinResolution = function (t) {
                this.set("minResolution", t)
            }, e.prototype.setMaxZoom = function (t) {
                this.set("maxZoom", t)
            }, e.prototype.setMinZoom = function (t) {
                this.set("minZoom", t)
            }, e.prototype.setOpacity = function (t) {
                rn("number" == typeof t, 64), this.set("opacity", t)
            }, e.prototype.setVisible = function (t) {
                this.set("visible", t)
            }, e.prototype.setZIndex = function (t) {
                this.set("zIndex", t)
            }, e.prototype.disposeInternal = function () {
                this.state_ && (this.state_.layer = null, this.state_ = null), t.prototype.disposeInternal.call(this)
            }, e
        }(Fe),
        Qo = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        ti = function (t) {
            function e(e) {
                var n = this,
                    r = e || {},
                    o = ue({}, r);
                delete o.layers;
                var i = r.layers;
                return (n = t.call(this, o) || this).layersListenerKeys_ = [], n.listenerKeys_ = {}, n.addEventListener(De("layers"), n.handleLayersChanged_), i ? Array.isArray(i) ? i = new ze(i.slice(), {
                    unique: !0
                }) : rn("function" == typeof i.getArray, 43) : i = new ze(void 0, {
                    unique: !0
                }), n.setLayers(i), n
            }
            return Qo(e, t), e.prototype.handleLayerChange_ = function () {
                this.changed()
            }, e.prototype.handleLayersChanged_ = function () {
                this.layersListenerKeys_.forEach(de), this.layersListenerKeys_.length = 0;
                var t = this.getLayers();
                for (var e in this.layersListenerKeys_.push(fe(t, "add", this.handleLayersAdd_, this), fe(t, "remove", this.handleLayersRemove_, this)), this.listenerKeys_) this.listenerKeys_[e].forEach(de);
                ce(this.listenerKeys_);
                for (var n = t.getArray(), r = 0, o = n.length; r < o; r++) {
                    var i = n[r];
                    this.listenerKeys_[oe(i)] = [fe(i, "propertychange", this.handleLayerChange_, this), fe(i, "change", this.handleLayerChange_, this)]
                }
                this.changed()
            }, e.prototype.handleLayersAdd_ = function (t) {
                var e = t.element;
                this.listenerKeys_[oe(e)] = [fe(e, "propertychange", this.handleLayerChange_, this), fe(e, "change", this.handleLayerChange_, this)], this.changed()
            }, e.prototype.handleLayersRemove_ = function (t) {
                var e = oe(t.element);
                this.listenerKeys_[e].forEach(de), delete this.listenerKeys_[e], this.changed()
            }, e.prototype.getLayers = function () {
                return this.get("layers")
            }, e.prototype.setLayers = function (t) {
                this.set("layers", t)
            }, e.prototype.getLayersArray = function (t) {
                var e = void 0 !== t ? t : [];
                return this.getLayers().forEach((function (t) {
                    t.getLayersArray(e)
                })), e
            }, e.prototype.getLayerStatesArray = function (t) {
                var e = void 0 !== t ? t : [],
                    n = e.length;
                this.getLayers().forEach((function (t) {
                    t.getLayerStatesArray(e)
                }));
                for (var r = this.getLayerState(), o = n, i = e.length; o < i; o++) {
                    var a = e[o];
                    a.opacity *= r.opacity, a.visible = a.visible && r.visible, a.maxResolution = Math.min(a.maxResolution, r.maxResolution), a.minResolution = Math.max(a.minResolution, r.minResolution), a.minZoom = Math.max(a.minZoom, r.minZoom), a.maxZoom = Math.min(a.maxZoom, r.maxZoom), void 0 !== r.extent && (void 0 !== a.extent ? a.extent = Un(a.extent, r.extent) : a.extent = r.extent)
                }
                return e
            }, e.prototype.getSourceState = function () {
                return "ready"
            }, e
        }(Jo);

    function ei(t, e) {
        return Array.isArray(t) ? t : (void 0 === e ? e = [t, t] : (e[0] = t, e[1] = t), e)
    }
    var ni, ri, oi = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        ii = function (t) {
            function e(e) {
                var n = t.call(this) || this,
                    r = function (t) {
                        var e = null;
                        void 0 !== t.keyboardEventTarget && (e = "string" == typeof t.keyboardEventTarget ? document.getElementById(t.keyboardEventTarget) : t.keyboardEventTarget);
                        var n, r, o, i = {},
                            a = t.layers && "function" == typeof t.layers.getLayers ? t.layers : new ti({
                                layers: t.layers
                            });
                        return i.layergroup = a, i.target = t.target, i.view = void 0 !== t.view ? t.view : new Wo, void 0 !== t.controls && (Array.isArray(t.controls) ? n = new ze(t.controls.slice()) : (rn("function" == typeof t.controls.getArray, 47), n = t.controls)), void 0 !== t.interactions && (Array.isArray(t.interactions) ? r = new ze(t.interactions.slice()) : (rn("function" == typeof t.interactions.getArray, 48), r = t.interactions)), void 0 !== t.overlays ? Array.isArray(t.overlays) ? o = new ze(t.overlays.slice()) : (rn("function" == typeof t.overlays.getArray, 49), o = t.overlays) : o = new ze, {
                            controls: n,
                            interactions: r,
                            keyboardEventTarget: e,
                            overlays: o,
                            values: i
                        }
                    }(e);
                n.boundHandleBrowserEvent_ = n.handleBrowserEvent.bind(n), n.maxTilesLoading_ = void 0 !== e.maxTilesLoading ? e.maxTilesLoading : 16, n.pixelRatio_ = void 0 !== e.pixelRatio ? e.pixelRatio : qe, n.postRenderTimeoutHandle_, n.animationDelayKey_, n.animationDelay_ = function () {
                    this.animationDelayKey_ = void 0, this.renderFrame_(Date.now())
                }.bind(n), n.coordinateToPixelTransform_ = [1, 0, 0, 1, 0, 0], n.pixelToCoordinateTransform_ = [1, 0, 0, 1, 0, 0], n.frameIndex_ = 0, n.frameState_ = null, n.previousExtent_ = null, n.viewPropertyListenerKey_ = null, n.viewChangeListenerKey_ = null, n.layerGroupPropertyListenerKeys_ = null, n.viewport_ = document.createElement("div"), n.viewport_.className = "ol-viewport" + ("ontouchstart" in window ? " ol-touch" : ""), n.viewport_.style.position = "relative", n.viewport_.style.overflow = "hidden", n.viewport_.style.width = "100%", n.viewport_.style.height = "100%", n.overlayContainer_ = document.createElement("div"), n.overlayContainer_.style.position = "absolute", n.overlayContainer_.style.zIndex = "0", n.overlayContainer_.style.width = "100%", n.overlayContainer_.style.height = "100%", n.overlayContainer_.className = "ol-overlaycontainer", n.viewport_.appendChild(n.overlayContainer_), n.overlayContainerStopEvent_ = document.createElement("div"), n.overlayContainerStopEvent_.style.position = "absolute", n.overlayContainerStopEvent_.style.zIndex = "0", n.overlayContainerStopEvent_.style.width = "100%", n.overlayContainerStopEvent_.style.height = "100%", n.overlayContainerStopEvent_.className = "ol-overlaycontainer-stopevent", n.viewport_.appendChild(n.overlayContainerStopEvent_), n.mapBrowserEventHandler_ = new nn(n, e.moveTolerance);
                var o = n.handleMapBrowserEvent.bind(n);
                for (var i in Je) n.mapBrowserEventHandler_.addEventListener(Je[i], o);
                n.keyboardEventTarget_ = r.keyboardEventTarget, n.keyHandlerKeys_ = null;
                var a = n.handleBrowserEvent.bind(n);
                return n.viewport_.addEventListener("contextmenu", a, !1), n.viewport_.addEventListener("wheel", a, !!$e && {
                    passive: !1
                }), n.controls = r.controls || new ze, n.interactions = r.interactions || new ze, n.overlays_ = r.overlays, n.overlayIdIndex_ = {}, n.renderer_ = null, n.handleResize_, n.postRenderFunctions_ = [], n.tileQueue_ = new sn(n.getTilePriority.bind(n), n.handleTileChange_.bind(n)), n.addEventListener(De("layergroup"), n.handleLayerGroupChanged_), n.addEventListener(De("view"), n.handleViewChanged_), n.addEventListener(De("size"), n.handleSizeChanged_), n.addEventListener(De("target"), n.handleTargetChanged_), n.setProperties(r.values), n.controls.forEach(function (t) {
                    t.setMap(this)
                }.bind(n)), n.controls.addEventListener("add", function (t) {
                    t.element.setMap(this)
                }.bind(n)), n.controls.addEventListener("remove", function (t) {
                    t.element.setMap(null)
                }.bind(n)), n.interactions.forEach(function (t) {
                    t.setMap(this)
                }.bind(n)), n.interactions.addEventListener("add", function (t) {
                    t.element.setMap(this)
                }.bind(n)), n.interactions.addEventListener("remove", function (t) {
                    t.element.setMap(null)
                }.bind(n)), n.overlays_.forEach(n.addOverlayInternal_.bind(n)), n.overlays_.addEventListener("add", function (t) {
                    this.addOverlayInternal_(t.element)
                }.bind(n)), n.overlays_.addEventListener("remove", function (t) {
                    var e = t.element.getId();
                    void 0 !== e && delete this.overlayIdIndex_[e.toString()], t.element.setMap(null)
                }.bind(n)), n
            }
            return oi(e, t), e.prototype.createRenderer = function () {
                throw new Error("Use a map type that has a createRenderer method")
            }, e.prototype.addControl = function (t) {
                this.getControls().push(t)
            }, e.prototype.addInteraction = function (t) {
                this.getInteractions().push(t)
            }, e.prototype.addLayer = function (t) {
                this.getLayerGroup().getLayers().push(t)
            }, e.prototype.addOverlay = function (t) {
                this.getOverlays().push(t)
            }, e.prototype.addOverlayInternal_ = function (t) {
                var e = t.getId();
                void 0 !== e && (this.overlayIdIndex_[e.toString()] = t), t.setMap(this)
            }, e.prototype.disposeInternal = function () {
                this.mapBrowserEventHandler_.dispose(), this.viewport_.removeEventListener("contextmenu", this.boundHandleBrowserEvent_), this.viewport_.removeEventListener("wheel", this.boundHandleBrowserEvent_), void 0 !== this.handleResize_ && (removeEventListener("resize", this.handleResize_, !1), this.handleResize_ = void 0), this.setTarget(null), t.prototype.disposeInternal.call(this)
            }, e.prototype.forEachFeatureAtPixel = function (t, e, n) {
                if (this.frameState_) {
                    var r = this.getCoordinateFromPixelInternal(t),
                        o = void 0 !== (n = void 0 !== n ? n : {}).hitTolerance ? n.hitTolerance * this.frameState_.pixelRatio : 0,
                        i = void 0 !== n.layerFilter ? n.layerFilter : we,
                        a = !1 !== n.checkWrapped;
                    return this.renderer_.forEachFeatureAtCoordinate(r, this.frameState_, o, a, e, null, i, null)
                }
            }, e.prototype.getFeaturesAtPixel = function (t, e) {
                var n = [];
                return this.forEachFeatureAtPixel(t, (function (t) {
                    n.push(t)
                }), e), n
            }, e.prototype.forEachLayerAtPixel = function (t, e, n) {
                if (this.frameState_) {
                    var r = n || {},
                        o = void 0 !== r.hitTolerance ? r.hitTolerance * this.frameState_.pixelRatio : 0,
                        i = r.layerFilter || we;
                    return this.renderer_.forEachLayerAtPixel(t, this.frameState_, o, e, i)
                }
            }, e.prototype.hasFeatureAtPixel = function (t, e) {
                if (!this.frameState_) return !1;
                var n = this.getCoordinateFromPixelInternal(t),
                    r = void 0 !== (e = void 0 !== e ? e : {}).layerFilter ? e.layerFilter : we,
                    o = void 0 !== e.hitTolerance ? e.hitTolerance * this.frameState_.pixelRatio : 0,
                    i = !1 !== e.checkWrapped;
                return this.renderer_.hasFeatureAtCoordinate(n, this.frameState_, o, i, r, null)
            }, e.prototype.getEventCoordinate = function (t) {
                return this.getCoordinateFromPixel(this.getEventPixel(t))
            }, e.prototype.getEventCoordinateInternal = function (t) {
                return this.getCoordinateFromPixelInternal(this.getEventPixel(t))
            }, e.prototype.getEventPixel = function (t) {
                var e = this.viewport_.getBoundingClientRect(),
                    n = "changedTouches" in t ? t.changedTouches[0] : t;
                return [n.clientX - e.left, n.clientY - e.top]
            }, e.prototype.getTarget = function () {
                return this.get("target")
            }, e.prototype.getTargetElement = function () {
                var t = this.getTarget();
                return void 0 !== t ? "string" == typeof t ? document.getElementById(t) : t : null
            }, e.prototype.getCoordinateFromPixel = function (t) {
                return Nr(this.getCoordinateFromPixelInternal(t), this.getView().getProjection())
            }, e.prototype.getCoordinateFromPixelInternal = function (t) {
                var e = this.frameState_;
                return e ? Yr(e.pixelToCoordinateTransform, t.slice()) : null
            }, e.prototype.getControls = function () {
                return this.controls
            }, e.prototype.getOverlays = function () {
                return this.overlays_
            }, e.prototype.getOverlayById = function (t) {
                var e = this.overlayIdIndex_[t.toString()];
                return void 0 !== e ? e : null
            }, e.prototype.getInteractions = function () {
                return this.interactions
            }, e.prototype.getLayerGroup = function () {
                return this.get("layergroup")
            }, e.prototype.getLayers = function () {
                return this.getLayerGroup().getLayers()
            }, e.prototype.getLoading = function () {
                for (var t = this.getLayerGroup().getLayerStatesArray(), e = 0, n = t.length; e < n; ++e) {
                    var r = t[e].layer.getSource();
                    if (r && r.loading) return !0
                }
                return !1
            }, e.prototype.getPixelFromCoordinate = function (t) {
                var e = zr(t, this.getView().getProjection());
                return this.getPixelFromCoordinateInternal(e)
            }, e.prototype.getPixelFromCoordinateInternal = function (t) {
                var e = this.frameState_;
                return e ? Yr(e.coordinateToPixelTransform, t.slice(0, 2)) : null
            }, e.prototype.getRenderer = function () {
                return this.renderer_
            }, e.prototype.getSize = function () {
                return this.get("size")
            }, e.prototype.getView = function () {
                return this.get("view")
            }, e.prototype.getViewport = function () {
                return this.viewport_
            }, e.prototype.getOverlayContainer = function () {
                return this.overlayContainer_
            }, e.prototype.getOverlayContainerStopEvent = function () {
                return this.overlayContainerStopEvent_
            }, e.prototype.getTilePriority = function (t, e, n, r) {
                var o = this.frameState_;
                if (!o || !(e in o.wantedTiles)) return 1 / 0;
                if (!o.wantedTiles[e][t.getKey()]) return 1 / 0;
                var i = o.viewState.center,
                    a = n[0] - i[0],
                    s = n[1] - i[1];
                return 65536 * Math.log(r) + Math.sqrt(a * a + s * s) / r
            }, e.prototype.handleBrowserEvent = function (t, e) {
                var n = e || t.type,
                    r = new We(n, this, t);
                this.handleMapBrowserEvent(r)
            }, e.prototype.handleMapBrowserEvent = function (t) {
                if (this.frameState_) {
                    var e = t.originalEvent.target;
                    if (t.dragging || !this.overlayContainerStopEvent_.contains(e) && document.body.contains(e)) {
                        t.frameState = this.frameState_;
                        var n = this.getInteractions().getArray();
                        if (!1 !== this.dispatchEvent(t))
                            for (var r = n.length - 1; r >= 0; r--) {
                                var o = n[r];
                                if (o.getActive() && !o.handleEvent(t)) break
                            }
                    }
                }
            }, e.prototype.handlePostRender = function () {
                var t = this.frameState_,
                    e = this.tileQueue_;
                if (!e.isEmpty()) {
                    var n = this.maxTilesLoading_,
                        r = n;
                    if (t) {
                        var o = t.viewHints;
                        if (o[0] || o[1]) {
                            var i = !Ke && Date.now() - t.time > 8;
                            n = i ? 0 : 8, r = i ? 0 : 2
                        }
                    }
                    e.getTilesLoading() < n && (e.reprioritize(), e.loadMoreTiles(n, r))
                }!t || !this.hasListener("rendercomplete") || t.animate || this.tileQueue_.getTilesLoading() || this.getLoading() || this.renderer_.dispatchRenderEvent("rendercomplete", t);
                for (var a = this.postRenderFunctions_, s = 0, u = a.length; s < u; ++s) a[s](this, t);
                a.length = 0
            }, e.prototype.handleSizeChanged_ = function () {
                this.getView() && this.getView().resolveConstraints(0), this.render()
            }, e.prototype.handleTargetChanged_ = function () {
                var t;
                if (this.getTarget() && (t = this.getTargetElement()), this.keyHandlerKeys_) {
                    for (var e = 0, n = this.keyHandlerKeys_.length; e < n; ++e) de(this.keyHandlerKeys_[e]);
                    this.keyHandlerKeys_ = null
                }
                if (t) {
                    t.appendChild(this.viewport_), this.renderer_ || (this.renderer_ = this.createRenderer());
                    var r = this.keyboardEventTarget_ ? this.keyboardEventTarget_ : t;
                    this.keyHandlerKeys_ = [fe(r, "keydown", this.handleBrowserEvent, this), fe(r, "keypress", this.handleBrowserEvent, this)], this.handleResize_ || (this.handleResize_ = this.updateSize.bind(this), window.addEventListener("resize", this.handleResize_, !1))
                } else this.renderer_ && (clearTimeout(this.postRenderTimeoutHandle_), this.postRenderFunctions_.length = 0, this.renderer_.dispose(), this.renderer_ = null), this.animationDelayKey_ && (cancelAnimationFrame(this.animationDelayKey_), this.animationDelayKey_ = void 0), qo(this.viewport_), void 0 !== this.handleResize_ && (removeEventListener("resize", this.handleResize_, !1), this.handleResize_ = void 0);
                this.updateSize()
            }, e.prototype.handleTileChange_ = function () {
                this.render()
            }, e.prototype.handleViewPropertyChanged_ = function () {
                this.render()
            }, e.prototype.handleViewChanged_ = function () {
                this.viewPropertyListenerKey_ && (de(this.viewPropertyListenerKey_), this.viewPropertyListenerKey_ = null), this.viewChangeListenerKey_ && (de(this.viewChangeListenerKey_), this.viewChangeListenerKey_ = null);
                var t = this.getView();
                t && (this.updateViewportSize_(), this.viewPropertyListenerKey_ = fe(t, "propertychange", this.handleViewPropertyChanged_, this), this.viewChangeListenerKey_ = fe(t, "change", this.handleViewPropertyChanged_, this), t.resolveConstraints(0)), this.render()
            }, e.prototype.handleLayerGroupChanged_ = function () {
                this.layerGroupPropertyListenerKeys_ && (this.layerGroupPropertyListenerKeys_.forEach(de), this.layerGroupPropertyListenerKeys_ = null);
                var t = this.getLayerGroup();
                t && (this.layerGroupPropertyListenerKeys_ = [fe(t, "propertychange", this.render, this), fe(t, "change", this.render, this)]), this.render()
            }, e.prototype.isRendered = function () {
                return !!this.frameState_
            }, e.prototype.renderSync = function () {
                this.animationDelayKey_ && cancelAnimationFrame(this.animationDelayKey_), this.animationDelay_()
            }, e.prototype.redrawText = function () {
                for (var t = this.getLayerGroup().getLayerStatesArray(), e = 0, n = t.length; e < n; ++e) {
                    var r = t[e].layer;
                    r.hasRenderer() && r.getRenderer().handleFontsChanged()
                }
            }, e.prototype.render = function () {
                this.renderer_ && void 0 === this.animationDelayKey_ && (this.animationDelayKey_ = requestAnimationFrame(this.animationDelay_))
            }, e.prototype.removeControl = function (t) {
                return this.getControls().remove(t)
            }, e.prototype.removeInteraction = function (t) {
                return this.getInteractions().remove(t)
            }, e.prototype.removeLayer = function (t) {
                return this.getLayerGroup().getLayers().remove(t)
            }, e.prototype.removeOverlay = function (t) {
                return this.getOverlays().remove(t)
            }, e.prototype.renderFrame_ = function (t) {
                var e = this.getSize(),
                    n = this.getView(),
                    r = this.frameState_,
                    o = null;
                if (void 0 !== e && function (t) {
                        return t[0] > 0 && t[1] > 0
                    }(e) && n && n.isDef()) {
                    var i = n.getHints(this.frameState_ ? this.frameState_.viewHints : void 0),
                        a = n.getState();
                    o = {
                        animate: !1,
                        coordinateToPixelTransform: this.coordinateToPixelTransform_,
                        declutterItems: r ? r.declutterItems : [],
                        extent: zn(a.center, a.resolution, a.rotation, e),
                        index: this.frameIndex_++,
                        layerIndex: 0,
                        layerStatesArray: this.getLayerGroup().getLayerStatesArray(),
                        pixelRatio: this.pixelRatio_,
                        pixelToCoordinateTransform: this.pixelToCoordinateTransform_,
                        postRenderFunctions: [],
                        size: e,
                        tileQueue: this.tileQueue_,
                        time: t,
                        usedTiles: {},
                        viewState: a,
                        viewHints: i,
                        wantedTiles: {}
                    }
                }
                this.frameState_ = o, this.renderer_.renderFrame(o), o && (o.animate && this.render(), Array.prototype.push.apply(this.postRenderFunctions_, o.postRenderFunctions), r && (!this.previousExtent_ || !Yn(this.previousExtent_) && !An(o.extent, this.previousExtent_)) && (this.dispatchEvent(new Ue("movestart", this, r)), this.previousExtent_ = Tn(this.previousExtent_)), this.previousExtent_ && !o.viewHints[0] && !o.viewHints[1] && !An(o.extent, this.previousExtent_) && (this.dispatchEvent(new Ue("moveend", this, o)), _n(o.extent, this.previousExtent_))), this.dispatchEvent(new Ue("postrender", this, o)), this.postRenderTimeoutHandle_ = setTimeout(this.handlePostRender.bind(this), 0)
            }, e.prototype.setLayerGroup = function (t) {
                this.set("layergroup", t)
            }, e.prototype.setSize = function (t) {
                this.set("size", t)
            }, e.prototype.setTarget = function (t) {
                this.set("target", t)
            }, e.prototype.setView = function (t) {
                this.set("view", t)
            }, e.prototype.updateSize = function () {
                var t = this.getTargetElement();
                if (t) {
                    var e = getComputedStyle(t);
                    this.setSize([t.offsetWidth - parseFloat(e.borderLeftWidth) - parseFloat(e.paddingLeft) - parseFloat(e.paddingRight) - parseFloat(e.borderRightWidth), t.offsetHeight - parseFloat(e.borderTopWidth) - parseFloat(e.paddingTop) - parseFloat(e.paddingBottom) - parseFloat(e.borderBottomWidth)])
                } else this.setSize(void 0);
                this.updateViewportSize_()
            }, e.prototype.updateViewportSize_ = function () {
                var t = this.getView();
                if (t) {
                    var e = void 0,
                        n = getComputedStyle(this.viewport_);
                    n.width && n.height && (e = [parseInt(n.width, 10), parseInt(n.height, 10)]), t.setViewportSize(e)
                }
            }, e
        }(Fe),
        ai = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        si = function (t) {
            function e(e) {
                var n = t.call(this) || this;
                return n.element = e.element ? e.element : null, n.target_ = null, n.map_ = null, n.listenerKeys = [], n.render_ = e.render ? e.render : Ce, e.target && n.setTarget(e.target), n
            }
            return ai(e, t), e.prototype.disposeInternal = function () {
                qo(this.element), t.prototype.disposeInternal.call(this)
            }, e.prototype.getMap = function () {
                return this.map_
            }, e.prototype.setMap = function (t) {
                this.map_ && qo(this.element);
                for (var e = 0, n = this.listenerKeys.length; e < n; ++e) de(this.listenerKeys[e]);
                this.listenerKeys.length = 0, this.map_ = t, this.map_ && ((this.target_ ? this.target_ : t.getOverlayContainerStopEvent()).appendChild(this.element), this.render !== Ce && this.listenerKeys.push(fe(t, "postrender", this.render, this)), t.render())
            }, e.prototype.render = function (t) {
                this.render_.call(this, t)
            }, e.prototype.setTarget = function (t) {
                this.target_ = "string" == typeof t ? document.getElementById(t) : t
            }, e
        }(Fe),
        ui = (ri = {}, function (t) {
            if (ni || (ni = document.createElement("div").style), !(t in ri)) {
                ni.font = t;
                var e = ni.fontFamily,
                    n = ni.fontWeight,
                    r = ni.fontStyle;
                if (ni.font = "", !e) return null;
                var o = e.split(/,\s?/);
                ri[t] = {
                    families: o,
                    weight: n,
                    style: r
                }
            }
            return ri[t]
        }),
        ci = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function li(t, e) {
        if (!t.visible) return !1;
        var n = e.resolution;
        if (n < t.minResolution || n >= t.maxResolution) return !1;
        var r = e.zoom;
        return r > t.minZoom && r <= t.maxZoom
    }
    var hi = function (t) {
            function e(e) {
                var n = this,
                    r = ue({}, e);
                delete r.source, (n = t.call(this, r) || this).mapPrecomposeKey_ = null, n.mapRenderKey_ = null, n.sourceChangeKey_ = null, n.renderer_ = null, e.render && (n.render = e.render), e.map && n.setMap(e.map), n.addEventListener(De("source"), n.handleSourcePropertyChange_);
                var o = e.source ? e.source : null;
                return n.setSource(o), n
            }
            return ci(e, t), e.prototype.getLayersArray = function (t) {
                var e = t || [];
                return e.push(this), e
            }, e.prototype.getLayerStatesArray = function (t) {
                var e = t || [];
                return e.push(this.getLayerState()), e
            }, e.prototype.getSource = function () {
                return this.get("source") || null
            }, e.prototype.getSourceState = function () {
                var t = this.getSource();
                return t ? t.getState() : "undefined"
            }, e.prototype.handleSourceChange_ = function () {
                this.changed()
            }, e.prototype.handleSourcePropertyChange_ = function () {
                this.sourceChangeKey_ && (de(this.sourceChangeKey_), this.sourceChangeKey_ = null);
                var t = this.getSource();
                t && (this.sourceChangeKey_ = fe(t, "change", this.handleSourceChange_, this)), this.changed()
            }, e.prototype.getFeatures = function (t) {
                return this.renderer_.getFeatures(t)
            }, e.prototype.render = function (t, e) {
                var n = this.getRenderer();
                if (n.prepareFrame(t)) return n.renderFrame(t, e)
            }, e.prototype.setMap = function (t) {
                this.mapPrecomposeKey_ && (de(this.mapPrecomposeKey_), this.mapPrecomposeKey_ = null), t || this.changed(), this.mapRenderKey_ && (de(this.mapRenderKey_), this.mapRenderKey_ = null), t && (this.mapPrecomposeKey_ = fe(t, "precompose", (function (t) {
                    var e = t.frameState.layerStatesArray,
                        n = this.getLayerState(!1);
                    rn(!e.some((function (t) {
                        return t.layer === n.layer
                    })), 67), e.push(n)
                }), this), this.mapRenderKey_ = fe(this, "change", t.render, t), this.changed())
            }, e.prototype.setSource = function (t) {
                this.set("source", t)
            }, e.prototype.getRenderer = function () {
                return this.renderer_ || (this.renderer_ = this.createRenderer()), this.renderer_
            }, e.prototype.hasRenderer = function () {
                return !!this.renderer_
            }, e.prototype.createRenderer = function () {
                return null
            }, e.prototype.disposeInternal = function () {
                this.setSource(null), t.prototype.disposeInternal.call(this)
            }, e
        }(Jo),
        fi = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function pi(t) {
        this.updateElement_(t.frameState)
    }
    var di = function (t) {
            function e(e) {
                var n = this,
                    r = e || {};
                (n = t.call(this, {
                    element: document.createElement("div"),
                    render: r.render || pi,
                    target: r.target
                }) || this).ulElement_ = document.createElement("ul"), n.collapsed_ = void 0 === r.collapsed || r.collapsed, n.overrideCollapsible_ = void 0 !== r.collapsible, n.collapsible_ = void 0 === r.collapsible || r.collapsible, n.collapsible_ || (n.collapsed_ = !1);
                var o = void 0 !== r.className ? r.className : "ol-attribution",
                    i = void 0 !== r.tipLabel ? r.tipLabel : "Attributions",
                    a = void 0 !== r.collapseLabel ? r.collapseLabel : "Â»";
                "string" == typeof a ? (n.collapseLabel_ = document.createElement("span"), n.collapseLabel_.textContent = a) : n.collapseLabel_ = a;
                var s = void 0 !== r.label ? r.label : "i";
                "string" == typeof s ? (n.label_ = document.createElement("span"), n.label_.textContent = s) : n.label_ = s;
                var u = n.collapsible_ && !n.collapsed_ ? n.collapseLabel_ : n.label_,
                    c = document.createElement("button");
                c.setAttribute("type", "button"), c.title = i, c.appendChild(u), c.addEventListener("click", n.handleClick_.bind(n), !1);
                var l = o + " ol-unselectable ol-control" + (n.collapsed_ && n.collapsible_ ? " ol-collapsed" : "") + (n.collapsible_ ? "" : " ol-uncollapsible"),
                    h = n.element;
                return h.className = l, h.appendChild(n.ulElement_), h.appendChild(c), n.renderedAttributions_ = [], n.renderedVisible_ = !0, n
            }
            return fi(e, t), e.prototype.collectSourceAttributions_ = function (t) {
                for (var e = {}, n = [], r = t.layerStatesArray, o = 0, i = r.length; o < i; ++o) {
                    var a = r[o];
                    if (li(a, t.viewState)) {
                        var s = a.layer.getSource();
                        if (s) {
                            var u = s.getAttributions();
                            if (u) {
                                var c = u(t);
                                if (c)
                                    if (this.overrideCollapsible_ || !1 !== s.getAttributionsCollapsible() || this.setCollapsible(!1), Array.isArray(c))
                                        for (var l = 0, h = c.length; l < h; ++l) c[l] in e || (n.push(c[l]), e[c[l]] = !0);
                                    else c in e || (n.push(c), e[c] = !0)
                            }
                        }
                    }
                }
                return n
            }, e.prototype.updateElement_ = function (t) {
                if (t) {
                    var e = this.collectSourceAttributions_(t),
                        n = e.length > 0;
                    if (this.renderedVisible_ != n && (this.element.style.display = n ? "" : "none", this.renderedVisible_ = n), !xe(e, this.renderedAttributions_)) {
                        Ko(this.ulElement_);
                        for (var r = 0, o = e.length; r < o; ++r) {
                            var i = document.createElement("li");
                            i.innerHTML = e[r], this.ulElement_.appendChild(i)
                        }
                        this.renderedAttributions_ = e
                    }
                } else this.renderedVisible_ && (this.element.style.display = "none", this.renderedVisible_ = !1)
            }, e.prototype.handleClick_ = function (t) {
                t.preventDefault(), this.handleToggle_()
            }, e.prototype.handleToggle_ = function () {
                this.element.classList.toggle("ol-collapsed"), this.collapsed_ ? Zo(this.collapseLabel_, this.label_) : Zo(this.label_, this.collapseLabel_), this.collapsed_ = !this.collapsed_
            }, e.prototype.getCollapsible = function () {
                return this.collapsible_
            }, e.prototype.setCollapsible = function (t) {
                this.collapsible_ !== t && (this.collapsible_ = t, this.element.classList.toggle("ol-uncollapsible"), !t && this.collapsed_ && this.handleToggle_())
            }, e.prototype.setCollapsed = function (t) {
                this.collapsible_ && this.collapsed_ !== t && this.handleToggle_()
            }, e.prototype.getCollapsed = function () {
                return this.collapsed_
            }, e
        }(si),
        yi = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function gi(t) {
        var e = t.frameState;
        if (e) {
            var n = e.viewState.rotation;
            if (n != this.rotation_) {
                var r = "rotate(" + n + "rad)";
                if (this.autoHide_) {
                    var o = this.element.classList.contains("ol-hidden");
                    o || 0 !== n ? o && 0 !== n && this.element.classList.remove("ol-hidden") : this.element.classList.add("ol-hidden")
                }
                this.label_.style.transform = r
            }
            this.rotation_ = n
        }
    }
    var vi = function (t) {
            function e(e) {
                var n = this,
                    r = e || {};
                n = t.call(this, {
                    element: document.createElement("div"),
                    render: r.render || gi,
                    target: r.target
                }) || this;
                var o = void 0 !== r.className ? r.className : "ol-rotate",
                    i = void 0 !== r.label ? r.label : "â‡§";
                n.label_ = null, "string" == typeof i ? (n.label_ = document.createElement("span"), n.label_.className = "ol-compass", n.label_.textContent = i) : (n.label_ = i, n.label_.classList.add("ol-compass"));
                var a = r.tipLabel ? r.tipLabel : "Reset rotation",
                    s = document.createElement("button");
                s.className = o + "-reset", s.setAttribute("type", "button"), s.title = a, s.appendChild(n.label_), s.addEventListener("click", n.handleClick_.bind(n), !1);
                var u = o + " ol-unselectable ol-control",
                    c = n.element;
                return c.className = u, c.appendChild(s), n.callResetNorth_ = r.resetNorth ? r.resetNorth : void 0, n.duration_ = void 0 !== r.duration ? r.duration : 250, n.autoHide_ = void 0 === r.autoHide || r.autoHide, n.rotation_ = void 0, n.autoHide_ && n.element.classList.add("ol-hidden"), n
            }
            return yi(e, t), e.prototype.handleClick_ = function (t) {
                t.preventDefault(), void 0 !== this.callResetNorth_ ? this.callResetNorth_() : this.resetNorth_()
            }, e.prototype.resetNorth_ = function () {
                var t = this.getMap().getView();
                if (t) {
                    var e = t.getRotation();
                    void 0 !== e && (this.duration_ > 0 && e % (2 * Math.PI) != 0 ? t.animate({
                        rotation: 0,
                        duration: this.duration_,
                        easing: ir
                    }) : t.setRotation(0))
                }
            }, e
        }(si),
        mi = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        _i = function (t) {
            function e(e) {
                var n = this,
                    r = e || {};
                n = t.call(this, {
                    element: document.createElement("div"),
                    target: r.target
                }) || this;
                var o = void 0 !== r.className ? r.className : "ol-zoom",
                    i = void 0 !== r.delta ? r.delta : 1,
                    a = void 0 !== r.zoomInLabel ? r.zoomInLabel : "+",
                    s = void 0 !== r.zoomOutLabel ? r.zoomOutLabel : "âˆ’",
                    u = void 0 !== r.zoomInTipLabel ? r.zoomInTipLabel : "Zoom in",
                    c = void 0 !== r.zoomOutTipLabel ? r.zoomOutTipLabel : "Zoom out",
                    l = document.createElement("button");
                l.className = o + "-in", l.setAttribute("type", "button"), l.title = u, l.appendChild("string" == typeof a ? document.createTextNode(a) : a), l.addEventListener("click", n.handleClick_.bind(n, i), !1);
                var h = document.createElement("button");
                h.className = o + "-out", h.setAttribute("type", "button"), h.title = c, h.appendChild("string" == typeof s ? document.createTextNode(s) : s), h.addEventListener("click", n.handleClick_.bind(n, -i), !1);
                var f = o + " ol-unselectable ol-control",
                    p = n.element;
                return p.className = f, p.appendChild(l), p.appendChild(h), n.duration_ = void 0 !== r.duration ? r.duration : 250, n
            }
            return mi(e, t), e.prototype.handleClick_ = function (t, e) {
                e.preventDefault(), this.zoomByDelta_(t)
            }, e.prototype.zoomByDelta_ = function (t) {
                var e = this.getMap().getView();
                if (e) {
                    var n = e.getZoom();
                    if (void 0 !== n) {
                        var r = e.getConstrainedZoom(n + t);
                        this.duration_ > 0 ? (e.getAnimating() && e.cancelAnimations(), e.animate({
                            zoom: r,
                            duration: this.duration_,
                            easing: ir
                        })) : e.setZoom(r)
                    }
                }
            }, e
        }(si),
        bi = function () {
            function t(t, e, n) {
                this.decay_ = t, this.minVelocity_ = e, this.delay_ = n, this.points_ = [], this.angle_ = 0, this.initialVelocity_ = 0
            }
            return t.prototype.begin = function () {
                this.points_.length = 0, this.angle_ = 0, this.initialVelocity_ = 0
            }, t.prototype.update = function (t, e) {
                this.points_.push(t, e, Date.now())
            }, t.prototype.end = function () {
                if (this.points_.length < 6) return !1;
                var t = Date.now() - this.delay_,
                    e = this.points_.length - 3;
                if (this.points_[e + 2] < t) return !1;
                for (var n = e - 3; n > 0 && this.points_[n + 2] > t;) n -= 3;
                var r = this.points_[e + 2] - this.points_[n + 2];
                if (r < 1e3 / 60) return !1;
                var o = this.points_[e] - this.points_[n],
                    i = this.points_[e + 1] - this.points_[n + 1];
                return this.angle_ = Math.atan2(i, o), this.initialVelocity_ = Math.sqrt(o * o + i * i) / r, this.initialVelocity_ > this.minVelocity_
            }, t.prototype.getDistance = function () {
                return (this.minVelocity_ - this.initialVelocity_) / this.decay_
            }, t.prototype.getAngle = function () {
                return this.angle_
            }, t
        }(),
        xi = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function wi(t, e, n, r) {
        var o = t.getZoom();
        if (void 0 !== o) {
            var i = t.getConstrainedZoom(o + e),
                a = t.getResolutionForZoom(i);
            t.getAnimating() && t.cancelAnimations(), t.animate({
                resolution: a,
                anchor: n,
                duration: void 0 !== r ? r : 250,
                easing: ir
            })
        }
    }
    var Si = function (t) {
            function e(e) {
                var n = t.call(this) || this;
                return e.handleEvent && (n.handleEvent = e.handleEvent), n.map_ = null, n.setActive(!0), n
            }
            return xi(e, t), e.prototype.getActive = function () {
                return this.get("active")
            }, e.prototype.getMap = function () {
                return this.map_
            }, e.prototype.handleEvent = function (t) {
                return !0
            }, e.prototype.setActive = function (t) {
                this.set("active", t)
            }, e.prototype.setMap = function (t) {
                this.map_ = t
            }, e
        }(Fe),
        Ci = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function Ei(t) {
        var e = !1;
        if (t.type == Je.DBLCLICK) {
            var n = t.originalEvent,
                r = t.map,
                o = t.coordinate,
                i = n.shiftKey ? -this.delta_ : this.delta_;
            wi(r.getView(), i, o, this.duration_), t.preventDefault(), e = !0
        }
        return !e
    }
    var Ti = function (t) {
            function e(e) {
                var n = t.call(this, {
                        handleEvent: Ei
                    }) || this,
                    r = e || {};
                return n.delta_ = r.delta ? r.delta : 1, n.duration_ = void 0 !== r.duration ? r.duration : 250, n
            }
            return Ci(e, t), e
        }(Si),
        Oi = function (t) {
            var e = t.originalEvent;
            return e.altKey && !(e.metaKey || e.ctrlKey) && e.shiftKey
        },
        Pi = function (t) {
            return t.target.getTargetElement() === document.activeElement
        },
        Ai = we,
        Ri = function (t) {
            return t.type == Je.CLICK
        },
        Ii = function (t) {
            var e = t.originalEvent;
            return 0 == e.button && !(Ye && Ze && e.ctrlKey)
        },
        ki = Se,
        Li = function (t) {
            return t.type == Je.SINGLECLICK
        },
        ji = function (t) {
            var e = t.originalEvent;
            return !e.altKey && !(e.metaKey || e.ctrlKey) && !e.shiftKey
        },
        Mi = function (t) {
            var e = t.originalEvent;
            return !e.altKey && !(e.metaKey || e.ctrlKey) && e.shiftKey
        },
        Di = function (t) {
            var e = t.originalEvent.target.tagName;
            return "INPUT" !== e && "SELECT" !== e && "TEXTAREA" !== e
        },
        Fi = function (t) {
            var e = t.pointerEvent;
            return rn(void 0 !== e, 56), "mouse" == e.pointerType
        },
        Gi = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function Ni(t) {
        for (var e = t.length, n = 0, r = 0, o = 0; o < e; o++) n += t[o].clientX, r += t[o].clientY;
        return [n / e, r / e]
    }
    var zi = function (t) {
            function e(e) {
                var n = this,
                    r = e || {};
                return n = t.call(this, r) || this, r.handleDownEvent && (n.handleDownEvent = r.handleDownEvent), r.handleDragEvent && (n.handleDragEvent = r.handleDragEvent), r.handleMoveEvent && (n.handleMoveEvent = r.handleMoveEvent), r.handleUpEvent && (n.handleUpEvent = r.handleUpEvent), r.stopDown && (n.stopDown = r.stopDown), n.handlingDownUpSequence = !1, n.trackedPointers_ = {}, n.targetPointers = [], n
            }
            return Gi(e, t), e.prototype.getPointerCount = function () {
                return this.targetPointers.length
            }, e.prototype.handleDownEvent = function (t) {
                return !1
            }, e.prototype.handleDragEvent = function (t) {}, e.prototype.handleEvent = function (t) {
                if (!t.pointerEvent) return !0;
                var e = !1;
                if (this.updateTrackedPointers_(t), this.handlingDownUpSequence) {
                    if (t.type == Je.POINTERDRAG) this.handleDragEvent(t);
                    else if (t.type == Je.POINTERUP) {
                        var n = this.handleUpEvent(t);
                        this.handlingDownUpSequence = n && this.targetPointers.length > 0
                    }
                } else if (t.type == Je.POINTERDOWN) {
                    var r = this.handleDownEvent(t);
                    this.handlingDownUpSequence = r, e = this.stopDown(r)
                } else t.type == Je.POINTERMOVE && this.handleMoveEvent(t);
                return !e
            }, e.prototype.handleMoveEvent = function (t) {}, e.prototype.handleUpEvent = function (t) {
                return !1
            }, e.prototype.stopDown = function (t) {
                return t
            }, e.prototype.updateTrackedPointers_ = function (t) {
                if (function (t) {
                        var e = t.type;
                        return e === Je.POINTERDOWN || e === Je.POINTERDRAG || e === Je.POINTERUP
                    }(t)) {
                    var e = t.pointerEvent,
                        n = e.pointerId.toString();
                    t.type == Je.POINTERUP ? delete this.trackedPointers_[n] : (t.type == Je.POINTERDOWN || n in this.trackedPointers_) && (this.trackedPointers_[n] = e), this.targetPointers = le(this.trackedPointers_)
                }
            }, e
        }(Si),
        Bi = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function Ui(t) {
        return ji(t) && function (t) {
            var e = t.pointerEvent;
            return rn(void 0 !== e, 56), e.isPrimary && 0 === e.button
        }(t)
    }
    var Xi = function (t) {
            function e(e) {
                var n = t.call(this, {
                        stopDown: Se
                    }) || this,
                    r = e || {};
                return n.kinetic_ = r.kinetic, n.lastCentroid = null, n.lastPointersCount_, n.panning_ = !1, n.condition_ = r.condition ? r.condition : Ui, n.noKinetic_ = !1, n
            }
            return Bi(e, t), e.prototype.conditionInternal_ = function (t) {
                var e = !0;
                return t.map.getTargetElement().hasAttribute("tabindex") && (e = Pi(t)), e && this.condition_(t)
            }, e.prototype.handleDragEvent = function (t) {
                this.panning_ || (this.panning_ = !0, this.getMap().getView().beginInteraction());
                var e = this.targetPointers,
                    n = Ni(e);
                if (e.length == this.lastPointersCount_) {
                    if (this.kinetic_ && this.kinetic_.update(n[0], n[1]), this.lastCentroid) {
                        var r = [this.lastCentroid[0] - n[0], n[1] - this.lastCentroid[1]],
                            o = t.map.getView();
                        rr(r, o.getResolution()), nr(r, o.getRotation()), o.adjustCenterInternal(r)
                    }
                } else this.kinetic_ && this.kinetic_.begin();
                this.lastCentroid = n, this.lastPointersCount_ = e.length, t.originalEvent.preventDefault()
            }, e.prototype.handleUpEvent = function (t) {
                var e = t.map,
                    n = e.getView();
                if (0 === this.targetPointers.length) {
                    if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) {
                        var r = this.kinetic_.getDistance(),
                            o = this.kinetic_.getAngle(),
                            i = n.getCenterInternal(),
                            a = e.getPixelFromCoordinateInternal(i),
                            s = e.getCoordinateFromPixelInternal([a[0] - r * Math.cos(o), a[1] - r * Math.sin(o)]);
                        n.animateInternal({
                            center: n.getConstrainedCenter(s),
                            duration: 500,
                            easing: ir
                        })
                    }
                    return this.panning_ && (this.panning_ = !1, n.endInteraction()), !1
                }
                return this.kinetic_ && this.kinetic_.begin(), this.lastCentroid = null, !0
            }, e.prototype.handleDownEvent = function (t) {
                if (this.targetPointers.length > 0 && this.conditionInternal_(t)) {
                    var e = t.map.getView();
                    return this.lastCentroid = null, e.getAnimating() && e.cancelAnimations(), this.kinetic_ && this.kinetic_.begin(), this.noKinetic_ = this.targetPointers.length > 1, !0
                }
                return !1
            }, e
        }(zi),
        Wi = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Vi = function (t) {
            function e(e) {
                var n = this,
                    r = e || {};
                return (n = t.call(this, {
                    stopDown: Se
                }) || this).condition_ = r.condition ? r.condition : Oi, n.lastAngle_ = void 0, n.duration_ = void 0 !== r.duration ? r.duration : 250, n
            }
            return Wi(e, t), e.prototype.handleDragEvent = function (t) {
                if (Fi(t)) {
                    var e = t.map,
                        n = e.getView();
                    if (n.getConstraints().rotation !== Jn) {
                        var r = e.getSize(),
                            o = t.pixel,
                            i = Math.atan2(r[1] / 2 - o[1], o[0] - r[0] / 2);
                        if (void 0 !== this.lastAngle_) {
                            var a = i - this.lastAngle_;
                            n.adjustRotationInternal(-a)
                        }
                        this.lastAngle_ = i
                    }
                }
            }, e.prototype.handleUpEvent = function (t) {
                return !Fi(t) || (t.map.getView().endInteraction(this.duration_), !1)
            }, e.prototype.handleDownEvent = function (t) {
                return !(!Fi(t) || !Ii(t) || !this.condition_(t) || (t.map.getView().beginInteraction(), this.lastAngle_ = void 0, 0))
            }, e
        }(zi),
        Hi = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Yi = function (t) {
            function e(e) {
                var n = t.call(this) || this;
                return n.geometry_ = null, n.element_ = document.createElement("div"), n.element_.style.position = "absolute", n.element_.className = "ol-box " + e, n.map_ = null, n.startPixel_ = null, n.endPixel_ = null, n
            }
            return Hi(e, t), e.prototype.disposeInternal = function () {
                this.setMap(null)
            }, e.prototype.render_ = function () {
                var t = this.startPixel_,
                    e = this.endPixel_,
                    n = this.element_.style;
                n.left = Math.min(t[0], e[0]) + "px", n.top = Math.min(t[1], e[1]) + "px", n.width = Math.abs(e[0] - t[0]) + "px", n.height = Math.abs(e[1] - t[1]) + "px"
            }, e.prototype.setMap = function (t) {
                if (this.map_) {
                    this.map_.getOverlayContainer().removeChild(this.element_);
                    var e = this.element_.style;
                    e.left = "inherit", e.top = "inherit", e.width = "inherit", e.height = "inherit"
                }
                this.map_ = t, this.map_ && this.map_.getOverlayContainer().appendChild(this.element_)
            }, e.prototype.setPixels = function (t, e) {
                this.startPixel_ = t, this.endPixel_ = e, this.createOrUpdateGeometry(), this.render_()
            }, e.prototype.createOrUpdateGeometry = function () {
                var t = this.startPixel_,
                    e = this.endPixel_,
                    n = [t, [t[0], e[1]], e, [e[0], t[1]]].map(this.map_.getCoordinateFromPixelInternal, this.map_);
                n[4] = n[0].slice(), this.geometry_ ? this.geometry_.setCoordinates([n]) : this.geometry_ = new No([n])
            }, e.prototype.getGeometry = function () {
                return this.geometry_
            }, e
        }(ye),
        Zi = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        qi = function (t) {
            function e(e, n, r) {
                var o = t.call(this, e) || this;
                return o.coordinate = n, o.mapBrowserEvent = r, o
            }
            return Zi(e, t), e
        }(Te),
        Ki = function (t) {
            function e(e) {
                var n = t.call(this) || this,
                    r = e || {};
                return n.box_ = new Yi(r.className || "ol-dragbox"), n.minArea_ = void 0 !== r.minArea ? r.minArea : 64, n.onBoxEnd_ = r.onBoxEnd ? r.onBoxEnd : Ce, n.startPixel_ = null, n.condition_ = r.condition ? r.condition : Ii, n.boxEndCondition_ = r.boxEndCondition ? r.boxEndCondition : n.defaultBoxEndCondition, n
            }
            return Zi(e, t), e.prototype.defaultBoxEndCondition = function (t, e, n) {
                var r = n[0] - e[0],
                    o = n[1] - e[1];
                return r * r + o * o >= this.minArea_
            }, e.prototype.getGeometry = function () {
                return this.box_.getGeometry()
            }, e.prototype.handleDragEvent = function (t) {
                this.box_.setPixels(this.startPixel_, t.pixel), this.dispatchEvent(new qi("boxdrag", t.coordinate, t))
            }, e.prototype.handleUpEvent = function (t) {
                return this.box_.setMap(null), this.boxEndCondition_(t, this.startPixel_, t.pixel) && (this.onBoxEnd_(t), this.dispatchEvent(new qi("boxend", t.coordinate, t))), !1
            }, e.prototype.handleDownEvent = function (t) {
                return !!this.condition_(t) && (this.startPixel_ = t.pixel, this.box_.setMap(t.map), this.box_.setPixels(this.startPixel_, this.startPixel_), this.dispatchEvent(new qi("boxstart", t.coordinate, t)), !0)
            }, e
        }(zi),
        $i = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function Ji() {
        var t, e = this.getMap(),
            n = e.getView(),
            r = e.getSize(),
            o = this.getGeometry().getExtent();
        if (this.out_) {
            var i = n.calculateExtentInternal(r),
                a = (t = [e.getPixelFromCoordinateInternal(Dn(o)), e.getPixelFromCoordinateInternal(Wn(o))], function (t, e) {
                    for (var n = 0, r = e.length; n < r; ++n) In(t, e[n]);
                    return t
                }(Tn(void 0), t));
            Zn(i, 1 / n.getResolutionForExtentInternal(a, r)), o = i
        }
        var s = n.getConstrainedResolution(n.getResolutionForExtentInternal(o, r)),
            u = n.getConstrainedCenter(Gn(o), s);
        n.animateInternal({
            resolution: s,
            center: u,
            duration: this.duration_,
            easing: ir
        })
    }
    var Qi = function (t) {
            function e(e) {
                var n = this,
                    r = e || {},
                    o = r.condition ? r.condition : Mi;
                return (n = t.call(this, {
                    condition: o,
                    className: r.className || "ol-dragzoom",
                    minArea: r.minArea,
                    onBoxEnd: Ji
                }) || this).duration_ = void 0 !== r.duration ? r.duration : 200, n.out_ = void 0 !== r.out && r.out, n
            }
            return $i(e, t), e
        }(Ki),
        ta = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function ea(t) {
        var e = !1;
        if ("keydown" == t.type) {
            var n = t.originalEvent.keyCode;
            if (this.condition_(t) && (40 == n || 37 == n || 39 == n || 38 == n)) {
                var r = t.map.getView(),
                    o = r.getResolution() * this.pixelDelta_,
                    i = 0,
                    a = 0;
                40 == n ? a = -o : 37 == n ? i = -o : 39 == n ? i = o : a = o;
                var s = [i, a];
                nr(s, r.getRotation()),
                    function (t, e, n) {
                        var r = t.getCenterInternal();
                        if (r) {
                            var o = [r[0] + e[0], r[1] + e[1]];
                            t.animateInternal({
                                duration: void 0 !== n ? n : 250,
                                easing: sr,
                                center: t.getConstrainedCenter(o)
                            })
                        }
                    }(r, s, this.duration_), t.preventDefault(), e = !0
            }
        }
        return !e
    }
    var na = function (t) {
            function e(e) {
                var n = t.call(this, {
                        handleEvent: ea
                    }) || this,
                    r = e || {};
                return n.defaultCondition_ = function (t) {
                    return ji(t) && Di(t)
                }, n.condition_ = void 0 !== r.condition ? r.condition : n.defaultCondition_, n.duration_ = void 0 !== r.duration ? r.duration : 100, n.pixelDelta_ = void 0 !== r.pixelDelta ? r.pixelDelta : 128, n
            }
            return ta(e, t), e
        }(Si),
        ra = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function oa(t) {
        var e = !1;
        if ("keydown" == t.type || "keypress" == t.type) {
            var n = t.originalEvent.charCode;
            if (this.condition_(t) && (n == "+".charCodeAt(0) || n == "-".charCodeAt(0))) {
                var r = t.map,
                    o = n == "+".charCodeAt(0) ? this.delta_ : -this.delta_;
                wi(r.getView(), o, void 0, this.duration_), t.preventDefault(), e = !0
            }
        }
        return !e
    }
    var ia = function (t) {
            function e(e) {
                var n = t.call(this, {
                        handleEvent: oa
                    }) || this,
                    r = e || {};
                return n.condition_ = r.condition ? r.condition : Di, n.delta_ = r.delta ? r.delta : 1, n.duration_ = void 0 !== r.duration ? r.duration : 100, n
            }
            return ra(e, t), e
        }(Si),
        aa = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        sa = function (t) {
            function e(e) {
                var n = this,
                    r = e || {};
                return (n = t.call(this, r) || this).totalDelta_ = 0, n.lastDelta_ = 0, n.maxDelta_ = void 0 !== r.maxDelta ? r.maxDelta : 1, n.duration_ = void 0 !== r.duration ? r.duration : 250, n.timeout_ = void 0 !== r.timeout ? r.timeout : 80, n.useAnchor_ = void 0 === r.useAnchor || r.useAnchor, n.condition_ = r.condition ? r.condition : Ai, n.lastAnchor_ = null, n.startTime_ = void 0, n.eventGap_ = 400, n.timeoutId_, n.deltaPerZoom_ = 300, n
            }
            return aa(e, t), e.prototype.conditionInternal_ = function (t) {
                var e = !0;
                return t.map.getTargetElement().hasAttribute("tabindex") && (e = Pi(t)), e && this.condition_(t)
            }, e.prototype.endInteraction_ = function () {
                this.timeoutId_ = void 0, this.getMap().getView().endInteraction(void 0, this.lastDelta_ ? this.lastDelta_ > 0 ? 1 : -1 : 0, this.lastAnchor_)
            }, e.prototype.handleEvent = function (t) {
                if (!this.conditionInternal_(t)) return !0;
                if ("wheel" !== t.type) return !0;
                t.preventDefault();
                var e, n = t.map,
                    r = t.originalEvent;
                if (this.useAnchor_ && (this.lastAnchor_ = t.coordinate), "wheel" == t.type && (e = r.deltaY, He && r.deltaMode === WheelEvent.DOM_DELTA_PIXEL && (e /= qe), r.deltaMode === WheelEvent.DOM_DELTA_LINE && (e *= 40)), 0 === e) return !1;
                this.lastDelta_ = e;
                var o = Date.now();
                void 0 === this.startTime_ && (this.startTime_ = o);
                var i = n.getView();
                return this.timeoutId_ ? clearTimeout(this.timeoutId_) : i.beginInteraction(), this.timeoutId_ = setTimeout(this.endInteraction_.bind(this), this.eventGap_), i.adjustZoom(-e / this.deltaPerZoom_, this.lastAnchor_), this.startTime_ = o, !1
            }, e.prototype.setMouseAnchor = function (t) {
                this.useAnchor_ = t, t || (this.lastAnchor_ = null)
            }, e
        }(Si),
        ua = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        ca = function (t) {
            function e(e) {
                var n = this,
                    r = e || {},
                    o = r;
                return o.stopDown || (o.stopDown = Se), (n = t.call(this, o) || this).anchor_ = null, n.lastAngle_ = void 0, n.rotating_ = !1, n.rotationDelta_ = 0, n.threshold_ = void 0 !== r.threshold ? r.threshold : .3, n.duration_ = void 0 !== r.duration ? r.duration : 250, n
            }
            return ua(e, t), e.prototype.handleDragEvent = function (t) {
                var e = 0,
                    n = this.targetPointers[0],
                    r = this.targetPointers[1],
                    o = Math.atan2(r.clientY - n.clientY, r.clientX - n.clientX);
                if (void 0 !== this.lastAngle_) {
                    var i = o - this.lastAngle_;
                    this.rotationDelta_ += i, !this.rotating_ && Math.abs(this.rotationDelta_) > this.threshold_ && (this.rotating_ = !0), e = i
                }
                this.lastAngle_ = o;
                var a = t.map,
                    s = a.getView();
                if (s.getConstraints().rotation !== Jn) {
                    var u = a.getViewport().getBoundingClientRect(),
                        c = Ni(this.targetPointers);
                    c[0] -= u.left, c[1] -= u.top, this.anchor_ = a.getCoordinateFromPixelInternal(c), this.rotating_ && (a.render(), s.adjustRotationInternal(e, this.anchor_))
                }
            }, e.prototype.handleUpEvent = function (t) {
                return !(this.targetPointers.length < 2 && (t.map.getView().endInteraction(this.duration_), 1))
            }, e.prototype.handleDownEvent = function (t) {
                if (this.targetPointers.length >= 2) {
                    var e = t.map;
                    return this.anchor_ = null, this.lastAngle_ = void 0, this.rotating_ = !1, this.rotationDelta_ = 0, this.handlingDownUpSequence || e.getView().beginInteraction(), !0
                }
                return !1
            }, e
        }(zi),
        la = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        ha = function (t) {
            function e(e) {
                var n = this,
                    r = e || {},
                    o = r;
                return o.stopDown || (o.stopDown = Se), (n = t.call(this, o) || this).anchor_ = null, n.duration_ = void 0 !== r.duration ? r.duration : 400, n.lastDistance_ = void 0, n.lastScaleDelta_ = 1, n
            }
            return la(e, t), e.prototype.handleDragEvent = function (t) {
                var e = 1,
                    n = this.targetPointers[0],
                    r = this.targetPointers[1],
                    o = n.clientX - r.clientX,
                    i = n.clientY - r.clientY,
                    a = Math.sqrt(o * o + i * i);
                void 0 !== this.lastDistance_ && (e = this.lastDistance_ / a), this.lastDistance_ = a;
                var s = t.map,
                    u = s.getView();
                1 != e && (this.lastScaleDelta_ = e);
                var c = s.getViewport().getBoundingClientRect(),
                    l = Ni(this.targetPointers);
                l[0] -= c.left, l[1] -= c.top, this.anchor_ = s.getCoordinateFromPixelInternal(l), s.render(), u.adjustResolutionInternal(e, this.anchor_)
            }, e.prototype.handleUpEvent = function (t) {
                if (this.targetPointers.length < 2) {
                    var e = t.map.getView(),
                        n = this.lastScaleDelta_ > 1 ? 1 : -1;
                    return e.endInteraction(this.duration_, n), !1
                }
                return !0
            }, e.prototype.handleDownEvent = function (t) {
                if (this.targetPointers.length >= 2) {
                    var e = t.map;
                    return this.anchor_ = null, this.lastDistance_ = void 0, this.lastScaleDelta_ = 1, this.handlingDownUpSequence || e.getView().beginInteraction(), !0
                }
                return !1
            }, e
        }(zi),
        fa = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        pa = function (t) {
            function e(e, n, r, o) {
                var i = t.call(this, e) || this;
                return i.inversePixelTransform = n, i.frameState = r, i.context = o, i
            }
            return fa(e, t), e
        }(Te),
        da = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,
        ya = /^([a-z]*)$|^hsla?\(.*\)$/i,
        ga = function () {
            var t = {},
                e = 0;
            return function (n) {
                var r;
                if (t.hasOwnProperty(n)) r = t[n];
                else {
                    if (e >= 1024) {
                        var o = 0;
                        for (var i in t) 0 == (3 & o++) && (delete t[i], --e)
                    }
                    r = function (t) {
                        var e, n, r, o, i;
                        if (ya.exec(t) && (t = function (t) {
                                var e = document.createElement("div");
                                if (e.style.color = t, "" !== e.style.color) {
                                    document.body.appendChild(e);
                                    var n = getComputedStyle(e).color;
                                    return document.body.removeChild(e), n
                                }
                                return ""
                            }(t)), da.exec(t)) {
                            var a, s = t.length - 1;
                            a = s <= 4 ? 1 : 2;
                            var u = 4 === s || 8 === s;
                            e = parseInt(t.substr(1 + 0 * a, a), 16), n = parseInt(t.substr(1 + 1 * a, a), 16), r = parseInt(t.substr(1 + 2 * a, a), 16), o = u ? parseInt(t.substr(1 + 3 * a, a), 16) : 255, 1 == a && (e = (e << 4) + e, n = (n << 4) + n, r = (r << 4) + r, u && (o = (o << 4) + o)), i = [e, n, r, o / 255]
                        } else 0 == t.indexOf("rgba(") ? ma(i = t.slice(5, -1).split(",").map(Number)) : 0 == t.indexOf("rgb(") ? ((i = t.slice(4, -1).split(",").map(Number)).push(1), ma(i)) : rn(!1, 14);
                        return i
                    }(n), t[n] = r, ++e
                }
                return r
            }
        }();

    function va(t) {
        return Array.isArray(t) ? t : ga(t)
    }

    function ma(t) {
        return t[0] = un(t[0] + .5 | 0, 0, 255), t[1] = un(t[1] + .5 | 0, 0, 255), t[2] = un(t[2] + .5 | 0, 0, 255), t[3] = un(t[3], 0, 1), t
    }

    function _a(t) {
        var e = t[0];
        e != (0 | e) && (e = e + .5 | 0);
        var n = t[1];
        n != (0 | n) && (n = n + .5 | 0);
        var r = t[2];
        return r != (0 | r) && (r = r + .5 | 0), "rgba(" + e + "," + n + "," + r + "," + (void 0 === t[3] ? 1 : t[3]) + ")"
    }

    function ba(t, e, n) {
        return e + ":" + t + ":" + (n ? function (t) {
            return "string" == typeof t ? t : _a(t)
        }(n) : "null")
    }
    var xa = new(function () {
        function t() {
            this.cache_ = {}, this.cacheSize_ = 0, this.maxCacheSize_ = 32
        }
        return t.prototype.clear = function () {
            this.cache_ = {}, this.cacheSize_ = 0
        }, t.prototype.canExpireCache = function () {
            return this.cacheSize_ > this.maxCacheSize_
        }, t.prototype.expire = function () {
            if (this.canExpireCache()) {
                var t = 0;
                for (var e in this.cache_) {
                    var n = this.cache_[e];
                    0 != (3 & t++) || n.hasListener() || (delete this.cache_[e], --this.cacheSize_)
                }
            }
        }, t.prototype.get = function (t, e, n) {
            var r = ba(t, e, n);
            return r in this.cache_ ? this.cache_[r] : null
        }, t.prototype.set = function (t, e, n, r) {
            var o = ba(t, e, n);
            this.cache_[o] = r, ++this.cacheSize_
        }, t.prototype.setSize = function (t) {
            this.maxCacheSize_ = t, this.expire()
        }, t
    }());

    function wa(t) {
        return Array.isArray(t) ? _a(t) : t
    }
    var Sa = function () {
            function t() {}
            return t.prototype.drawCustom = function (t, e, n) {}, t.prototype.drawGeometry = function (t) {}, t.prototype.setStyle = function (t) {}, t.prototype.drawCircle = function (t, e) {}, t.prototype.drawFeature = function (t, e) {}, t.prototype.drawGeometryCollection = function (t, e) {}, t.prototype.drawLineString = function (t, e) {}, t.prototype.drawMultiLineString = function (t, e) {}, t.prototype.drawMultiPoint = function (t, e) {}, t.prototype.drawMultiPolygon = function (t, e) {}, t.prototype.drawPoint = function (t, e) {}, t.prototype.drawPolygon = function (t, e) {}, t.prototype.drawText = function (t, e) {}, t.prototype.setFillStrokeStyle = function (t, e) {}, t.prototype.setImageStyle = function (t, e) {}, t.prototype.setTextStyle = function (t, e) {}, t
        }(),
        Ca = [],
        Ea = [0, 0, 0, 0],
        Ta = new Fe;
    (new Pe).setSize = function () {
        console.warn("labelCache is deprecated.")
    };
    var Oa, Pa, Aa, Ra = null,
        Ia = {},
        ka = function () {
            var t, e, n = ["monospace", "serif"],
                r = n.length,
                o = "wmytzilWMYTZIL@#/&?$%10ï€“";

            function i(t, i, a) {
                for (var s = !0, u = 0; u < r; ++u) {
                    var c = n[u];
                    if (e = ja(t + " " + i + " 32px " + c, o), a != c) {
                        var l = ja(t + " " + i + " 32px " + a + "," + c, o);
                        s = s && l != e
                    }
                }
                return !!s
            }

            function a() {
                for (var e = !0, n = Ta.getKeys(), r = 0, o = n.length; r < o; ++r) {
                    var a = n[r];
                    Ta.get(a) < 100 && (i.apply(this, a.split("\n")) ? (ce(Ia), Ra = null, Oa = void 0, Ta.set(a, 100)) : (Ta.set(a, Ta.get(a) + 1, !0), e = !1))
                }
                e && (clearInterval(t), t = void 0)
            }
            return function (e) {
                var n = ui(e);
                if (n)
                    for (var r = n.families, o = 0, s = r.length; o < s; ++o) {
                        var u = r[o],
                            c = n.style + "\n" + n.weight + "\n" + u;
                        void 0 === Ta.get(c) && (Ta.set(c, 100, !0), i(n.style, n.weight, u) || (Ta.set(c, 0, !0), void 0 === t && (t = setInterval(a, 32))))
                    }
            }
        }(),
        La = (Aa = Ia, function (t) {
            var e = Aa[t];
            return null == e && (Pa || ((Pa = document.createElement("div")).innerHTML = "M", Pa.style.margin = "0 !important", Pa.style.padding = "0 !important", Pa.style.position = "absolute !important", Pa.style.left = "-99999px !important"), Pa.style.font = t, document.body.appendChild(Pa), e = Pa.offsetHeight, Aa[t] = e, document.body.removeChild(Pa)), e
        });

    function ja(t, e) {
        return Ra || (Ra = Vo(1, 1)), t != Oa && (Ra.font = t, Oa = Ra.font), Ra.measureText(e).width
    }

    function Ma(t, e, n) {
        if (e in n) return n[e];
        var r = ja(t, e);
        return n[e] = r, r
    }

    function Da(t, e, n, r) {
        0 !== e && (t.translate(n, r), t.rotate(e), t.translate(-n, -r))
    }

    function Fa(t, e, n, r, o, i, a, s, u, c, l) {
        t.save(), e && t.setTransform.apply(t, e), r.contextInstructions ? (t.translate(u, c), t.scale(l, l), function (t, e) {
            for (var n = t.contextInstructions, r = 0, o = n.length; r < o; r += 2) Array.isArray(n[r + 1]) ? CanvasRenderingContext2D.prototype[n[r]].apply(e, n[r + 1]) : e[n[r]] = n[r + 1]
        }(r, t)) : t.drawImage(r, o, i, a, s, u, c, a * l, s * l), t.restore()
    }
    var Ga = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Na = function (t) {
            function e(e, n, r, o, i, a, s) {
                var u = t.call(this) || this;
                return u.context_ = e, u.pixelRatio_ = n, u.extent_ = r, u.transform_ = o, u.viewRotation_ = i, u.squaredTolerance_ = a, u.userTransform_ = s, u.contextFillState_ = null, u.contextStrokeState_ = null, u.contextTextState_ = null, u.fillState_ = null, u.strokeState_ = null, u.image_ = null, u.imageAnchorX_ = 0, u.imageAnchorY_ = 0, u.imageHeight_ = 0, u.imageOpacity_ = 0, u.imageOriginX_ = 0, u.imageOriginY_ = 0, u.imageRotateWithView_ = !1, u.imageRotation_ = 0, u.imageScale_ = 0, u.imageWidth_ = 0, u.text_ = "", u.textOffsetX_ = 0, u.textOffsetY_ = 0, u.textRotateWithView_ = !1, u.textRotation_ = 0, u.textScale_ = 0, u.textFillState_ = null, u.textStrokeState_ = null, u.textState_ = null, u.pixelCoordinates_ = [], u.tmpLocalTransform_ = [1, 0, 0, 1, 0, 0], u
            }
            return Ga(e, t), e.prototype.drawImages_ = function (t, e, n, r) {
                if (this.image_) {
                    var o = ur(t, e, n, 2, this.transform_, this.pixelCoordinates_),
                        i = this.context_,
                        a = this.tmpLocalTransform_,
                        s = i.globalAlpha;
                    1 != this.imageOpacity_ && (i.globalAlpha = s * this.imageOpacity_);
                    var u = this.imageRotation_;
                    this.imageRotateWithView_ && (u += this.viewRotation_);
                    for (var c = 0, l = o.length; c < l; c += 2) {
                        var h = o[c] - this.imageAnchorX_,
                            f = o[c + 1] - this.imageAnchorY_;
                        if (0 !== u || 1 != this.imageScale_) {
                            var p = h + this.imageAnchorX_,
                                d = f + this.imageAnchorY_;
                            Zr(a, p, d, this.imageScale_, this.imageScale_, u, -p, -d), i.setTransform.apply(i, a)
                        }
                        i.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, h, f, this.imageWidth_, this.imageHeight_)
                    }
                    0 === u && 1 == this.imageScale_ || i.setTransform(1, 0, 0, 1, 0, 0), 1 != this.imageOpacity_ && (i.globalAlpha = s)
                }
            }, e.prototype.drawText_ = function (t, e, n, r) {
                if (this.textState_ && "" !== this.text_) {
                    this.textFillState_ && this.setContextFillState_(this.textFillState_), this.textStrokeState_ && this.setContextStrokeState_(this.textStrokeState_), this.setContextTextState_(this.textState_);
                    var o = ur(t, e, n, r, this.transform_, this.pixelCoordinates_),
                        i = this.context_,
                        a = this.textRotation_;
                    for (this.textRotateWithView_ && (a += this.viewRotation_); e < n; e += r) {
                        var s = o[e] + this.textOffsetX_,
                            u = o[e + 1] + this.textOffsetY_;
                        if (0 !== a || 1 != this.textScale_) {
                            var c = Zr(this.tmpLocalTransform_, s, u, this.textScale_, this.textScale_, a, -s, -u);
                            i.setTransform.apply(i, c)
                        }
                        this.textStrokeState_ && i.strokeText(this.text_, s, u), this.textFillState_ && i.fillText(this.text_, s, u)
                    }
                    0 === a && 1 == this.textScale_ || i.setTransform(1, 0, 0, 1, 0, 0)
                }
            }, e.prototype.moveToLineTo_ = function (t, e, n, r, o) {
                var i = this.context_,
                    a = ur(t, e, n, r, this.transform_, this.pixelCoordinates_);
                i.moveTo(a[0], a[1]);
                var s = a.length;
                o && (s -= 2);
                for (var u = 2; u < s; u += 2) i.lineTo(a[u], a[u + 1]);
                return o && i.closePath(), n
            }, e.prototype.drawRings_ = function (t, e, n, r) {
                for (var o = 0, i = n.length; o < i; ++o) e = this.moveToLineTo_(t, e, n[o], r, !0);
                return e
            }, e.prototype.drawCircle = function (t) {
                if (Hn(this.extent_, t.getExtent())) {
                    if (this.fillState_ || this.strokeState_) {
                        this.fillState_ && this.setContextFillState_(this.fillState_), this.strokeState_ && this.setContextStrokeState_(this.strokeState_);
                        var e = function (t, e, n) {
                                var r = t.getFlatCoordinates();
                                if (r) {
                                    var o = t.getStride();
                                    return ur(r, 0, r.length, o, e, n)
                                }
                                return null
                            }(t, this.transform_, this.pixelCoordinates_),
                            n = e[2] - e[0],
                            r = e[3] - e[1],
                            o = Math.sqrt(n * n + r * r),
                            i = this.context_;
                        i.beginPath(), i.arc(e[0], e[1], o, 0, 2 * Math.PI), this.fillState_ && i.fill(), this.strokeState_ && i.stroke()
                    }
                    "" !== this.text_ && this.drawText_(t.getCenter(), 0, 2, 2)
                }
            }, e.prototype.setStyle = function (t) {
                this.setFillStrokeStyle(t.getFill(), t.getStroke()), this.setImageStyle(t.getImage()), this.setTextStyle(t.getText())
            }, e.prototype.setTransform = function (t) {
                this.transform_ = t
            }, e.prototype.drawGeometry = function (t) {
                switch (t.getType()) {
                    case "Point":
                        this.drawPoint(t);
                        break;
                    case "LineString":
                        this.drawLineString(t);
                        break;
                    case "Polygon":
                        this.drawPolygon(t);
                        break;
                    case "MultiPoint":
                        this.drawMultiPoint(t);
                        break;
                    case "MultiLineString":
                        this.drawMultiLineString(t);
                        break;
                    case "MultiPolygon":
                        this.drawMultiPolygon(t);
                        break;
                    case "GeometryCollection":
                        this.drawGeometryCollection(t);
                        break;
                    case "Circle":
                        this.drawCircle(t)
                }
            }, e.prototype.drawFeature = function (t, e) {
                var n = e.getGeometryFunction()(t);
                n && Hn(this.extent_, n.getExtent()) && (this.setStyle(e), this.drawGeometry(n))
            }, e.prototype.drawGeometryCollection = function (t) {
                for (var e = t.getGeometriesArray(), n = 0, r = e.length; n < r; ++n) this.drawGeometry(e[n])
            }, e.prototype.drawPoint = function (t) {
                this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_));
                var e = t.getFlatCoordinates(),
                    n = t.getStride();
                this.image_ && this.drawImages_(e, 0, e.length, n), "" !== this.text_ && this.drawText_(e, 0, e.length, n)
            }, e.prototype.drawMultiPoint = function (t) {
                this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_));
                var e = t.getFlatCoordinates(),
                    n = t.getStride();
                this.image_ && this.drawImages_(e, 0, e.length, n), "" !== this.text_ && this.drawText_(e, 0, e.length, n)
            }, e.prototype.drawLineString = function (t) {
                if (this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_)), Hn(this.extent_, t.getExtent())) {
                    if (this.strokeState_) {
                        this.setContextStrokeState_(this.strokeState_);
                        var e = this.context_,
                            n = t.getFlatCoordinates();
                        e.beginPath(), this.moveToLineTo_(n, 0, n.length, t.getStride(), !1), e.stroke()
                    }
                    if ("" !== this.text_) {
                        var r = t.getFlatMidpoint();
                        this.drawText_(r, 0, 2, 2)
                    }
                }
            }, e.prototype.drawMultiLineString = function (t) {
                this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_));
                var e = t.getExtent();
                if (Hn(this.extent_, e)) {
                    if (this.strokeState_) {
                        this.setContextStrokeState_(this.strokeState_);
                        var n = this.context_,
                            r = t.getFlatCoordinates(),
                            o = 0,
                            i = t.getEnds(),
                            a = t.getStride();
                        n.beginPath();
                        for (var s = 0, u = i.length; s < u; ++s) o = this.moveToLineTo_(r, o, i[s], a, !1);
                        n.stroke()
                    }
                    if ("" !== this.text_) {
                        var c = t.getFlatMidpoints();
                        this.drawText_(c, 0, c.length, 2)
                    }
                }
            }, e.prototype.drawPolygon = function (t) {
                if (this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_)), Hn(this.extent_, t.getExtent())) {
                    if (this.strokeState_ || this.fillState_) {
                        this.fillState_ && this.setContextFillState_(this.fillState_), this.strokeState_ && this.setContextStrokeState_(this.strokeState_);
                        var e = this.context_;
                        e.beginPath(), this.drawRings_(t.getOrientedFlatCoordinates(), 0, t.getEnds(), t.getStride()), this.fillState_ && e.fill(), this.strokeState_ && e.stroke()
                    }
                    if ("" !== this.text_) {
                        var n = t.getFlatInteriorPoint();
                        this.drawText_(n, 0, 2, 2)
                    }
                }
            }, e.prototype.drawMultiPolygon = function (t) {
                if (this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_)), Hn(this.extent_, t.getExtent())) {
                    if (this.strokeState_ || this.fillState_) {
                        this.fillState_ && this.setContextFillState_(this.fillState_), this.strokeState_ && this.setContextStrokeState_(this.strokeState_);
                        var e = this.context_,
                            n = t.getOrientedFlatCoordinates(),
                            r = 0,
                            o = t.getEndss(),
                            i = t.getStride();
                        e.beginPath();
                        for (var a = 0, s = o.length; a < s; ++a) {
                            var u = o[a];
                            r = this.drawRings_(n, r, u, i)
                        }
                        this.fillState_ && e.fill(), this.strokeState_ && e.stroke()
                    }
                    if ("" !== this.text_) {
                        var c = t.getFlatInteriorPoints();
                        this.drawText_(c, 0, c.length, 2)
                    }
                }
            }, e.prototype.setContextFillState_ = function (t) {
                var e = this.context_,
                    n = this.contextFillState_;
                n ? n.fillStyle != t.fillStyle && (n.fillStyle = t.fillStyle, e.fillStyle = t.fillStyle) : (e.fillStyle = t.fillStyle, this.contextFillState_ = {
                    fillStyle: t.fillStyle
                })
            }, e.prototype.setContextStrokeState_ = function (t) {
                var e = this.context_,
                    n = this.contextStrokeState_;
                n ? (n.lineCap != t.lineCap && (n.lineCap = t.lineCap, e.lineCap = t.lineCap), e.setLineDash && (xe(n.lineDash, t.lineDash) || e.setLineDash(n.lineDash = t.lineDash), n.lineDashOffset != t.lineDashOffset && (n.lineDashOffset = t.lineDashOffset, e.lineDashOffset = t.lineDashOffset)), n.lineJoin != t.lineJoin && (n.lineJoin = t.lineJoin, e.lineJoin = t.lineJoin), n.lineWidth != t.lineWidth && (n.lineWidth = t.lineWidth, e.lineWidth = t.lineWidth), n.miterLimit != t.miterLimit && (n.miterLimit = t.miterLimit, e.miterLimit = t.miterLimit), n.strokeStyle != t.strokeStyle && (n.strokeStyle = t.strokeStyle, e.strokeStyle = t.strokeStyle)) : (e.lineCap = t.lineCap, e.setLineDash && (e.setLineDash(t.lineDash), e.lineDashOffset = t.lineDashOffset), e.lineJoin = t.lineJoin, e.lineWidth = t.lineWidth, e.miterLimit = t.miterLimit, e.strokeStyle = t.strokeStyle, this.contextStrokeState_ = {
                    lineCap: t.lineCap,
                    lineDash: t.lineDash,
                    lineDashOffset: t.lineDashOffset,
                    lineJoin: t.lineJoin,
                    lineWidth: t.lineWidth,
                    miterLimit: t.miterLimit,
                    strokeStyle: t.strokeStyle
                })
            }, e.prototype.setContextTextState_ = function (t) {
                var e = this.context_,
                    n = this.contextTextState_,
                    r = t.textAlign ? t.textAlign : "center";
                n ? (n.font != t.font && (n.font = t.font, e.font = t.font), n.textAlign != r && (n.textAlign = r, e.textAlign = r), n.textBaseline != t.textBaseline && (n.textBaseline = t.textBaseline, e.textBaseline = t.textBaseline)) : (e.font = t.font, e.textAlign = r, e.textBaseline = t.textBaseline, this.contextTextState_ = {
                    font: t.font,
                    textAlign: r,
                    textBaseline: t.textBaseline
                })
            }, e.prototype.setFillStrokeStyle = function (t, e) {
                if (t) {
                    var n = t.getColor();
                    this.fillState_ = {
                        fillStyle: wa(n || "#000")
                    }
                } else this.fillState_ = null;
                if (e) {
                    var r = e.getColor(),
                        o = e.getLineCap(),
                        i = e.getLineDash(),
                        a = e.getLineDashOffset(),
                        s = e.getLineJoin(),
                        u = e.getWidth(),
                        c = e.getMiterLimit();
                    this.strokeState_ = {
                        lineCap: void 0 !== o ? o : "round",
                        lineDash: i || Ca,
                        lineDashOffset: a || 0,
                        lineJoin: void 0 !== s ? s : "round",
                        lineWidth: this.pixelRatio_ * (void 0 !== u ? u : 1),
                        miterLimit: void 0 !== c ? c : 10,
                        strokeStyle: wa(r || "#000")
                    }
                } else this.strokeState_ = null
            }, e.prototype.setImageStyle = function (t) {
                if (t) {
                    var e = t.getAnchor(),
                        n = t.getImage(1),
                        r = t.getOrigin(),
                        o = t.getSize();
                    this.imageAnchorX_ = e[0], this.imageAnchorY_ = e[1], this.imageHeight_ = o[1], this.image_ = n, this.imageOpacity_ = t.getOpacity(), this.imageOriginX_ = r[0], this.imageOriginY_ = r[1], this.imageRotateWithView_ = t.getRotateWithView(), this.imageRotation_ = t.getRotation(), this.imageScale_ = t.getScale() * this.pixelRatio_, this.imageWidth_ = o[0]
                } else this.image_ = null
            }, e.prototype.setTextStyle = function (t) {
                if (t) {
                    var e = t.getFill();
                    if (e) {
                        var n = e.getColor();
                        this.textFillState_ = {
                            fillStyle: wa(n || "#000")
                        }
                    } else this.textFillState_ = null;
                    var r = t.getStroke();
                    if (r) {
                        var o = r.getColor(),
                            i = r.getLineCap(),
                            a = r.getLineDash(),
                            s = r.getLineDashOffset(),
                            u = r.getLineJoin(),
                            c = r.getWidth(),
                            l = r.getMiterLimit();
                        this.textStrokeState_ = {
                            lineCap: void 0 !== i ? i : "round",
                            lineDash: a || Ca,
                            lineDashOffset: s || 0,
                            lineJoin: void 0 !== u ? u : "round",
                            lineWidth: void 0 !== c ? c : 1,
                            miterLimit: void 0 !== l ? l : 10,
                            strokeStyle: wa(o || "#000")
                        }
                    } else this.textStrokeState_ = null;
                    var h = t.getFont(),
                        f = t.getOffsetX(),
                        p = t.getOffsetY(),
                        d = t.getRotateWithView(),
                        y = t.getRotation(),
                        g = t.getScale(),
                        v = t.getText(),
                        m = t.getTextAlign(),
                        _ = t.getTextBaseline();
                    this.textState_ = {
                        font: void 0 !== h ? h : "10px sans-serif",
                        textAlign: void 0 !== m ? m : "center",
                        textBaseline: void 0 !== _ ? _ : "middle"
                    }, this.text_ = void 0 !== v ? v : "", this.textOffsetX_ = void 0 !== f ? this.pixelRatio_ * f : 0, this.textOffsetY_ = void 0 !== p ? this.pixelRatio_ * p : 0, this.textRotateWithView_ = void 0 !== d && d, this.textRotation_ = void 0 !== y ? y : 0, this.textScale_ = this.pixelRatio_ * (void 0 !== g ? g : 1)
                } else this.text_ = ""
            }, e
        }(Sa),
        za = {
            Point: function (t, e, n, r) {
                var o = n.getImage();
                if (o) {
                    if (2 != o.getImageState()) return;
                    var i = t.getBuilder(n.getZIndex(), "Image");
                    i.setImageStyle(o, t.addDeclutter(!1)), i.drawPoint(e, r)
                }
                var a = n.getText();
                if (a) {
                    var s = t.getBuilder(n.getZIndex(), "Text");
                    s.setTextStyle(a, t.addDeclutter(!!o)), s.drawText(e, r)
                }
            },
            LineString: function (t, e, n, r) {
                var o = n.getStroke();
                if (o) {
                    var i = t.getBuilder(n.getZIndex(), "LineString");
                    i.setFillStrokeStyle(null, o), i.drawLineString(e, r)
                }
                var a = n.getText();
                if (a) {
                    var s = t.getBuilder(n.getZIndex(), "Text");
                    s.setTextStyle(a, t.addDeclutter(!1)), s.drawText(e, r)
                }
            },
            Polygon: function (t, e, n, r) {
                var o = n.getFill(),
                    i = n.getStroke();
                if (o || i) {
                    var a = t.getBuilder(n.getZIndex(), "Polygon");
                    a.setFillStrokeStyle(o, i), a.drawPolygon(e, r)
                }
                var s = n.getText();
                if (s) {
                    var u = t.getBuilder(n.getZIndex(), "Text");
                    u.setTextStyle(s, t.addDeclutter(!1)), u.drawText(e, r)
                }
            },
            MultiPoint: function (t, e, n, r) {
                var o = n.getImage();
                if (o) {
                    if (2 != o.getImageState()) return;
                    var i = t.getBuilder(n.getZIndex(), "Image");
                    i.setImageStyle(o, t.addDeclutter(!1)), i.drawMultiPoint(e, r)
                }
                var a = n.getText();
                if (a) {
                    var s = t.getBuilder(n.getZIndex(), "Text");
                    s.setTextStyle(a, t.addDeclutter(!!o)), s.drawText(e, r)
                }
            },
            MultiLineString: function (t, e, n, r) {
                var o = n.getStroke();
                if (o) {
                    var i = t.getBuilder(n.getZIndex(), "LineString");
                    i.setFillStrokeStyle(null, o), i.drawMultiLineString(e, r)
                }
                var a = n.getText();
                if (a) {
                    var s = t.getBuilder(n.getZIndex(), "Text");
                    s.setTextStyle(a, t.addDeclutter(!1)), s.drawText(e, r)
                }
            },
            MultiPolygon: function (t, e, n, r) {
                var o = n.getFill(),
                    i = n.getStroke();
                if (i || o) {
                    var a = t.getBuilder(n.getZIndex(), "Polygon");
                    a.setFillStrokeStyle(o, i), a.drawMultiPolygon(e, r)
                }
                var s = n.getText();
                if (s) {
                    var u = t.getBuilder(n.getZIndex(), "Text");
                    u.setTextStyle(s, t.addDeclutter(!1)), u.drawText(e, r)
                }
            },
            GeometryCollection: function (t, e, n, r) {
                var o, i, a = e.getGeometriesArray();
                for (o = 0, i = a.length; o < i; ++o)(0, za[a[o].getType()])(t, a[o], n, r)
            },
            Circle: function (t, e, n, r) {
                var o = n.getFill(),
                    i = n.getStroke();
                if (o || i) {
                    var a = t.getBuilder(n.getZIndex(), "Circle");
                    a.setFillStrokeStyle(o, i), a.drawCircle(e, r)
                }
                var s = n.getText();
                if (s) {
                    var u = t.getBuilder(n.getZIndex(), "Text");
                    u.setTextStyle(s, t.addDeclutter(!1)), u.drawText(e, r)
                }
            }
        };

    function Ba(t, e) {
        return parseInt(oe(t), 10) - parseInt(oe(e), 10)
    }

    function Ua(t, e) {
        return .5 * t / e
    }

    function Xa(t, e, n, r, o, i) {
        var a = !1,
            s = n.getImage();
        if (s) {
            var u = s.getImageState();
            2 == u || 3 == u ? s.unlistenImageChange(o) : (0 == u && s.load(), u = s.getImageState(), s.listenImageChange(o), a = !0)
        }
        return function (t, e, n, r, o) {
            var i = n.getGeometryFunction()(e);
            if (i) {
                var a = i.simplifyTransformed(r, o);
                n.getRenderer() ? function t(e, n, r, o) {
                    if ("GeometryCollection" != n.getType()) e.getBuilder(r.getZIndex(), "Default").drawCustom(n, o, r.getRenderer());
                    else
                        for (var i = n.getGeometries(), a = 0, s = i.length; a < s; ++a) t(e, i[a], r, o)
                }(t, a, n, e) : (0, za[a.getType()])(t, a, n, e)
            }
        }(t, e, n, r, i), a
    }

    function Wa(t, e) {
        e && e.clear();
        for (var n = t.declutterItems, r = n.length - 1; r >= 0; --r)
            for (var o = n[r], i = o.items, a = 0, s = i.length; a < s; a += 3) e = i[a].renderDeclutter(i[a + 1], i[a + 2], o.opacity, e);
        return n.length = 0, e
    }
    var Va = function () {
        var t = function (e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                } || function (t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(e, n)
        };
        return function (e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();

    function Ha(t, e) {
        xa.expire()
    }
    var Ya = function (t) {
            function e(e) {
                var n = t.call(this) || this;
                return n.map_ = e, n.declutterTree_ = null, n
            }
            return Va(e, t), e.prototype.dispatchRenderEvent = function (t, e) {
                ne()
            }, e.prototype.calculateMatrices2D = function (t) {
                var e = t.viewState,
                    n = t.coordinateToPixelTransform,
                    r = t.pixelToCoordinateTransform;
                Zr(n, t.size[0] / 2, t.size[1] / 2, 1 / e.resolution, -1 / e.resolution, -e.rotation, -e.center[0], -e.center[1]), qr(r, n)
            }, e.prototype.forEachFeatureAtCoordinate = function (t, e, n, r, o, i, a, s) {
                var u, c = e.viewState;

                function l(t, e, n) {
                    return o.call(i, e, t ? n : null)
                }
                var h = c.projection,
                    f = t,
                    p = [
                        [0, 0]
                    ];
                if (h.canWrapX()) {
                    var d = h.getExtent(),
                        y = Vn(d),
                        g = t[0];
                    (g < d[0] || g > d[2]) && (f = [g + y * Math.ceil((d[0] - g) / y), t[1]]), r && p.push([-y, 0], [y, 0])
                }
                var v, m = e.layerStatesArray,
                    _ = m.length;
                this.declutterTree_ && (v = this.declutterTree_.all().map((function (t) {
                    return t.value
                })));
                for (var b = [], x = 0; x < p.length; x++)
                    for (var w = _ - 1; w >= 0; --w) {
                        var S = m[w],
                            C = S.layer;
                        if (C.hasRenderer() && li(S, c) && a.call(s, C)) {
                            var E = C.getRenderer(),
                                T = C.getSource();
                            if (E && T) {
                                var O = T.getWrapX() ? f : t,
                                    P = l.bind(null, S.managed);
                                b[0] = O[0] + p[x][0], b[1] = O[1] + p[x][1], u = E.forEachFeatureAtCoordinate(b, e, n, P, v)
                            }
                            if (u) return u
                        }
                    }
            }, e.prototype.forEachLayerAtPixel = function (t, e, n, r, o) {
                return ne()
            }, e.prototype.hasFeatureAtCoordinate = function (t, e, n, r, o, i) {
                return void 0 !== this.forEachFeatureAtCoordinate(t, e, n, r, we, this, o, i)
            }, e.prototype.getMap = function () {
                return this.map_
            }, e.prototype.renderFrame = function (t) {
                this.declutterTree_ = Wa(t, this.declutterTree_)
            }, e.prototype.scheduleExpireIconCache = function (t) {
                xa.canExpireCache() && t.postRenderFunctions.push(Ha)
            }, e
        }(ye),
        Za = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        qa = function (t) {
            function e(e) {
                var n = t.call(this, e) || this;
                n.fontChangeListenerKey_ = fe(Ta, "propertychange", e.redrawText.bind(e)), n.element_ = document.createElement("div");
                var r = n.element_.style;
                r.position = "absolute", r.width = "100%", r.height = "100%", r.zIndex = "0", n.element_.className = "ol-unselectable ol-layers";
                var o = e.getViewport();
                return o.insertBefore(n.element_, o.firstChild || null), n.children_ = [], n.renderedVisible_ = !0, n
            }
            return Za(e, t), e.prototype.dispatchRenderEvent = function (t, e) {
                var n = this.getMap();
                if (n.hasListener(t)) {
                    var r = new pa(t, void 0, e);
                    n.dispatchEvent(r)
                }
            }, e.prototype.disposeInternal = function () {
                de(this.fontChangeListenerKey_), this.element_.parentNode.removeChild(this.element_), t.prototype.disposeInternal.call(this)
            }, e.prototype.renderFrame = function (e) {
                if (e) {
                    this.calculateMatrices2D(e), this.dispatchRenderEvent("precompose", e);
                    var n = e.layerStatesArray.sort((function (t, e) {
                            return t.zIndex - e.zIndex
                        })),
                        r = e.viewState;
                    this.children_.length = 0;
                    for (var o = null, i = 0, a = n.length; i < a; ++i) {
                        var s = n[i];
                        if (e.layerIndex = i, li(s, r) && ("ready" == s.sourceState || "undefined" == s.sourceState)) {
                            var u = s.layer.render(e, o);
                            u && u !== o && (this.children_.push(u), o = u)
                        }
                    }
                    t.prototype.renderFrame.call(this, e),
                        function (t, e) {
                            for (var n = t.childNodes, r = 0;; ++r) {
                                var o = n[r],
                                    i = e[r];
                                if (!o && !i) break;
                                o !== i && (o ? i ? t.insertBefore(i, o) : (t.removeChild(o), --r) : t.appendChild(i))
                            }
                        }(this.element_, this.children_), this.dispatchRenderEvent("postcompose", e), this.renderedVisible_ || (this.element_.style.display = "", this.renderedVisible_ = !0), this.scheduleExpireIconCache(e)
                } else this.renderedVisible_ && (this.element_.style.display = "none", this.renderedVisible_ = !1)
            }, e.prototype.forEachLayerAtPixel = function (t, e, n, r, o) {
                for (var i = e.viewState, a = e.layerStatesArray, s = a.length - 1; s >= 0; --s) {
                    var u = a[s],
                        c = u.layer;
                    if (c.hasRenderer() && li(u, i) && o(c)) {
                        var l = c.getRenderer().getDataAtPixel(t, e, n);
                        if (l) {
                            var h = r(c, l);
                            if (h) return h
                        }
                    }
                }
            }, e
        }(Ya),
        Ka = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        $a = function (t) {
            function e(e) {
                return (e = ue({}, e)).controls || (e.controls = function (t) {
                    var e = {},
                        n = new ze;
                    return (void 0 === e.zoom || e.zoom) && n.push(new _i(e.zoomOptions)), (void 0 === e.rotate || e.rotate) && n.push(new vi(e.rotateOptions)), (void 0 === e.attribution || e.attribution) && n.push(new di(e.attributionOptions)), n
                }()), e.interactions || (e.interactions = function (t) {
                    var e = {},
                        n = new ze,
                        r = new bi(-.005, .05, 100);
                    return (void 0 === e.altShiftDragRotate || e.altShiftDragRotate) && n.push(new Vi), (void 0 === e.doubleClickZoom || e.doubleClickZoom) && n.push(new Ti({
                        delta: e.zoomDelta,
                        duration: e.zoomDuration
                    })), (void 0 === e.dragPan || e.dragPan) && n.push(new Xi({
                        condition: e.onFocusOnly ? Pi : void 0,
                        kinetic: r
                    })), (void 0 === e.pinchRotate || e.pinchRotate) && n.push(new ca), (void 0 === e.pinchZoom || e.pinchZoom) && n.push(new ha({
                        duration: e.zoomDuration
                    })), (void 0 === e.keyboard || e.keyboard) && (n.push(new na), n.push(new ia({
                        delta: e.zoomDelta,
                        duration: e.zoomDuration
                    }))), (void 0 === e.mouseWheelZoom || e.mouseWheelZoom) && n.push(new sa({
                        condition: e.onFocusOnly ? Pi : void 0,
                        duration: e.zoomDuration
                    })), (void 0 === e.shiftDragZoom || e.shiftDragZoom) && n.push(new Qi({
                        duration: e.zoomDuration
                    })), n
                }()), t.call(this, e) || this
            }
            return Ka(e, t), e.prototype.createRenderer = function () {
                return new qa(this)
            }, e
        }(ii),
        Ja = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Qa = function (t) {
            function e(e) {
                var n = this,
                    r = e || {},
                    o = ue({}, r);
                return delete o.preload, delete o.useInterimTilesOnError, (n = t.call(this, o) || this).setPreload(void 0 !== r.preload ? r.preload : 0), n.setUseInterimTilesOnError(void 0 === r.useInterimTilesOnError || r.useInterimTilesOnError), n
            }
            return Ja(e, t), e.prototype.getPreload = function () {
                return this.get("preload")
            }, e.prototype.setPreload = function (t) {
                this.set("preload", t)
            }, e.prototype.getUseInterimTilesOnError = function () {
                return this.get("useInterimTilesOnError")
            }, e.prototype.setUseInterimTilesOnError = function (t) {
                this.set("useInterimTilesOnError", t)
            }, e
        }(hi),
        ts = function () {
            function t(t, e, n, r) {
                this.minX = t, this.maxX = e, this.minY = n, this.maxY = r
            }
            return t.prototype.contains = function (t) {
                return this.containsXY(t[1], t[2])
            }, t.prototype.containsTileRange = function (t) {
                return this.minX <= t.minX && t.maxX <= this.maxX && this.minY <= t.minY && t.maxY <= this.maxY
            }, t.prototype.containsXY = function (t, e) {
                return this.minX <= t && t <= this.maxX && this.minY <= e && e <= this.maxY
            }, t.prototype.equals = function (t) {
                return this.minX == t.minX && this.minY == t.minY && this.maxX == t.maxX && this.maxY == t.maxY
            }, t.prototype.extend = function (t) {
                t.minX < this.minX && (this.minX = t.minX), t.maxX > this.maxX && (this.maxX = t.maxX), t.minY < this.minY && (this.minY = t.minY), t.maxY > this.maxY && (this.maxY = t.maxY)
            }, t.prototype.getHeight = function () {
                return this.maxY - this.minY + 1
            }, t.prototype.getSize = function () {
                return [this.getWidth(), this.getHeight()]
            }, t.prototype.getWidth = function () {
                return this.maxX - this.minX + 1
            }, t.prototype.intersects = function (t) {
                return this.minX <= t.maxX && this.maxX >= t.minX && this.minY <= t.maxY && this.maxY >= t.minY
            }, t
        }();

    function es(t, e, n, r, o) {
        return void 0 !== o ? (o.minX = t, o.maxX = e, o.minY = n, o.maxY = r, o) : new ts(t, e, n, r)
    }
    var ns = ts,
        rs = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        os = function (t) {
            function e(e) {
                var n = t.call(this) || this;
                return n.boundHandleImageChange_ = n.handleImageChange_.bind(n), n.layer_ = e, n
            }
            return rs(e, t), e.prototype.getFeatures = function (t) {
                return ne()
            }, e.prototype.prepareFrame = function (t) {
                return ne()
            }, e.prototype.renderFrame = function (t, e) {
                return ne()
            }, e.prototype.loadedTileCallback = function (t, e, n) {
                t[e] || (t[e] = {}), t[e][n.tileCoord.toString()] = n
            }, e.prototype.createLoadedTileFinder = function (t, e, n) {
                return function (r, o) {
                    var i = this.loadedTileCallback.bind(this, n, r);
                    return t.forEachLoadedTile(e, r, o, i)
                }.bind(this)
            }, e.prototype.forEachFeatureAtCoordinate = function (t, e, n, r, o) {}, e.prototype.getDataAtPixel = function (t, e, n) {
                return ne()
            }, e.prototype.getLayer = function () {
                return this.layer_
            }, e.prototype.handleFontsChanged = function () {}, e.prototype.handleImageChange_ = function (t) {
                2 === t.target.getState() && this.renderIfReadyAndVisible()
            }, e.prototype.loadImage = function (t) {
                var e = t.getState();
                return 2 != e && 3 != e && t.addEventListener("change", this.boundHandleImageChange_), 0 == e && (t.load(), e = t.getState()), 2 == e
            }, e.prototype.renderIfReadyAndVisible = function () {
                var t = this.getLayer();
                t.getVisible() && "ready" == t.getSourceState() && t.changed()
            }, e
        }(Ie),
        is = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        as = function (t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.container = null, n.renderedResolution, n.tempTransform_ = [1, 0, 0, 1, 0, 0], n.pixelTransform = [1, 0, 0, 1, 0, 0], n.inversePixelTransform = [1, 0, 0, 1, 0, 0], n.context = null, n.containerReused = !1, n.createTransformStringCanvas_ = Vo(1, 1).canvas, n
            }
            return is(e, t), e.prototype.useContainer = function (t, e, n) {
                var r, o, i = this.getLayer().getClassName();
                if (t && "" === t.style.opacity && t.className === i && (s = t.firstElementChild) instanceof HTMLCanvasElement && (o = s.getContext("2d")), o && o.canvas.style.transform === e ? (this.container = t, this.context = o, this.containerReused = !0) : this.containerReused && (this.container = null, this.context = null, this.containerReused = !1), !this.container) {
                    (r = document.createElement("div")).className = i;
                    var a = r.style;
                    a.position = "absolute", a.width = "100%", a.height = "100%";
                    var s = (o = Vo()).canvas;
                    r.appendChild(s), (a = s.style).position = "absolute", a.left = "0", a.transformOrigin = "top left", this.container = r, this.context = o
                }
            }, e.prototype.clip = function (t, e, n) {
                var r = e.pixelRatio,
                    o = e.size[0] * r / 2,
                    i = e.size[1] * r / 2,
                    a = e.viewState.rotation,
                    s = Xn(n),
                    u = Wn(n),
                    c = Fn(n),
                    l = Dn(n);
                Yr(e.coordinateToPixelTransform, s), Yr(e.coordinateToPixelTransform, u), Yr(e.coordinateToPixelTransform, c), Yr(e.coordinateToPixelTransform, l), t.save(), Da(t, -a, o, i), t.beginPath(), t.moveTo(s[0] * r, s[1] * r), t.lineTo(u[0] * r, u[1] * r), t.lineTo(c[0] * r, c[1] * r), t.lineTo(l[0] * r, l[1] * r), t.clip(), Da(t, a, o, i)
            }, e.prototype.clipUnrotated = function (t, e, n) {
                var r = Xn(n),
                    o = Wn(n),
                    i = Fn(n),
                    a = Dn(n);
                Yr(e.coordinateToPixelTransform, r), Yr(e.coordinateToPixelTransform, o), Yr(e.coordinateToPixelTransform, i), Yr(e.coordinateToPixelTransform, a);
                var s = this.inversePixelTransform;
                Yr(s, r), Yr(s, o), Yr(s, i), Yr(s, a), t.save(), t.beginPath(), t.moveTo(Math.round(r[0]), Math.round(r[1])), t.lineTo(Math.round(o[0]), Math.round(o[1])), t.lineTo(Math.round(i[0]), Math.round(i[1])), t.lineTo(Math.round(a[0]), Math.round(a[1])), t.clip()
            }, e.prototype.dispatchRenderEvent_ = function (t, e, n) {
                var r = this.getLayer();
                if (r.hasListener(t)) {
                    var o = new pa(t, this.inversePixelTransform, n, e);
                    r.dispatchEvent(o)
                }
            }, e.prototype.preRender = function (t, e) {
                this.dispatchRenderEvent_("prerender", t, e)
            }, e.prototype.postRender = function (t, e) {
                this.dispatchRenderEvent_("postrender", t, e)
            }, e.prototype.getRenderTransform = function (t, e, n, r, o, i, a) {
                var s = o / 2,
                    u = i / 2,
                    c = r / e,
                    l = -c,
                    h = -t[0] + a,
                    f = -t[1];
                return Zr(this.tempTransform_, s, u, c, l, -n, h, f)
            }, e.prototype.getDataAtPixel = function (t, e, n) {
                var r, o = Yr(this.inversePixelTransform, t.slice()),
                    i = this.context;
                try {
                    r = i.getImageData(Math.round(o[0]), Math.round(o[1]), 1, 1).data
                } catch (t) {
                    return "SecurityError" === t.name ? new Uint8Array : r
                }
                return 0 === r[3] ? null : r
            }, e.prototype.createTransformString = function (t) {
                return this.createTransformStringCanvas_.style.transform = Kr(t), this.createTransformStringCanvas_.style.transform
            }, e
        }(os),
        ss = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        us = function (t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.extentChanged = !0, n.renderedExtent_ = null, n.renderedPixelRatio, n.renderedProjection = null, n.renderedRevision, n.renderedTiles = [], n.newTiles_ = !1, n.tmpExtent = [1 / 0, 1 / 0, -1 / 0, -1 / 0], n.tmpTileRange_ = new ns(0, 0, 0, 0), n
            }
            return ss(e, t), e.prototype.isDrawableTile = function (t) {
                var e = this.getLayer(),
                    n = t.getState(),
                    r = e.getUseInterimTilesOnError();
                return 2 == n || 4 == n || 3 == n && !r
            }, e.prototype.getTile = function (t, e, n, r) {
                var o = r.pixelRatio,
                    i = r.viewState.projection,
                    a = this.getLayer(),
                    s = a.getSource().getTile(t, e, n, o, i);
                return 3 == s.getState() && (a.getUseInterimTilesOnError() ? a.getPreload() > 0 && (this.newTiles_ = !0) : s.setState(2)), this.isDrawableTile(s) || (s = s.getInterimTile()), s
            }, e.prototype.loadedTileCallback = function (e, n, r) {
                return !!this.isDrawableTile(r) && t.prototype.loadedTileCallback.call(this, e, n, r)
            }, e.prototype.prepareFrame = function (t) {
                return !!this.getLayer().getSource()
            }, e.prototype.renderFrame = function (t, e) {
                var n = t.layerStatesArray[t.layerIndex],
                    r = t.viewState,
                    o = r.projection,
                    i = r.resolution,
                    a = r.center,
                    s = r.rotation,
                    u = t.pixelRatio,
                    c = this.getLayer(),
                    l = c.getSource(),
                    h = l.getRevision(),
                    f = l.getTileGridForProjection(o),
                    p = f.getZForResolution(i, l.zDirection),
                    d = f.getResolution(p),
                    y = t.extent,
                    g = n.extent && Ur(n.extent);
                g && (y = Un(y, Ur(n.extent)));
                var v = l.getTilePixelRatio(u),
                    m = Math.round(t.size[0] * v),
                    _ = Math.round(t.size[1] * v);
                if (s) {
                    var b = Math.round(Math.sqrt(m * m + _ * _));
                    m = b, _ = b
                }
                var x = d * m / 2 / v,
                    w = d * _ / 2 / v,
                    S = [a[0] - x, a[1] - w, a[0] + x, a[1] + w],
                    C = f.getTileRangeForExtentAndZ(y, p),
                    E = {};
                E[p] = {};
                var T = this.createLoadedTileFinder(l, o, E),
                    O = this.tmpExtent,
                    P = this.tmpTileRange_;
                this.newTiles_ = !1;
                for (var A = C.minX; A <= C.maxX; ++A)
                    for (var R = C.minY; R <= C.maxY; ++R) {
                        var I = this.getTile(p, A, R, t);
                        if (this.isDrawableTile(I)) {
                            var k = oe(this);
                            if (2 == I.getState()) {
                                E[p][I.tileCoord.toString()] = I;
                                var L = I.inTransition(k);
                                this.newTiles_ || !L && -1 !== this.renderedTiles.indexOf(I) || (this.newTiles_ = !0)
                            }
                            if (1 === I.getAlpha(k, t.time)) continue
                        }
                        var j = f.getTileCoordChildTileRange(I.tileCoord, P, O),
                            M = !1;
                        j && (M = T(p + 1, j)), M || f.forEachTileCoordParentTileRange(I.tileCoord, T, P, O)
                    }
                var D = d / i;
                Zr(this.pixelTransform, t.size[0] / 2, t.size[1] / 2, 1 / v, 1 / v, s, -m / 2, -_ / 2);
                var F = this.createTransformString(this.pixelTransform);
                this.useContainer(e, F, n.opacity);
                var G = this.context,
                    N = G.canvas;
                qr(this.inversePixelTransform, this.pixelTransform), Zr(this.tempTransform_, m / 2, _ / 2, D, D, 0, -m / 2, -_ / 2), N.width != m || N.height != _ ? (N.width = m, N.height = _) : this.containerReused || G.clearRect(0, 0, m, _), g && this.clipUnrotated(G, t, g), this.preRender(G, t), this.renderedTiles.length = 0;
                var z, B, U, X = Object.keys(E).map(Number);
                X.sort(ge), 1 !== n.opacity || this.containerReused && !l.getOpaque(t.viewState.projection) ? (z = [], B = []) : X = X.reverse();
                for (var W = X.length - 1; W >= 0; --W) {
                    var V = X[W],
                        H = l.getTilePixelSize(V, u, o),
                        Y = f.getResolution(V) / d,
                        Z = H[0] * Y * D,
                        q = H[1] * Y * D,
                        K = f.getTileCoordForCoordAndZ(Xn(S), V),
                        $ = f.getTileCoordExtent(K),
                        J = Yr(this.tempTransform_, [v * ($[0] - S[0]) / d, v * (S[3] - $[3]) / d]),
                        Q = v * l.getGutterForProjection(o),
                        tt = E[V];
                    for (var et in tt) {
                        var nt = (I = tt[et]).tileCoord,
                            rt = J[0] - (K[1] - nt[1]) * Z,
                            ot = Math.round(rt + Z),
                            it = J[1] - (K[2] - nt[2]) * q,
                            at = Math.round(it + q),
                            st = ot - (A = Math.round(rt)),
                            ut = at - (R = Math.round(it)),
                            ct = p === V;
                        if (!(L = ct && 1 !== I.getAlpha(oe(this), t.time)))
                            if (z) {
                                G.save(), U = [A, R, A + st, R, A + st, R + ut, A, R + ut];
                                for (var lt = 0, ht = z.length; lt < ht; ++lt)
                                    if (p !== V && V < B[lt]) {
                                        var ft = z[lt];
                                        G.beginPath(), G.moveTo(U[0], U[1]), G.lineTo(U[2], U[3]), G.lineTo(U[4], U[5]), G.lineTo(U[6], U[7]), G.moveTo(ft[6], ft[7]), G.lineTo(ft[4], ft[5]), G.lineTo(ft[2], ft[3]), G.lineTo(ft[0], ft[1]), G.clip()
                                    } z.push(U), B.push(V)
                            } else G.clearRect(A, R, st, ut);
                        this.drawTileImage(I, t, A, R, st, ut, Q, ct, n.opacity), z && !L && G.restore(), this.renderedTiles.push(I), this.updateUsedTiles(t.usedTiles, l, I)
                    }
                }
                return this.renderedRevision = h, this.renderedResolution = d, this.extentChanged = !this.renderedExtent_ || !An(this.renderedExtent_, S), this.renderedExtent_ = S, this.renderedPixelRatio = u, this.renderedProjection = o, this.manageTilePyramid(t, l, f, u, o, y, p, c.getPreload()), this.scheduleExpireCache(t, l), this.postRender(G, t), n.extent && G.restore(), F !== N.style.transform && (N.style.transform = F), this.container
            }, e.prototype.drawTileImage = function (t, e, n, r, o, i, a, s, u) {
                var c = this.getTileImage(t);
                if (c) {
                    var l = oe(this),
                        h = s ? t.getAlpha(l, e.time) : 1,
                        f = u * h,
                        p = f !== this.context.globalAlpha;
                    p && (this.context.save(), this.context.globalAlpha = f), this.context.drawImage(c, a, a, c.width - 2 * a, c.height - 2 * a, n, r, o, i), p && this.context.restore(), 1 !== h ? e.animate = !0 : s && t.endTransition(l)
                }
            }, e.prototype.getImage = function () {
                var t = this.context;
                return t ? t.canvas : null
            }, e.prototype.getTileImage = function (t) {
                return t.getImage()
            }, e.prototype.scheduleExpireCache = function (t, e) {
                if (e.canExpireCache()) {
                    var n = function (t, e, n) {
                        var r = oe(t);
                        r in n.usedTiles && t.expireCache(n.viewState.projection, n.usedTiles[r])
                    }.bind(null, e);
                    t.postRenderFunctions.push(n)
                }
            }, e.prototype.updateUsedTiles = function (t, e, n) {
                var r = oe(e);
                r in t || (t[r] = {}), t[r][n.getKey()] = !0
            }, e.prototype.manageTilePyramid = function (t, e, n, r, o, i, a, s, u) {
                var c = oe(e);
                c in t.wantedTiles || (t.wantedTiles[c] = {});
                var l, h, f, p, d, y, g = t.wantedTiles[c],
                    v = t.tileQueue;
                for (y = n.getMinZoom(); y <= a; ++y)
                    for (h = n.getTileRangeForExtentAndZ(i, y, h), f = n.getResolution(y), p = h.minX; p <= h.maxX; ++p)
                        for (d = h.minY; d <= h.maxY; ++d) a - y <= s ? (0 == (l = e.getTile(y, p, d, r, o)).getState() && (g[l.getKey()] = !0, v.isKeyQueued(l.getKey()) || v.enqueue([l, c, n.getTileCoordCenter(l.tileCoord), f])), void 0 !== u && u(l)) : e.useTile(y, p, d, o)
            }, e
        }(as);
    us.prototype.getLayer;
    var cs = us,
        ls = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        hs = function (t) {
            function e(e) {
                return t.call(this, e) || this
            }
            return ls(e, t), e.prototype.createRenderer = function () {
                return new cs(this)
            }, e
        }(Qa),
        fs = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        ps = function (t) {
            function e(e, n, r) {
                var o = t.call(this) || this,
                    i = r || {};
                return o.tileCoord = e, o.state = n, o.interimTile = null, o.hifi = !0, o.key = "", o.transition_ = void 0 === i.transition ? 250 : i.transition, o.transitionStarts_ = {}, o
            }
            return fs(e, t), e.prototype.changed = function () {
                this.dispatchEvent("change")
            }, e.prototype.release = function () {}, e.prototype.getKey = function () {
                return this.key + "/" + this.tileCoord
            }, e.prototype.getInterimTile = function () {
                if (!this.interimTile) return this;
                var t = this.interimTile;
                do {
                    if (2 == t.getState()) return this.transition_ = 0, t;
                    t = t.interimTile
                } while (t);
                return this
            }, e.prototype.refreshInterimChain = function () {
                if (this.interimTile) {
                    var t = this.interimTile,
                        e = this;
                    do {
                        if (2 == t.getState()) {
                            t.interimTile = null;
                            break
                        }
                        1 == t.getState() ? e = t : 0 == t.getState() ? e.interimTile = t.interimTile : e = t, t = e.interimTile
                    } while (t)
                }
            }, e.prototype.getTileCoord = function () {
                return this.tileCoord
            }, e.prototype.getState = function () {
                return this.state
            }, e.prototype.setState = function (t) {
                if (3 !== this.state && this.state > t) throw new Error("Tile load sequence violation");
                this.state = t, this.changed()
            }, e.prototype.load = function () {
                ne()
            }, e.prototype.getAlpha = function (t, e) {
                if (!this.transition_) return 1;
                var n = this.transitionStarts_[t];
                if (n) {
                    if (-1 === n) return 1
                } else n = e, this.transitionStarts_[t] = n;
                var r = e - n + 1e3 / 60;
                return r >= this.transition_ ? 1 : or(r / this.transition_)
            }, e.prototype.inTransition = function (t) {
                return !!this.transition_ && -1 !== this.transitionStarts_[t]
            }, e.prototype.endTransition = function (t) {
                this.transition_ && (this.transitionStarts_[t] = -1)
            }, e
        }(Pe),
        ds = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        ys = function (t) {
            function e(e, n, r, o) {
                var i = t.call(this) || this;
                return i.extent = e, i.pixelRatio_ = r, i.resolution = n, i.state = o, i
            }
            return ds(e, t), e.prototype.changed = function () {
                this.dispatchEvent("change")
            }, e.prototype.getExtent = function () {
                return this.extent
            }, e.prototype.getImage = function () {
                return ne()
            }, e.prototype.getPixelRatio = function () {
                return this.pixelRatio_
            }, e.prototype.getResolution = function () {
                return this.resolution
            }, e.prototype.getState = function () {
                return this.state
            }, e.prototype.load = function () {
                ne()
            }, e
        }(Pe),
        gs = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function vs(t, e, n) {
        var r = t;
        if (r.src && Ke) {
            var o = r.decode(),
                i = !0;
            return o.then((function () {
                    i && e()
                })).catch((function (t) {
                    i && ("EncodingError" === t.name && "Invalid image type." === t.message ? e() : n())
                })),
                function () {
                    i = !1
                }
        }
        var a = [pe(r, "load", e), pe(r, "error", n)];
        return function () {
            a.forEach(de)
        }
    }
    var ms = function (t) {
            function e(e, n, r, o, i, a) {
                var s = t.call(this, e, n, r, 0) || this;
                return s.src_ = o, s.image_ = new Image, null !== i && (s.image_.crossOrigin = i), s.unlisten_ = null, s.state = 0, s.imageLoadFunction_ = a, s
            }
            return gs(e, t), e.prototype.getImage = function () {
                return this.image_
            }, e.prototype.handleImageError_ = function () {
                this.state = 3, this.unlistenImage_(), this.changed()
            }, e.prototype.handleImageLoad_ = function () {
                void 0 === this.resolution && (this.resolution = Bn(this.extent) / this.image_.height), this.state = 2, this.unlistenImage_(), this.changed()
            }, e.prototype.load = function () {
                0 != this.state && 3 != this.state || (this.state = 1, this.changed(), this.imageLoadFunction_(this, this.src_), this.unlisten_ = vs(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this)))
            }, e.prototype.setImage = function (t) {
                this.image_ = t
            }, e.prototype.unlistenImage_ = function () {
                this.unlisten_ && (this.unlisten_(), this.unlisten_ = null)
            }, e
        }(ys),
        _s = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        bs = function (t) {
            function e(e, n, r, o, i, a) {
                var s = t.call(this, e, n, a) || this;
                return s.crossOrigin_ = o, s.src_ = r, s.image_ = new Image, null !== o && (s.image_.crossOrigin = o), s.unlisten_ = null, s.tileLoadFunction_ = i, s
            }
            return _s(e, t), e.prototype.getImage = function () {
                return this.image_
            }, e.prototype.getKey = function () {
                return this.src_
            }, e.prototype.handleImageError_ = function () {
                var t;
                this.state = 3, this.unlistenImage_(), this.image_ = ((t = Vo(1, 1)).fillStyle = "rgba(0,0,0,0)", t.fillRect(0, 0, 1, 1), t.canvas), this.changed()
            }, e.prototype.handleImageLoad_ = function () {
                var t = this.image_;
                t.naturalWidth && t.naturalHeight ? this.state = 2 : this.state = 4, this.unlistenImage_(), this.changed()
            }, e.prototype.load = function () {
                3 == this.state && (this.state = 0, this.image_ = new Image, null !== this.crossOrigin_ && (this.image_.crossOrigin = this.crossOrigin_)), 0 == this.state && (this.state = 1, this.changed(), this.tileLoadFunction_(this, this.src_), this.unlisten_ = vs(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this)))
            }, e.prototype.unlistenImage_ = function () {
                this.unlisten_ && (this.unlisten_(), this.unlisten_ = null)
            }, e
        }(ps),
        xs = function () {
            function t(t) {
                this.highWaterMark = void 0 !== t ? t : 2048, this.count_ = 0, this.entries_ = {}, this.oldest_ = null, this.newest_ = null
            }
            return t.prototype.canExpireCache = function () {
                return this.getCount() > this.highWaterMark
            }, t.prototype.clear = function () {
                this.count_ = 0, this.entries_ = {}, this.oldest_ = null, this.newest_ = null
            }, t.prototype.containsKey = function (t) {
                return this.entries_.hasOwnProperty(t)
            }, t.prototype.forEach = function (t) {
                for (var e = this.oldest_; e;) t(e.value_, e.key_, this), e = e.newer
            }, t.prototype.get = function (t, e) {
                var n = this.entries_[t];
                return rn(void 0 !== n, 15), n === this.newest_ || (n === this.oldest_ ? (this.oldest_ = this.oldest_.newer, this.oldest_.older = null) : (n.newer.older = n.older, n.older.newer = n.newer), n.newer = null, n.older = this.newest_, this.newest_.newer = n, this.newest_ = n), n.value_
            }, t.prototype.remove = function (t) {
                var e = this.entries_[t];
                return rn(void 0 !== e, 15), e === this.newest_ ? (this.newest_ = e.older, this.newest_ && (this.newest_.newer = null)) : e === this.oldest_ ? (this.oldest_ = e.newer, this.oldest_ && (this.oldest_.older = null)) : (e.newer.older = e.older, e.older.newer = e.newer), delete this.entries_[t], --this.count_, e.value_
            }, t.prototype.getCount = function () {
                return this.count_
            }, t.prototype.getKeys = function () {
                var t, e = new Array(this.count_),
                    n = 0;
                for (t = this.newest_; t; t = t.older) e[n++] = t.key_;
                return e
            }, t.prototype.getValues = function () {
                var t, e = new Array(this.count_),
                    n = 0;
                for (t = this.newest_; t; t = t.older) e[n++] = t.value_;
                return e
            }, t.prototype.peekLast = function () {
                return this.oldest_.value_
            }, t.prototype.peekLastKey = function () {
                return this.oldest_.key_
            }, t.prototype.peekFirstKey = function () {
                return this.newest_.key_
            }, t.prototype.pop = function () {
                var t = this.oldest_;
                return delete this.entries_[t.key_], t.newer && (t.newer.older = null), this.oldest_ = t.newer, this.oldest_ || (this.newest_ = null), --this.count_, t.value_
            }, t.prototype.replace = function (t, e) {
                this.get(t), this.entries_[t].value_ = e
            }, t.prototype.set = function (t, e) {
                rn(!(t in this.entries_), 16);
                var n = {
                    key_: t,
                    newer: null,
                    older: this.newest_,
                    value_: e
                };
                this.newest_ ? this.newest_.newer = n : this.oldest_ = n, this.newest_ = n, this.entries_[t] = n, ++this.count_
            }, t.prototype.setSize = function (t) {
                this.highWaterMark = t
            }, t
        }();

    function ws(t, e, n, r) {
        return void 0 !== r ? (r[0] = t, r[1] = e, r[2] = n, r) : [t, e, n]
    }

    function Ss(t, e, n) {
        return t + "/" + e + "/" + n
    }

    function Cs(t) {
        return Ss(t[0], t[1], t[2])
    }
    var Es = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Ts = function (t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return Es(e, t), e.prototype.expireCache = function (t) {
                for (; this.canExpireCache() && !(this.peekLast().getKey() in t);) this.pop().release()
            }, e.prototype.pruneExceptNewestZ = function () {
                if (0 !== this.getCount()) {
                    var t = (e = this.peekFirstKey(), e.split("/").map(Number))[0];
                    this.forEach(function (e) {
                        e.tileCoord[0] !== t && (this.remove(Cs(e.tileCoord)), e.release())
                    }.bind(this))
                }
                var e
            }, e
        }(xs);

    function Os(t, e, n, r) {
        var o, i = (o = n, Gr(e, t)(o, void 0, o.length)),
            a = Lr(e, r, n),
            s = e.getMetersPerUnit();
        void 0 !== s && (a *= s);
        var u = t.getMetersPerUnit();
        void 0 !== u && (a /= u);
        var c = t.getExtent();
        if (!c || xn(c, i)) {
            var l = Lr(t, a, i) / a;
            isFinite(l) && l > 0 && (a /= l)
        }
        return a
    }

    function Ps(t, e, n, r) {
        var o = n - t,
            i = r - e,
            a = Math.sqrt(o * o + i * i);
        return [Math.round(n + o / a), Math.round(r + i / a)]
    }

    function As(t, e, n, r, o, i, a, s, u, c, l) {
        var h = Vo(Math.round(n * t), Math.round(n * e));
        if (0 === u.length) return h.canvas;
        h.scale(n, n);
        var f = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
        u.forEach((function (t, e, n) {
            Rn(f, t.extent)
        }));
        var p = Vn(f),
            d = Bn(f),
            y = Vo(Math.round(n * p / r), Math.round(n * d / r)),
            g = n / r;
        u.forEach((function (t, e, n) {
            var r = t.extent[0] - f[0],
                o = -(t.extent[3] - f[3]),
                i = Vn(t.extent),
                a = Bn(t.extent);
            y.drawImage(t.image, c, c, t.image.width - 2 * c, t.image.height - 2 * c, r * g, o * g, i * g, a * g)
        }));
        var v = Xn(a);
        return s.getTriangles().forEach((function (t, e, o) {
            var a = t.source,
                s = t.target,
                u = a[0][0],
                c = a[0][1],
                l = a[1][0],
                p = a[1][1],
                d = a[2][0],
                g = a[2][1],
                m = (s[0][0] - v[0]) / i,
                _ = -(s[0][1] - v[1]) / i,
                b = (s[1][0] - v[0]) / i,
                x = -(s[1][1] - v[1]) / i,
                w = (s[2][0] - v[0]) / i,
                S = -(s[2][1] - v[1]) / i,
                C = u,
                E = c;
            u = 0, c = 0;
            var T = function (t) {
                for (var e = t.length, n = 0; n < e; n++) {
                    for (var r = n, o = Math.abs(t[n][n]), i = n + 1; i < e; i++) {
                        var a = Math.abs(t[i][n]);
                        a > o && (o = a, r = i)
                    }
                    if (0 === o) return null;
                    var s = t[r];
                    t[r] = t[n], t[n] = s;
                    for (var u = n + 1; u < e; u++)
                        for (var c = -t[u][n] / t[n][n], l = n; l < e + 1; l++) n == l ? t[u][l] = 0 : t[u][l] += c * t[n][l]
                }
                for (var h = new Array(e), f = e - 1; f >= 0; f--) {
                    h[f] = t[f][e] / t[f][f];
                    for (var p = f - 1; p >= 0; p--) t[p][e] -= t[p][f] * h[f]
                }
                return h
            }([
                [l -= C, p -= E, 0, 0, b - m],
                [d -= C, g -= E, 0, 0, w - m],
                [0, 0, l, p, x - _],
                [0, 0, d, g, S - _]
            ]);
            if (T) {
                h.save(), h.beginPath();
                var O = (m + b + w) / 3,
                    P = (_ + x + S) / 3,
                    A = Ps(O, P, m, _),
                    R = Ps(O, P, b, x),
                    I = Ps(O, P, w, S);
                h.moveTo(R[0], R[1]), h.lineTo(A[0], A[1]), h.lineTo(I[0], I[1]), h.clip(), h.transform(T[0], T[2], T[1], T[3], m, _), h.translate(f[0] - C, f[3] - E), h.scale(r / n, -r / n), h.drawImage(y.canvas, 0, 0), h.restore()
            }
        })), l && (h.save(), h.strokeStyle = "black", h.lineWidth = 1, s.getTriangles().forEach((function (t, e, n) {
            var r = t.target,
                o = (r[0][0] - v[0]) / i,
                a = -(r[0][1] - v[1]) / i,
                s = (r[1][0] - v[0]) / i,
                u = -(r[1][1] - v[1]) / i,
                c = (r[2][0] - v[0]) / i,
                l = -(r[2][1] - v[1]) / i;
            h.beginPath(), h.moveTo(s, u), h.lineTo(o, a), h.lineTo(c, l), h.closePath(), h.stroke()
        })), h.restore()), h.canvas
    }
    var Rs = function () {
            function t(t, e, n, r, o) {
                this.sourceProj_ = t, this.targetProj_ = e;
                var i = {},
                    a = Gr(this.targetProj_, this.sourceProj_);
                this.transformInv_ = function (t) {
                    var e = t[0] + "/" + t[1];
                    return i[e] || (i[e] = a(t)), i[e]
                }, this.maxSourceExtent_ = r, this.errorThresholdSquared_ = o * o, this.triangles_ = [], this.wrapsXInSource_ = !1, this.canWrapXInSource_ = this.sourceProj_.canWrapX() && !!r && !!this.sourceProj_.getExtent() && Vn(r) == Vn(this.sourceProj_.getExtent()), this.sourceWorldWidth_ = this.sourceProj_.getExtent() ? Vn(this.sourceProj_.getExtent()) : null, this.targetWorldWidth_ = this.targetProj_.getExtent() ? Vn(this.targetProj_.getExtent()) : null;
                var s = Xn(n),
                    u = Wn(n),
                    c = Fn(n),
                    l = Dn(n),
                    h = this.transformInv_(s),
                    f = this.transformInv_(u),
                    p = this.transformInv_(c),
                    d = this.transformInv_(l);
                if (this.addQuad_(s, u, c, l, h, f, p, d, 10), this.wrapsXInSource_) {
                    var y = 1 / 0;
                    this.triangles_.forEach((function (t, e, n) {
                        y = Math.min(y, t.source[0][0], t.source[1][0], t.source[2][0])
                    })), this.triangles_.forEach(function (t) {
                        if (Math.max(t.source[0][0], t.source[1][0], t.source[2][0]) - y > this.sourceWorldWidth_ / 2) {
                            var e = [
                                [t.source[0][0], t.source[0][1]],
                                [t.source[1][0], t.source[1][1]],
                                [t.source[2][0], t.source[2][1]]
                            ];
                            e[0][0] - y > this.sourceWorldWidth_ / 2 && (e[0][0] -= this.sourceWorldWidth_), e[1][0] - y > this.sourceWorldWidth_ / 2 && (e[1][0] -= this.sourceWorldWidth_), e[2][0] - y > this.sourceWorldWidth_ / 2 && (e[2][0] -= this.sourceWorldWidth_);
                            var n = Math.min(e[0][0], e[1][0], e[2][0]);
                            Math.max(e[0][0], e[1][0], e[2][0]) - n < this.sourceWorldWidth_ / 2 && (t.source = e)
                        }
                    }.bind(this))
                }
                i = {}
            }
            return t.prototype.addTriangle_ = function (t, e, n, r, o, i) {
                this.triangles_.push({
                    source: [r, o, i],
                    target: [t, e, n]
                })
            }, t.prototype.addQuad_ = function (t, e, n, r, o, i, a, s, u) {
                var c = vn([o, i, a, s]),
                    l = this.sourceWorldWidth_ ? Vn(c) / this.sourceWorldWidth_ : null,
                    h = this.sourceWorldWidth_,
                    f = this.sourceProj_.canWrapX() && l > .5 && l < 1,
                    p = !1;
                if (u > 0 && (this.targetProj_.isGlobal() && this.targetWorldWidth_ && (p = Vn(vn([t, e, n, r])) / this.targetWorldWidth_ > .25 || p), !f && this.sourceProj_.isGlobal() && l && (p = l > .25 || p)), p || !this.maxSourceExtent_ || Hn(c, this.maxSourceExtent_)) {
                    if (!(p || isFinite(o[0]) && isFinite(o[1]) && isFinite(i[0]) && isFinite(i[1]) && isFinite(a[0]) && isFinite(a[1]) && isFinite(s[0]) && isFinite(s[1]))) {
                        if (!(u > 0)) return;
                        p = !0
                    }
                    if (u > 0) {
                        if (!p) {
                            var d, y = [(t[0] + n[0]) / 2, (t[1] + n[1]) / 2],
                                g = this.transformInv_(y);
                            d = f ? (pn(o[0], h) + pn(a[0], h)) / 2 - pn(g[0], h) : (o[0] + a[0]) / 2 - g[0];
                            var v = (o[1] + a[1]) / 2 - g[1];
                            p = d * d + v * v > this.errorThresholdSquared_
                        }
                        if (p) {
                            if (Math.abs(t[0] - n[0]) <= Math.abs(t[1] - n[1])) {
                                var m = [(e[0] + n[0]) / 2, (e[1] + n[1]) / 2],
                                    _ = this.transformInv_(m),
                                    b = [(r[0] + t[0]) / 2, (r[1] + t[1]) / 2],
                                    x = this.transformInv_(b);
                                this.addQuad_(t, e, m, b, o, i, _, x, u - 1), this.addQuad_(b, m, n, r, x, _, a, s, u - 1)
                            } else {
                                var w = [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2],
                                    S = this.transformInv_(w),
                                    C = [(n[0] + r[0]) / 2, (n[1] + r[1]) / 2],
                                    E = this.transformInv_(C);
                                this.addQuad_(t, w, C, r, o, S, E, s, u - 1), this.addQuad_(w, e, n, C, S, i, a, E, u - 1)
                            }
                            return
                        }
                    }
                    if (f) {
                        if (!this.canWrapXInSource_) return;
                        this.wrapsXInSource_ = !0
                    }
                    this.addTriangle_(t, n, r, o, a, s), this.addTriangle_(t, e, n, o, i, a)
                }
            }, t.prototype.calculateSourceExtent = function () {
                var t = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
                return this.triangles_.forEach((function (e, n, r) {
                    var o = e.source;
                    In(t, o[0]), In(t, o[1]), In(t, o[2])
                })), t
            }, t.prototype.getTriangles = function () {
                return this.triangles_
            }, t
        }(),
        Is = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        ks = function (t) {
            function e(e, n, r, o, i, a, s, u, c, l, h) {
                var f = t.call(this, i, 0) || this;
                f.renderEdges_ = void 0 !== h && h, f.pixelRatio_ = s, f.gutter_ = u, f.canvas_ = null, f.sourceTileGrid_ = n, f.targetTileGrid_ = o, f.wrappedTileCoord_ = a || i, f.sourceTiles_ = [], f.sourcesListenerKeys_ = null, f.sourceZ_ = 0;
                var p = o.getTileCoordExtent(f.wrappedTileCoord_),
                    d = f.targetTileGrid_.getExtent(),
                    y = f.sourceTileGrid_.getExtent(),
                    g = d ? Un(p, d) : p;
                if (0 === Mn(g)) return f.state = 4, f;
                var v = e.getExtent();
                v && (y = y ? Un(y, v) : v);
                var m = o.getResolution(f.wrappedTileCoord_[0]),
                    _ = Os(e, r, Gn(g), m);
                if (!isFinite(_) || _ <= 0) return f.state = 4, f;
                var b = void 0 !== l ? l : .5;
                if (f.triangulation_ = new Rs(e, r, g, y, _ * b), 0 === f.triangulation_.getTriangles().length) return f.state = 4, f;
                f.sourceZ_ = n.getZForResolution(_);
                var x = f.triangulation_.calculateSourceExtent();
                if (y && (e.canWrapX() ? (x[1] = un(x[1], y[1], y[3]), x[3] = un(x[3], y[1], y[3])) : x = Un(x, y)), Mn(x)) {
                    for (var w = n.getTileRangeForExtentAndZ(x, f.sourceZ_), S = w.minX; S <= w.maxX; S++)
                        for (var C = w.minY; C <= w.maxY; C++) {
                            var E = c(f.sourceZ_, S, C, s);
                            E && f.sourceTiles_.push(E)
                        }
                    0 === f.sourceTiles_.length && (f.state = 4)
                } else f.state = 4;
                return f
            }
            return Is(e, t), e.prototype.getImage = function () {
                return this.canvas_
            }, e.prototype.reproject_ = function () {
                var t = [];
                if (this.sourceTiles_.forEach(function (e, n, r) {
                        e && 2 == e.getState() && t.push({
                            extent: this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),
                            image: e.getImage()
                        })
                    }.bind(this)), this.sourceTiles_.length = 0, 0 === t.length) this.state = 3;
                else {
                    var e = this.wrappedTileCoord_[0],
                        n = this.targetTileGrid_.getTileSize(e),
                        r = "number" == typeof n ? n : n[0],
                        o = "number" == typeof n ? n : n[1],
                        i = this.targetTileGrid_.getResolution(e),
                        a = this.sourceTileGrid_.getResolution(this.sourceZ_),
                        s = this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);
                    this.canvas_ = As(r, o, this.pixelRatio_, a, this.sourceTileGrid_.getExtent(), i, s, this.triangulation_, t, this.gutter_, this.renderEdges_), this.state = 2
                }
                this.changed()
            }, e.prototype.load = function () {
                if (0 == this.state) {
                    this.state = 1, this.changed();
                    var t = 0;
                    this.sourcesListenerKeys_ = [], this.sourceTiles_.forEach(function (e, n, r) {
                        var o = e.getState();
                        if (0 == o || 1 == o) {
                            t++;
                            var i = fe(e, "change", (function (n) {
                                var r = e.getState();
                                2 != r && 3 != r && 4 != r || (de(i), 0 == --t && (this.unlistenSources_(), this.reproject_()))
                            }), this);
                            this.sourcesListenerKeys_.push(i)
                        }
                    }.bind(this)), this.sourceTiles_.forEach((function (t, e, n) {
                        0 == t.getState() && t.load()
                    })), 0 === t && setTimeout(this.reproject_.bind(this), 0)
                }
            }, e.prototype.unlistenSources_ = function () {
                this.sourcesListenerKeys_.forEach(de), this.sourcesListenerKeys_ = null
            }, e
        }(ps);

    function Ls(t, e) {
        var n = /\{z\}/g,
            r = /\{x\}/g,
            o = /\{y\}/g,
            i = /\{-y\}/g;
        return function (a, s, u) {
            return a ? t.replace(n, a[0].toString()).replace(r, a[1].toString()).replace(o, a[2].toString()).replace(i, (function () {
                var t = a[0],
                    n = e.getFullTileRange(t);
                return rn(n, 55), (n.getHeight() - a[2] - 1).toString()
            })) : void 0
        }
    }

    function js(t, e, n) {}
    var Ms = function () {
        var t = function (e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                } || function (t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(e, n)
        };
        return function (e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();

    function Ds(t) {
        return t ? Array.isArray(t) ? function (e) {
            return t
        } : "function" == typeof t ? t : function (e) {
            return [t]
        } : null
    }
    var Fs = function (t) {
            function e(e) {
                var n = t.call(this) || this;
                return n.projection_ = kr(e.projection), n.attributions_ = Ds(e.attributions), n.attributionsCollapsible_ = void 0 === e.attributionsCollapsible || e.attributionsCollapsible, n.loading = !1, n.state_ = void 0 !== e.state ? e.state : "ready", n.wrapX_ = void 0 !== e.wrapX && e.wrapX, n
            }
            return Ms(e, t), e.prototype.getAttributions = function () {
                return this.attributions_
            }, e.prototype.getAttributionsCollapsible = function () {
                return this.attributionsCollapsible_
            }, e.prototype.getProjection = function () {
                return this.projection_
            }, e.prototype.getResolutions = function () {
                return ne()
            }, e.prototype.getState = function () {
                return this.state_
            }, e.prototype.getWrapX = function () {
                return this.wrapX_
            }, e.prototype.refresh = function () {
                this.changed()
            }, e.prototype.setAttributions = function (t) {
                this.attributions_ = Ds(t), this.changed()
            }, e.prototype.setState = function (t) {
                this.state_ = t, this.changed()
            }, e
        }(Fe),
        Gs = [0, 0, 0],
        Ns = function () {
            function t(t) {
                var e, n, r;
                if (this.minZoom = void 0 !== t.minZoom ? t.minZoom : 0, this.resolutions_ = t.resolutions, rn((e = this.resolutions_, n = function (t, e) {
                        return e - t
                    } || ge, e.every((function (t, r) {
                        if (0 === r) return !0;
                        var o = n(e[r - 1], t);
                        return !(o > 0 || 0 === o)
                    }))), 17), !t.origins)
                    for (var o = 0, i = this.resolutions_.length - 1; o < i; ++o)
                        if (r) {
                            if (this.resolutions_[o] / this.resolutions_[o + 1] !== r) {
                                r = void 0;
                                break
                            }
                        } else r = this.resolutions_[o] / this.resolutions_[o + 1];
                this.zoomFactor_ = r, this.maxZoom = this.resolutions_.length - 1, this.origin_ = void 0 !== t.origin ? t.origin : null, this.origins_ = null, void 0 !== t.origins && (this.origins_ = t.origins, rn(this.origins_.length == this.resolutions_.length, 20));
                var a = t.extent;
                void 0 === a || this.origin_ || this.origins_ || (this.origin_ = Xn(a)), rn(!this.origin_ && this.origins_ || this.origin_ && !this.origins_, 18), this.tileSizes_ = null, void 0 !== t.tileSizes && (this.tileSizes_ = t.tileSizes, rn(this.tileSizes_.length == this.resolutions_.length, 19)), this.tileSize_ = void 0 !== t.tileSize ? t.tileSize : this.tileSizes_ ? null : 256, rn(!this.tileSize_ && this.tileSizes_ || this.tileSize_ && !this.tileSizes_, 22), this.extent_ = void 0 !== a ? a : null, this.fullTileRanges_ = null, this.tmpSize_ = [0, 0], void 0 !== t.sizes ? this.fullTileRanges_ = t.sizes.map((function (t, e) {
                    return new ns(Math.min(0, t[0]), Math.max(t[0] - 1, -1), Math.min(0, t[1]), Math.max(t[1] - 1, -1))
                }), this) : a && this.calculateTileRanges_(a)
            }
            return t.prototype.forEachTileCoord = function (t, e, n) {
                for (var r = this.getTileRangeForExtentAndZ(t, e), o = r.minX, i = r.maxX; o <= i; ++o)
                    for (var a = r.minY, s = r.maxY; a <= s; ++a) n([e, o, a])
            }, t.prototype.forEachTileCoordParentTileRange = function (t, e, n, r) {
                var o, i, a = null,
                    s = t[0] - 1;
                for (2 === this.zoomFactor_ ? (o = t[1], i = t[2]) : a = this.getTileCoordExtent(t, r); s >= this.minZoom;) {
                    if (e(s, 2 === this.zoomFactor_ ? es(o = Math.floor(o / 2), o, i = Math.floor(i / 2), i, n) : this.getTileRangeForExtentAndZ(a, s, n))) return !0;
                    --s
                }
                return !1
            }, t.prototype.getExtent = function () {
                return this.extent_
            }, t.prototype.getMaxZoom = function () {
                return this.maxZoom
            }, t.prototype.getMinZoom = function () {
                return this.minZoom
            }, t.prototype.getOrigin = function (t) {
                return this.origin_ ? this.origin_ : this.origins_[t]
            }, t.prototype.getResolution = function (t) {
                return this.resolutions_[t]
            }, t.prototype.getResolutions = function () {
                return this.resolutions_
            }, t.prototype.getTileCoordChildTileRange = function (t, e, n) {
                if (t[0] < this.maxZoom) {
                    if (2 === this.zoomFactor_) {
                        var r = 2 * t[1],
                            o = 2 * t[2];
                        return es(r, r + 1, o, o + 1, e)
                    }
                    var i = this.getTileCoordExtent(t, n);
                    return this.getTileRangeForExtentAndZ(i, t[0] + 1, e)
                }
                return null
            }, t.prototype.getTileRangeExtent = function (t, e, n) {
                var r = this.getOrigin(t),
                    o = this.getResolution(t),
                    i = ei(this.getTileSize(t), this.tmpSize_),
                    a = r[0] + e.minX * i[0] * o,
                    s = r[0] + (e.maxX + 1) * i[0] * o;
                return En(a, r[1] + e.minY * i[1] * o, s, r[1] + (e.maxY + 1) * i[1] * o, n)
            }, t.prototype.getTileRangeForExtentAndZ = function (t, e, n) {
                var r = Gs;
                this.getTileCoordForXYAndZ_(t[0], t[3], e, !1, r);
                var o = r[1],
                    i = r[2];
                return this.getTileCoordForXYAndZ_(t[2], t[1], e, !0, r), es(o, r[1], i, r[2], n)
            }, t.prototype.getTileCoordCenter = function (t) {
                var e = this.getOrigin(t[0]),
                    n = this.getResolution(t[0]),
                    r = ei(this.getTileSize(t[0]), this.tmpSize_);
                return [e[0] + (t[1] + .5) * r[0] * n, e[1] - (t[2] + .5) * r[1] * n]
            }, t.prototype.getTileCoordExtent = function (t, e) {
                var n = this.getOrigin(t[0]),
                    r = this.getResolution(t[0]),
                    o = ei(this.getTileSize(t[0]), this.tmpSize_),
                    i = n[0] + t[1] * o[0] * r,
                    a = n[1] - (t[2] + 1) * o[1] * r;
                return En(i, a, i + o[0] * r, a + o[1] * r, e)
            }, t.prototype.getTileCoordForCoordAndResolution = function (t, e, n) {
                return this.getTileCoordForXYAndResolution_(t[0], t[1], e, !1, n)
            }, t.prototype.getTileCoordForXYAndResolution_ = function (t, e, n, r, o) {
                var i = this.getZForResolution(n),
                    a = n / this.getResolution(i),
                    s = this.getOrigin(i),
                    u = ei(this.getTileSize(i), this.tmpSize_),
                    c = r ? .5 : 0,
                    l = r ? .5 : 0,
                    h = Math.floor((t - s[0]) / n + c),
                    f = Math.floor((s[1] - e) / n + l),
                    p = a * h / u[0],
                    d = a * f / u[1];
                return r ? (p = Math.ceil(p) - 1, d = Math.ceil(d) - 1) : (p = Math.floor(p), d = Math.floor(d)), ws(i, p, d, o)
            }, t.prototype.getTileCoordForXYAndZ_ = function (t, e, n, r, o) {
                var i = this.getOrigin(n),
                    a = this.getResolution(n),
                    s = ei(this.getTileSize(n), this.tmpSize_),
                    u = r ? .5 : 0,
                    c = r ? .5 : 0,
                    l = Math.floor((t - i[0]) / a + u),
                    h = Math.floor((i[1] - e) / a + c),
                    f = l / s[0],
                    p = h / s[1];
                return r ? (f = Math.ceil(f) - 1, p = Math.ceil(p) - 1) : (f = Math.floor(f), p = Math.floor(p)), ws(n, f, p, o)
            }, t.prototype.getTileCoordForCoordAndZ = function (t, e, n) {
                return this.getTileCoordForXYAndZ_(t[0], t[1], e, !1, n)
            }, t.prototype.getTileCoordResolution = function (t) {
                return this.resolutions_[t[0]]
            }, t.prototype.getTileSize = function (t) {
                return this.tileSize_ ? this.tileSize_ : this.tileSizes_[t]
            }, t.prototype.getFullTileRange = function (t) {
                return this.fullTileRanges_ ? this.fullTileRanges_[t] : null
            }, t.prototype.getZForResolution = function (t, e) {
                return un(me(this.resolutions_, t, e || 0), this.minZoom, this.maxZoom)
            }, t.prototype.calculateTileRanges_ = function (t) {
                for (var e = this.resolutions_.length, n = new Array(e), r = this.minZoom; r < e; ++r) n[r] = this.getTileRangeForExtentAndZ(t, r);
                this.fullTileRanges_ = n
            }, t
        }();

    function zs(t) {
        var e = t.getDefaultTileGrid();
        return e || (e = function (t, e, n, r) {
            return i = Bs(o = Us(t), void 0, void 0), new Ns({
                extent: o,
                origin: Nn(o, "top-left"),
                resolutions: i,
                tileSize: void 0
            });
            var o, i
        }(t), t.setDefaultTileGrid(e)), e
    }

    function Bs(t, e, n) {
        for (var r = void 0 !== e ? e : 42, o = Bn(t), i = Vn(t), a = ei(void 0 !== n ? n : 256), s = Math.max(i / a[0], o / a[1]), u = r + 1, c = new Array(u), l = 0; l < u; ++l) c[l] = s / Math.pow(2, l);
        return c
    }

    function Us(t) {
        var e = (t = kr(t)).getExtent();
        if (!e) {
            var n = 180 * Qt[te.DEGREES] / t.getMetersPerUnit();
            e = En(-n, -n, n, n)
        }
        return e
    }
    var Xs = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Ws = function (t) {
            function e(e) {
                var n = t.call(this, {
                    attributions: e.attributions,
                    attributionsCollapsible: e.attributionsCollapsible,
                    projection: e.projection,
                    state: e.state,
                    wrapX: e.wrapX
                }) || this;
                n.opaque_ = void 0 !== e.opaque && e.opaque, n.tilePixelRatio_ = void 0 !== e.tilePixelRatio ? e.tilePixelRatio : 1, n.tileGrid = void 0 !== e.tileGrid ? e.tileGrid : null;
                var r = e.cacheSize;
                if (void 0 === r) {
                    var o = [256, 256],
                        i = e.tileGrid;
                    i && ei(i.getTileSize(i.getMinZoom()), o);
                    var a = "undefined" != typeof screen,
                        s = a ? screen.availWidth || screen.width : 1920,
                        u = a ? screen.availHeight || screen.height : 1080;
                    r = 4 * Math.ceil(s / o[0]) * Math.ceil(u / o[1])
                }
                return n.tileCache = new Ts(r), n.tmpSize = [0, 0], n.key_ = e.key || "", n.tileOptions = {
                    transition: e.transition
                }, n.zDirection = e.zDirection ? e.zDirection : 0, n
            }
            return Xs(e, t), e.prototype.canExpireCache = function () {
                return this.tileCache.canExpireCache()
            }, e.prototype.expireCache = function (t, e) {
                var n = this.getTileCacheForProjection(t);
                n && n.expireCache(e)
            }, e.prototype.forEachLoadedTile = function (t, e, n, r) {
                var o = this.getTileCacheForProjection(t);
                if (!o) return !1;
                for (var i, a, s, u = !0, c = n.minX; c <= n.maxX; ++c)
                    for (var l = n.minY; l <= n.maxY; ++l) a = Ss(e, c, l), s = !1, o.containsKey(a) && (s = 2 === (i = o.get(a)).getState()) && (s = !1 !== r(i)), s || (u = !1);
                return u
            }, e.prototype.getGutterForProjection = function (t) {
                return 0
            }, e.prototype.getKey = function () {
                return this.key_
            }, e.prototype.setKey = function (t) {
                this.key_ !== t && (this.key_ = t, this.changed())
            }, e.prototype.getOpaque = function (t) {
                return this.opaque_
            }, e.prototype.getResolutions = function () {
                return this.tileGrid.getResolutions()
            }, e.prototype.getTile = function (t, e, n, r, o) {
                return ne()
            }, e.prototype.getTileGrid = function () {
                return this.tileGrid
            }, e.prototype.getTileGridForProjection = function (t) {
                return this.tileGrid ? this.tileGrid : zs(t)
            }, e.prototype.getTileCacheForProjection = function (t) {
                var e = this.getProjection();
                return e && !Dr(e, t) ? null : this.tileCache
            }, e.prototype.getTilePixelRatio = function (t) {
                return this.tilePixelRatio_
            }, e.prototype.getTilePixelSize = function (t, e, n) {
                var r, o, i, a = this.getTileGridForProjection(n),
                    s = this.getTilePixelRatio(e),
                    u = ei(a.getTileSize(t), this.tmpSize);
                return 1 == s ? u : (r = u, o = s, void 0 === (i = this.tmpSize) && (i = [0, 0]), i[0] = r[0] * o + .5 | 0, i[1] = r[1] * o + .5 | 0, i)
            }, e.prototype.getTileCoordForTileUrlFunction = function (t, e) {
                var n = void 0 !== e ? e : this.getProjection(),
                    r = this.getTileGridForProjection(n);
                return this.getWrapX() && n.isGlobal() && (t = function (t, e, n) {
                        var r = e[0],
                            o = t.getTileCoordCenter(e),
                            i = Us(n);
                        if (xn(i, o)) return e;
                        var a = Vn(i),
                            s = Math.ceil((i[0] - o[0]) / a);
                        return o[0] += a * s, t.getTileCoordForCoordAndZ(o, r)
                    }(r, t, n)),
                    function (t, e) {
                        var n = t[0],
                            r = t[1],
                            o = t[2];
                        if (e.getMinZoom() > n || n > e.getMaxZoom()) return !1;
                        var i, a = e.getExtent();
                        return !(i = a ? e.getTileRangeForExtentAndZ(a, n) : e.getFullTileRange(n)) || i.containsXY(r, o)
                    }(t, r) ? t : null
            }, e.prototype.clear = function () {
                this.tileCache.clear()
            }, e.prototype.refresh = function () {
                this.clear(), t.prototype.refresh.call(this)
            }, e.prototype.useTile = function (t, e, n, r) {}, e
        }(Fs),
        Vs = function (t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.tile = n, r
            }
            return Xs(e, t), e
        }(Te),
        Hs = Ws,
        Ys = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Zs = function (t) {
            function e(e) {
                var n = t.call(this, {
                    attributions: e.attributions,
                    cacheSize: e.cacheSize,
                    opaque: e.opaque,
                    projection: e.projection,
                    state: e.state,
                    tileGrid: e.tileGrid,
                    tilePixelRatio: e.tilePixelRatio,
                    wrapX: e.wrapX,
                    transition: e.transition,
                    key: e.key,
                    attributionsCollapsible: e.attributionsCollapsible,
                    zDirection: e.zDirection
                }) || this;
                return n.generateTileUrlFunction_ = !e.tileUrlFunction, n.tileLoadFunction = e.tileLoadFunction, n.tileUrlFunction = e.tileUrlFunction ? e.tileUrlFunction.bind(n) : js, n.urls = null, e.urls ? n.setUrls(e.urls) : e.url && n.setUrl(e.url), n.tileLoadingKeys_ = {}, n
            }
            return Ys(e, t), e.prototype.getTileLoadFunction = function () {
                return this.tileLoadFunction
            }, e.prototype.getTileUrlFunction = function () {
                return this.tileUrlFunction
            }, e.prototype.getUrls = function () {
                return this.urls
            }, e.prototype.handleTileChange = function (t) {
                var e, n = t.target,
                    r = oe(n),
                    o = n.getState();
                1 == o ? (this.tileLoadingKeys_[r] = !0, e = "tileloadstart") : r in this.tileLoadingKeys_ && (delete this.tileLoadingKeys_[r], e = 3 == o ? "tileloaderror" : 2 == o ? "tileloadend" : void 0), null != e && this.dispatchEvent(new Vs(e, n))
            }, e.prototype.setTileLoadFunction = function (t) {
                this.tileCache.clear(), this.tileLoadFunction = t, this.changed()
            }, e.prototype.setTileUrlFunction = function (t, e) {
                this.tileUrlFunction = t, this.tileCache.pruneExceptNewestZ(), void 0 !== e ? this.setKey(e) : this.changed()
            }, e.prototype.setUrl = function (t) {
                var e = function (t) {
                    var e = [],
                        n = /\{([a-z])-([a-z])\}/.exec(t);
                    if (n) {
                        var r = n[1].charCodeAt(0),
                            o = n[2].charCodeAt(0),
                            i = void 0;
                        for (i = r; i <= o; ++i) e.push(t.replace(n[0], String.fromCharCode(i)));
                        return e
                    }
                    if (n = /\{(\d+)-(\d+)\}/.exec(t)) {
                        for (var a = parseInt(n[2], 10), s = parseInt(n[1], 10); s <= a; s++) e.push(t.replace(n[0], s.toString()));
                        return e
                    }
                    return e.push(t), e
                }(t);
                this.urls = e, this.setUrls(e)
            }, e.prototype.setUrls = function (t) {
                this.urls = t;
                var e = t.join("\n");
                this.generateTileUrlFunction_ ? this.setTileUrlFunction(function (t, e) {
                    for (var n = t.length, r = new Array(n), o = 0; o < n; ++o) r[o] = Ls(t[o], e);
                    return function (t) {
                        return 1 === t.length ? t[0] : function (e, n, r) {
                            if (e) {
                                var o = pn(function (t) {
                                    return (t[1] << t[0]) + t[2]
                                }(e), t.length);
                                return t[o](e, n, r)
                            }
                        }
                    }(r)
                }(t, this.tileGrid), e) : this.setKey(e)
            }, e.prototype.useTile = function (t, e, n) {
                var r = Ss(t, e, n);
                this.tileCache.containsKey(r) && this.tileCache.get(r)
            }, e
        }(Hs),
        qs = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function Ks(t, e) {
        t.getImage().src = e
    }
    var $s = function (t) {
            function e(e) {
                var n = t.call(this, {
                    attributions: e.attributions,
                    cacheSize: e.cacheSize,
                    opaque: e.opaque,
                    projection: e.projection,
                    state: e.state,
                    tileGrid: e.tileGrid,
                    tileLoadFunction: e.tileLoadFunction ? e.tileLoadFunction : Ks,
                    tilePixelRatio: e.tilePixelRatio,
                    tileUrlFunction: e.tileUrlFunction,
                    url: e.url,
                    urls: e.urls,
                    wrapX: e.wrapX,
                    transition: e.transition,
                    key: e.key,
                    attributionsCollapsible: e.attributionsCollapsible,
                    zDirection: e.zDirection
                }) || this;
                return n.crossOrigin = void 0 !== e.crossOrigin ? e.crossOrigin : null, n.tileClass = void 0 !== e.tileClass ? e.tileClass : bs, n.tileCacheForProjection = {}, n.tileGridForProjection = {}, n.reprojectionErrorThreshold_ = e.reprojectionErrorThreshold, n.renderReprojectionEdges_ = !1, n
            }
            return qs(e, t), e.prototype.canExpireCache = function () {
                if (this.tileCache.canExpireCache()) return !0;
                for (var t in this.tileCacheForProjection)
                    if (this.tileCacheForProjection[t].canExpireCache()) return !0;
                return !1
            }, e.prototype.expireCache = function (t, e) {
                var n = this.getTileCacheForProjection(t);
                for (var r in this.tileCache.expireCache(this.tileCache == n ? e : {}), this.tileCacheForProjection) {
                    var o = this.tileCacheForProjection[r];
                    o.expireCache(o == n ? e : {})
                }
            }, e.prototype.getGutterForProjection = function (t) {
                return this.getProjection() && t && !Dr(this.getProjection(), t) ? 0 : this.getGutter()
            }, e.prototype.getGutter = function () {
                return 0
            }, e.prototype.getOpaque = function (e) {
                return !(this.getProjection() && e && !Dr(this.getProjection(), e)) && t.prototype.getOpaque.call(this, e)
            }, e.prototype.getTileGridForProjection = function (t) {
                var e = this.getProjection();
                if (!this.tileGrid || e && !Dr(e, t)) {
                    var n = oe(t);
                    return n in this.tileGridForProjection || (this.tileGridForProjection[n] = zs(t)), this.tileGridForProjection[n]
                }
                return this.tileGrid
            }, e.prototype.getTileCacheForProjection = function (t) {
                var e = this.getProjection();
                if (!e || Dr(e, t)) return this.tileCache;
                var n = oe(t);
                return n in this.tileCacheForProjection || (this.tileCacheForProjection[n] = new Ts(this.tileCache.highWaterMark)), this.tileCacheForProjection[n]
            }, e.prototype.createTile_ = function (t, e, n, r, o, i) {
                var a = [t, e, n],
                    s = this.getTileCoordForTileUrlFunction(a, o),
                    u = s ? this.tileUrlFunction(s, r, o) : void 0,
                    c = new this.tileClass(a, void 0 !== u ? 0 : 4, void 0 !== u ? u : "", this.crossOrigin, this.tileLoadFunction, this.tileOptions);
                return c.key = i, c.addEventListener("change", this.handleTileChange.bind(this)), c
            }, e.prototype.getTile = function (t, e, n, r, o) {
                var i = this.getProjection();
                if (i && o && !Dr(i, o)) {
                    var a = this.getTileCacheForProjection(o),
                        s = [t, e, n],
                        u = void 0,
                        c = Cs(s);
                    a.containsKey(c) && (u = a.get(c));
                    var l = this.getKey();
                    if (u && u.key == l) return u;
                    var h = this.getTileGridForProjection(i),
                        f = this.getTileGridForProjection(o),
                        p = this.getTileCoordForTileUrlFunction(s, o),
                        d = new ks(i, h, o, f, s, p, this.getTilePixelRatio(r), this.getGutter(), function (t, e, n, r) {
                            return this.getTileInternal(t, e, n, r, i)
                        }.bind(this), this.reprojectionErrorThreshold_, this.renderReprojectionEdges_);
                    return d.key = l, u ? (d.interimTile = u, d.refreshInterimChain(), a.replace(c, d)) : a.set(c, d), d
                }
                return this.getTileInternal(t, e, n, r, i || o)
            }, e.prototype.getTileInternal = function (t, e, n, r, o) {
                var i = null,
                    a = Ss(t, e, n),
                    s = this.getKey();
                if (this.tileCache.containsKey(a)) {
                    if ((i = this.tileCache.get(a)).key != s) {
                        var u = i;
                        i = this.createTile_(t, e, n, r, o, s), 0 == u.getState() ? i.interimTile = u.interimTile : i.interimTile = u, i.refreshInterimChain(), this.tileCache.replace(a, i)
                    }
                } else i = this.createTile_(t, e, n, r, o, s), this.tileCache.set(a, i);
                return i
            }, e.prototype.setRenderReprojectionEdges = function (t) {
                if (this.renderReprojectionEdges_ != t) {
                    for (var e in this.renderReprojectionEdges_ = t, this.tileCacheForProjection) this.tileCacheForProjection[e].clear();
                    this.changed()
                }
            }, e.prototype.setTileGridForProjection = function (t, e) {
                var n = kr(t);
                if (n) {
                    var r = oe(n);
                    r in this.tileGridForProjection || (this.tileGridForProjection[r] = e)
                }
            }, e
        }(Zs),
        Js = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Qs = function (t) {
            function e(e) {
                var n = e || {},
                    r = void 0 !== n.projection ? n.projection : "EPSG:3857",
                    o = void 0 !== n.tileGrid ? n.tileGrid : function (t) {
                        var e = t || {},
                            n = e.extent || kr("EPSG:3857").getExtent(),
                            r = {
                                extent: n,
                                minZoom: e.minZoom,
                                tileSize: e.tileSize,
                                resolutions: Bs(n, e.maxZoom, e.tileSize)
                            };
                        return new Ns(r)
                    }({
                        extent: Us(r),
                        maxZoom: n.maxZoom,
                        minZoom: n.minZoom,
                        tileSize: n.tileSize
                    });
                return t.call(this, {
                    attributions: n.attributions,
                    cacheSize: n.cacheSize,
                    crossOrigin: n.crossOrigin,
                    opaque: n.opaque,
                    projection: r,
                    reprojectionErrorThreshold: n.reprojectionErrorThreshold,
                    tileGrid: o,
                    tileLoadFunction: n.tileLoadFunction,
                    tilePixelRatio: n.tilePixelRatio,
                    tileUrlFunction: n.tileUrlFunction,
                    url: n.url,
                    urls: n.urls,
                    wrapX: void 0 === n.wrapX || n.wrapX,
                    transition: n.transition,
                    attributionsCollapsible: n.attributionsCollapsible,
                    zDirection: n.zDirection
                }) || this
            }
            return Js(e, t), e
        }($s);

    function tu(t, e) {
        return function (t, e, n, r) {
            return function (o, i, a) {
                var s = new XMLHttpRequest;
                s.open("GET", "function" == typeof t ? t(o, i, a) : t, !0), "arraybuffer" == e.getType() && (s.responseType = "arraybuffer"), s.withCredentials = !1, s.onload = function (t) {
                    if (!s.status || s.status >= 200 && s.status < 300) {
                        var i = e.getType(),
                            u = void 0;
                        "json" == i || "text" == i ? u = s.responseText : "xml" == i ? (u = s.responseXML) || (u = (new DOMParser).parseFromString(s.responseText, "application/xml")) : "arraybuffer" == i && (u = s.response), u ? n.call(this, e.readFeatures(u, {
                            extent: o,
                            featureProjection: a
                        }), e.readProjection(u)) : r.call(this)
                    } else r.call(this)
                }.bind(this), s.onerror = function () {
                    r.call(this)
                }.bind(this), s.send()
            }
        }(t, e, (function (t, e) {
            "function" == typeof this.addFeatures && this.addFeatures(t)
        }), Ce)
    }

    function eu(t, e) {
        return [
            [-1 / 0, -1 / 0, 1 / 0, 1 / 0]
        ]
    }
    var nu = n(88),
        ru = n.n(nu),
        ou = function () {
            function t(t) {
                this.rbush_ = new ru.a(t), this.items_ = {}
            }
            return t.prototype.insert = function (t, e) {
                var n = {
                    minX: t[0],
                    minY: t[1],
                    maxX: t[2],
                    maxY: t[3],
                    value: e
                };
                this.rbush_.insert(n), this.items_[oe(e)] = n
            }, t.prototype.load = function (t, e) {
                for (var n = new Array(e.length), r = 0, o = e.length; r < o; r++) {
                    var i = t[r],
                        a = e[r],
                        s = {
                            minX: i[0],
                            minY: i[1],
                            maxX: i[2],
                            maxY: i[3],
                            value: a
                        };
                    n[r] = s, this.items_[oe(a)] = s
                }
                this.rbush_.load(n)
            }, t.prototype.remove = function (t) {
                var e = oe(t),
                    n = this.items_[e];
                return delete this.items_[e], null !== this.rbush_.remove(n)
            }, t.prototype.update = function (t, e) {
                var n = this.items_[oe(e)];
                An([n.minX, n.minY, n.maxX, n.maxY], t) || (this.remove(e), this.insert(t, e))
            }, t.prototype.getAll = function () {
                return this.rbush_.all().map((function (t) {
                    return t.value
                }))
            }, t.prototype.getInExtent = function (t) {
                var e = {
                    minX: t[0],
                    minY: t[1],
                    maxX: t[2],
                    maxY: t[3]
                };
                return this.rbush_.search(e).map((function (t) {
                    return t.value
                }))
            }, t.prototype.forEach = function (t) {
                return this.forEach_(this.getAll(), t)
            }, t.prototype.forEachInExtent = function (t, e) {
                return this.forEach_(this.getInExtent(t), e)
            }, t.prototype.forEach_ = function (t, e) {
                for (var n, r = 0, o = t.length; r < o; r++)
                    if (n = e(t[r])) return n;
                return n
            }, t.prototype.isEmpty = function () {
                return he(this.items_)
            }, t.prototype.clear = function () {
                this.rbush_.clear(), this.items_ = {}
            }, t.prototype.getExtent = function (t) {
                var e = this.rbush_.toJSON();
                return En(e.minX, e.minY, e.maxX, e.maxY, t)
            }, t.prototype.concat = function (t) {
                for (var e in this.rbush_.load(t.rbush_.all()), t.items_) this.items_[e] = t.items_[e]
            }, t
        }(),
        iu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        au = function (t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.feature = n, r
            }
            return iu(e, t), e
        }(Te),
        su = function (t) {
            function e(e) {
                var n = this,
                    r = e || {};
                (n = t.call(this, {
                    attributions: r.attributions,
                    projection: void 0,
                    state: "ready",
                    wrapX: void 0 === r.wrapX || r.wrapX
                }) || this).loader_ = Ce, n.format_ = r.format, n.overlaps_ = null == r.overlaps || r.overlaps, n.url_ = r.url, void 0 !== r.loader ? n.loader_ = r.loader : void 0 !== n.url_ && (rn(n.format_, 7), n.loader_ = tu(n.url_, n.format_)), n.strategy_ = void 0 !== r.strategy ? r.strategy : eu;
                var o, i, a = void 0 === r.useSpatialIndex || r.useSpatialIndex;
                return n.featuresRtree_ = a ? new ou : null, n.loadedExtentsRtree_ = new ou, n.nullGeometryFeatures_ = {}, n.idIndex_ = {}, n.uidIndex_ = {}, n.featureChangeKeys_ = {}, n.featuresCollection_ = null, Array.isArray(r.features) ? i = r.features : r.features && (i = (o = r.features).getArray()), a || void 0 !== o || (o = new ze(i)), void 0 !== i && n.addFeaturesInternal(i), void 0 !== o && n.bindFeaturesCollection_(o), n
            }
            return iu(e, t), e.prototype.addFeature = function (t) {
                this.addFeatureInternal(t), this.changed()
            }, e.prototype.addFeatureInternal = function (t) {
                var e = oe(t);
                if (this.addToIndex_(e, t)) {
                    this.setupChangeEvents_(e, t);
                    var n = t.getGeometry();
                    if (n) {
                        var r = n.getExtent();
                        this.featuresRtree_ && this.featuresRtree_.insert(r, t)
                    } else this.nullGeometryFeatures_[e] = t;
                    this.dispatchEvent(new au("addfeature", t))
                } else this.featuresCollection_ && this.featuresCollection_.remove(t)
            }, e.prototype.setupChangeEvents_ = function (t, e) {
                this.featureChangeKeys_[t] = [fe(e, "change", this.handleFeatureChange_, this), fe(e, "propertychange", this.handleFeatureChange_, this)]
            }, e.prototype.addToIndex_ = function (t, e) {
                var n = !0,
                    r = e.getId();
                return void 0 !== r && (r.toString() in this.idIndex_ ? n = !1 : this.idIndex_[r.toString()] = e), n && (rn(!(t in this.uidIndex_), 30), this.uidIndex_[t] = e), n
            }, e.prototype.addFeatures = function (t) {
                this.addFeaturesInternal(t), this.changed()
            }, e.prototype.addFeaturesInternal = function (t) {
                for (var e = [], n = [], r = [], o = 0, i = t.length; o < i; o++) {
                    var a = oe(u = t[o]);
                    this.addToIndex_(a, u) && n.push(u)
                }
                o = 0;
                for (var s = n.length; o < s; o++) {
                    var u;
                    a = oe(u = n[o]), this.setupChangeEvents_(a, u);
                    var c = u.getGeometry();
                    if (c) {
                        var l = c.getExtent();
                        e.push(l), r.push(u)
                    } else this.nullGeometryFeatures_[a] = u
                }
                this.featuresRtree_ && this.featuresRtree_.load(e, r), o = 0;
                for (var h = n.length; o < h; o++) this.dispatchEvent(new au("addfeature", n[o]))
            }, e.prototype.bindFeaturesCollection_ = function (t) {
                var e = !1;
                this.addEventListener("addfeature", (function (n) {
                    e || (e = !0, t.push(n.feature), e = !1)
                })), this.addEventListener("removefeature", (function (n) {
                    e || (e = !0, t.remove(n.feature), e = !1)
                })), t.addEventListener("add", function (t) {
                    e || (e = !0, this.addFeature(t.element), e = !1)
                }.bind(this)), t.addEventListener("remove", function (t) {
                    e || (e = !0, this.removeFeature(t.element), e = !1)
                }.bind(this)), this.featuresCollection_ = t
            }, e.prototype.clear = function (t) {
                if (t) {
                    for (var e in this.featureChangeKeys_) this.featureChangeKeys_[e].forEach(de);
                    this.featuresCollection_ || (this.featureChangeKeys_ = {}, this.idIndex_ = {}, this.uidIndex_ = {})
                } else if (this.featuresRtree_)
                    for (var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)), this.nullGeometryFeatures_) this.removeFeatureInternal(this.nullGeometryFeatures_[n]);
                this.featuresCollection_ && this.featuresCollection_.clear(), this.featuresRtree_ && this.featuresRtree_.clear(), this.nullGeometryFeatures_ = {};
                var r = new au("clear");
                this.dispatchEvent(r), this.changed()
            }, e.prototype.forEachFeature = function (t) {
                if (this.featuresRtree_) return this.featuresRtree_.forEach(t);
                this.featuresCollection_ && this.featuresCollection_.forEach(t)
            }, e.prototype.forEachFeatureAtCoordinateDirect = function (t, e) {
                var n = [t[0], t[1], t[0], t[1]];
                return this.forEachFeatureInExtent(n, (function (n) {
                    return n.getGeometry().intersectsCoordinate(t) ? e(n) : void 0
                }))
            }, e.prototype.forEachFeatureInExtent = function (t, e) {
                if (this.featuresRtree_) return this.featuresRtree_.forEachInExtent(t, e);
                this.featuresCollection_ && this.featuresCollection_.forEach(e)
            }, e.prototype.forEachFeatureIntersectingExtent = function (t, e) {
                return this.forEachFeatureInExtent(t, (function (n) {
                    if (n.getGeometry().intersectsExtent(t)) {
                        var r = e(n);
                        if (r) return r
                    }
                }))
            }, e.prototype.getFeaturesCollection = function () {
                return this.featuresCollection_
            }, e.prototype.getFeatures = function () {
                var t;
                return this.featuresCollection_ ? t = this.featuresCollection_.getArray() : this.featuresRtree_ && (t = this.featuresRtree_.getAll(), he(this.nullGeometryFeatures_) || be(t, le(this.nullGeometryFeatures_))), t
            }, e.prototype.getFeaturesAtCoordinate = function (t) {
                var e = [];
                return this.forEachFeatureAtCoordinateDirect(t, (function (t) {
                    e.push(t)
                })), e
            }, e.prototype.getFeaturesInExtent = function (t) {
                return this.featuresRtree_ ? this.featuresRtree_.getInExtent(t) : this.featuresCollection_ ? this.featuresCollection_.getArray() : []
            }, e.prototype.getClosestFeatureToCoordinate = function (t, e) {
                var n = t[0],
                    r = t[1],
                    o = null,
                    i = [NaN, NaN],
                    a = 1 / 0,
                    s = [-1 / 0, -1 / 0, 1 / 0, 1 / 0],
                    u = e || we;
                return this.featuresRtree_.forEachInExtent(s, (function (t) {
                    if (u(t)) {
                        var e = t.getGeometry(),
                            c = a;
                        if ((a = e.closestPointXY(n, r, i, a)) < c) {
                            o = t;
                            var l = Math.sqrt(a);
                            s[0] = n - l, s[1] = r - l, s[2] = n + l, s[3] = r + l
                        }
                    }
                })), o
            }, e.prototype.getExtent = function (t) {
                return this.featuresRtree_.getExtent(t)
            }, e.prototype.getFeatureById = function (t) {
                var e = this.idIndex_[t.toString()];
                return void 0 !== e ? e : null
            }, e.prototype.getFeatureByUid = function (t) {
                var e = this.uidIndex_[t];
                return void 0 !== e ? e : null
            }, e.prototype.getFormat = function () {
                return this.format_
            }, e.prototype.getOverlaps = function () {
                return this.overlaps_
            }, e.prototype.getUrl = function () {
                return this.url_
            }, e.prototype.handleFeatureChange_ = function (t) {
                var e = t.target,
                    n = oe(e),
                    r = e.getGeometry();
                if (r) {
                    var o = r.getExtent();
                    n in this.nullGeometryFeatures_ ? (delete this.nullGeometryFeatures_[n], this.featuresRtree_ && this.featuresRtree_.insert(o, e)) : this.featuresRtree_ && this.featuresRtree_.update(o, e)
                } else n in this.nullGeometryFeatures_ || (this.featuresRtree_ && this.featuresRtree_.remove(e), this.nullGeometryFeatures_[n] = e);
                var i = e.getId();
                if (void 0 !== i) {
                    var a = i.toString();
                    this.idIndex_[a] !== e && (this.removeFromIdIndex_(e), this.idIndex_[a] = e)
                } else this.removeFromIdIndex_(e), this.uidIndex_[n] = e;
                this.changed(), this.dispatchEvent(new au("changefeature", e))
            }, e.prototype.hasFeature = function (t) {
                var e = t.getId();
                return void 0 !== e ? e in this.idIndex_ : oe(t) in this.uidIndex_
            }, e.prototype.isEmpty = function () {
                return this.featuresRtree_.isEmpty() && he(this.nullGeometryFeatures_)
            }, e.prototype.loadFeatures = function (t, e, n) {
                var r = this.loadedExtentsRtree_,
                    o = this.strategy_(t, e);
                this.loading = !1;
                for (var i = function (t, i) {
                        var s = o[t];
                        r.forEachInExtent(s, (function (t) {
                            return wn(t.extent, s)
                        })) || (a.loader_.call(a, s, e, n), r.insert(s, {
                            extent: s.slice()
                        }), a.loading = a.loader_ !== Ce)
                    }, a = this, s = 0, u = o.length; s < u; ++s) i(s)
            }, e.prototype.refresh = function () {
                this.clear(!0), this.loadedExtentsRtree_.clear(), t.prototype.refresh.call(this)
            }, e.prototype.removeLoadedExtent = function (t) {
                var e, n = this.loadedExtentsRtree_;
                n.forEachInExtent(t, (function (n) {
                    if (An(n.extent, t)) return e = n, !0
                })), e && n.remove(e)
            }, e.prototype.removeFeature = function (t) {
                var e = oe(t);
                e in this.nullGeometryFeatures_ ? delete this.nullGeometryFeatures_[e] : this.featuresRtree_ && this.featuresRtree_.remove(t), this.removeFeatureInternal(t), this.changed()
            }, e.prototype.removeFeatureInternal = function (t) {
                var e = oe(t);
                this.featureChangeKeys_[e].forEach(de), delete this.featureChangeKeys_[e];
                var n = t.getId();
                void 0 !== n && delete this.idIndex_[n.toString()], delete this.uidIndex_[e], this.dispatchEvent(new au("removefeature", t))
            }, e.prototype.removeFromIdIndex_ = function (t) {
                var e = !1;
                for (var n in this.idIndex_)
                    if (this.idIndex_[n] === t) {
                        delete this.idIndex_[n], e = !0;
                        break
                    } return e
            }, e.prototype.setLoader = function (t) {
                this.loader_ = t
            }, e.prototype.setUrl = function (t) {
                rn(this.format_, 7), this.setLoader(tu(t, this.format_))
            }, e
        }(Fs),
        uu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        cu = function (t) {
            function e(e) {
                var n = t.call(this) || this;
                if (n.id_ = void 0, n.geometryName_ = "geometry", n.style_ = null, n.styleFunction_ = void 0, n.geometryChangeKey_ = null, n.addEventListener(De(n.geometryName_), n.handleGeometryChanged_), e)
                    if ("function" == typeof e.getSimplifiedGeometry) {
                        var r = e;
                        n.setGeometry(r)
                    } else {
                        var o = e;
                        n.setProperties(o)
                    } return n
            }
            return uu(e, t), e.prototype.clone = function () {
                var t = new e(this.getProperties());
                t.setGeometryName(this.getGeometryName());
                var n = this.getGeometry();
                n && t.setGeometry(n.clone());
                var r = this.getStyle();
                return r && t.setStyle(r), t
            }, e.prototype.getGeometry = function () {
                return this.get(this.geometryName_)
            }, e.prototype.getId = function () {
                return this.id_
            }, e.prototype.getGeometryName = function () {
                return this.geometryName_
            }, e.prototype.getStyle = function () {
                return this.style_
            }, e.prototype.getStyleFunction = function () {
                return this.styleFunction_
            }, e.prototype.handleGeometryChange_ = function () {
                this.changed()
            }, e.prototype.handleGeometryChanged_ = function () {
                this.geometryChangeKey_ && (de(this.geometryChangeKey_), this.geometryChangeKey_ = null);
                var t = this.getGeometry();
                t && (this.geometryChangeKey_ = fe(t, "change", this.handleGeometryChange_, this)), this.changed()
            }, e.prototype.setGeometry = function (t) {
                this.set(this.geometryName_, t)
            }, e.prototype.setStyle = function (t) {
                var e, n;
                this.style_ = t, this.styleFunction_ = t ? "function" == typeof (e = t) ? e : (Array.isArray(e) ? n = e : (rn("function" == typeof e.getZIndex, 41), n = [e]), function () {
                    return n
                }) : void 0, this.changed()
            }, e.prototype.setId = function (t) {
                this.id_ = t, this.changed()
            }, e.prototype.setGeometryName = function (t) {
                this.removeEventListener(De(this.geometryName_), this.handleGeometryChanged_), this.geometryName_ = t, this.addEventListener(De(this.geometryName_), this.handleGeometryChanged_), this.handleGeometryChanged_()
            }, e
        }(Fe);

    function lu(t, e, n, r, o, i) {
        var a = NaN,
            s = NaN,
            u = (n - e) / r;
        if (1 === u) a = t[e], s = t[e + 1];
        else if (2 == u) a = (1 - o) * t[e] + o * t[e + r], s = (1 - o) * t[e + 1] + o * t[e + r + 1];
        else if (0 !== u) {
            for (var c = t[e], l = t[e + 1], h = 0, f = [0], p = e + r; p < n; p += r) {
                var d = t[p],
                    y = t[p + 1];
                h += Math.sqrt((d - c) * (d - c) + (y - l) * (y - l)), f.push(h), c = d, l = y
            }
            var g = o * h,
                v = function (t, e, n) {
                    for (var r, o, i = ge, a = 0, s = t.length, u = !1; a < s;)(o = +i(t[r = a + (s - a >> 1)], e)) < 0 ? a = r + 1 : (s = r, u = !o);
                    return u ? a : ~a
                }(f, g);
            if (v < 0) {
                var m = (g - f[-v - 2]) / (f[-v - 1] - f[-v - 2]),
                    _ = e + (-v - 2) * r;
                a = dn(t[_], t[_ + r], m), s = dn(t[_ + 1], t[_ + r + 1], m)
            } else a = t[e + v * r], s = t[e + v * r + 1]
        }
        return i ? (i[0] = a, i[1] = s, i) : [a, s]
    }

    function hu(t, e, n, r, o, i) {
        if (n == e) return null;
        var a;
        if (o < t[e + r - 1]) return i ? ((a = t.slice(e, e + r))[r - 1] = o, a) : null;
        if (t[n - 1] < o) return i ? ((a = t.slice(n - r, n))[r - 1] = o, a) : null;
        if (o == t[e + r - 1]) return t.slice(e, e + r);
        for (var s = e / r, u = n / r; s < u;) {
            var c = s + u >> 1;
            o < t[(c + 1) * r - 1] ? u = c : s = c + 1
        }
        var l = t[s * r - 1];
        if (o == l) return t.slice((s - 1) * r, (s - 1) * r + r);
        var h = (o - l) / (t[(s + 1) * r - 1] - l);
        a = [];
        for (var f = 0; f < r - 1; ++f) a.push(dn(t[(s - 1) * r + f], t[s * r + f], h));
        return a.push(o), a
    }

    function fu(t, e, n, r) {
        for (var o = t[e], i = t[e + 1], a = 0, s = e + r; s < n; s += r) {
            var u = t[s],
                c = t[s + 1];
            a += Math.sqrt((u - o) * (u - o) + (c - i) * (c - i)), o = u, i = c
        }
        return a
    }
    var pu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        du = function (t) {
            function e(e, n) {
                var r = t.call(this) || this;
                return r.flatMidpoint_ = null, r.flatMidpointRevision_ = -1, r.maxDelta_ = -1, r.maxDeltaRevision_ = -1, void 0 === n || Array.isArray(e[0]) ? r.setCoordinates(e, n) : r.setFlatCoordinates(n, e), r
            }
            return pu(e, t), e.prototype.appendCoordinate = function (t) {
                this.flatCoordinates ? be(this.flatCoordinates, t) : this.flatCoordinates = t.slice(), this.changed()
            }, e.prototype.clone = function () {
                return new e(this.flatCoordinates.slice(), this.layout)
            }, e.prototype.closestPointXY = function (t, e, n, r) {
                return r < bn(this.getExtent(), t, e) ? r : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(ao(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), uo(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, this.maxDelta_, !1, t, e, n, r))
            }, e.prototype.forEachSegment = function (t) {
                return Ao(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t)
            }, e.prototype.getCoordinateAtM = function (t, e) {
                if ("XYM" != this.layout && "XYZM" != this.layout) return null;
                var n = void 0 !== e && e;
                return hu(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t, n)
            }, e.prototype.getCoordinates = function () {
                return po(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride)
            }, e.prototype.getCoordinateAt = function (t, e) {
                return lu(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t, e)
            }, e.prototype.getLength = function () {
                return fu(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride)
            }, e.prototype.getFlatMidpoint = function () {
                return this.flatMidpointRevision_ != this.getRevision() && (this.flatMidpoint_ = this.getCoordinateAt(.5, this.flatMidpoint_), this.flatMidpointRevision_ = this.getRevision()), this.flatMidpoint_
            }, e.prototype.getSimplifiedGeometryInternal = function (t) {
                var n = [];
                return n.length = vo(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t, n, 0), new e(n, "XY")
            }, e.prototype.getType = function () {
                return "LineString"
            }, e.prototype.intersectsExtent = function (t) {
                return Ro(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t)
            }, e.prototype.setCoordinates = function (t, e) {
                this.setLayout(e, t, 1), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = ho(this.flatCoordinates, 0, t, this.stride), this.changed()
            }, e
        }(no),
        yu = function () {
            function t(t) {
                this.opacity_ = t.opacity, this.rotateWithView_ = t.rotateWithView, this.rotation_ = t.rotation, this.scale_ = t.scale, this.displacement_ = t.displacement
            }
            return t.prototype.clone = function () {
                return new t({
                    opacity: this.getOpacity(),
                    scale: this.getScale(),
                    rotation: this.getRotation(),
                    rotateWithView: this.getRotateWithView(),
                    displacement: this.getDisplacement().slice()
                })
            }, t.prototype.getOpacity = function () {
                return this.opacity_
            }, t.prototype.getRotateWithView = function () {
                return this.rotateWithView_
            }, t.prototype.getRotation = function () {
                return this.rotation_
            }, t.prototype.getScale = function () {
                return this.scale_
            }, t.prototype.getDisplacement = function () {
                return this.displacement_
            }, t.prototype.getAnchor = function () {
                return ne()
            }, t.prototype.getImage = function (t) {
                return ne()
            }, t.prototype.getHitDetectionImage = function (t) {
                return ne()
            }, t.prototype.getImageState = function () {
                return ne()
            }, t.prototype.getImageSize = function () {
                return ne()
            }, t.prototype.getHitDetectionImageSize = function () {
                return ne()
            }, t.prototype.getOrigin = function () {
                return ne()
            }, t.prototype.getSize = function () {
                return ne()
            }, t.prototype.setOpacity = function (t) {
                this.opacity_ = t
            }, t.prototype.setRotateWithView = function (t) {
                this.rotateWithView_ = t
            }, t.prototype.setRotation = function (t) {
                this.rotation_ = t
            }, t.prototype.setScale = function (t) {
                this.scale_ = t
            }, t.prototype.listenImageChange = function (t) {
                ne()
            }, t.prototype.load = function () {
                ne()
            }, t.prototype.unlistenImageChange = function (t) {
                ne()
            }, t
        }(),
        gu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        vu = function (t) {
            function e(e) {
                var n = this,
                    r = void 0 !== e.rotateWithView && e.rotateWithView;
                return (n = t.call(this, {
                    opacity: 1,
                    rotateWithView: r,
                    rotation: void 0 !== e.rotation ? e.rotation : 0,
                    scale: 1,
                    displacement: void 0 !== e.displacement ? e.displacement : [0, 0]
                }) || this).canvas_ = null, n.hitDetectionCanvas_ = null, n.fill_ = void 0 !== e.fill ? e.fill : null, n.origin_ = [0, 0], n.points_ = e.points, n.radius_ = void 0 !== e.radius ? e.radius : e.radius1, n.radius2_ = e.radius2, n.angle_ = void 0 !== e.angle ? e.angle : 0, n.stroke_ = void 0 !== e.stroke ? e.stroke : null, n.anchor_ = null, n.size_ = null, n.imageSize_ = null, n.hitDetectionImageSize_ = null, n.render(), n
            }
            return gu(e, t), e.prototype.clone = function () {
                var t = new e({
                    fill: this.getFill() ? this.getFill().clone() : void 0,
                    points: this.getPoints(),
                    radius: this.getRadius(),
                    radius2: this.getRadius2(),
                    angle: this.getAngle(),
                    stroke: this.getStroke() ? this.getStroke().clone() : void 0,
                    rotation: this.getRotation(),
                    rotateWithView: this.getRotateWithView(),
                    displacement: this.getDisplacement().slice()
                });
                return t.setOpacity(this.getOpacity()), t.setScale(this.getScale()), t
            }, e.prototype.getAnchor = function () {
                return this.anchor_
            }, e.prototype.getAngle = function () {
                return this.angle_
            }, e.prototype.getFill = function () {
                return this.fill_
            }, e.prototype.getHitDetectionImage = function (t) {
                return this.hitDetectionCanvas_
            }, e.prototype.getImage = function (t) {
                return this.canvas_
            }, e.prototype.getImageSize = function () {
                return this.imageSize_
            }, e.prototype.getHitDetectionImageSize = function () {
                return this.hitDetectionImageSize_
            }, e.prototype.getImageState = function () {
                return 2
            }, e.prototype.getOrigin = function () {
                return this.origin_
            }, e.prototype.getPoints = function () {
                return this.points_
            }, e.prototype.getRadius = function () {
                return this.radius_
            }, e.prototype.getRadius2 = function () {
                return this.radius2_
            }, e.prototype.getSize = function () {
                return this.size_
            }, e.prototype.getStroke = function () {
                return this.stroke_
            }, e.prototype.listenImageChange = function (t) {}, e.prototype.load = function () {}, e.prototype.unlistenImageChange = function (t) {}, e.prototype.render = function () {
                var t, e = "round",
                    n = "round",
                    r = 0,
                    o = null,
                    i = 0,
                    a = 0;
                this.stroke_ && (null === (t = this.stroke_.getColor()) && (t = "#000"), t = wa(t), void 0 === (a = this.stroke_.getWidth()) && (a = 1), o = this.stroke_.getLineDash(), i = this.stroke_.getLineDashOffset(), void 0 === (n = this.stroke_.getLineJoin()) && (n = "round"), void 0 === (e = this.stroke_.getLineCap()) && (e = "round"), void 0 === (r = this.stroke_.getMiterLimit()) && (r = 10));
                var s = 2 * (this.radius_ + a) + 1,
                    u = {
                        strokeStyle: t,
                        strokeWidth: a,
                        size: s,
                        lineCap: e,
                        lineDash: o,
                        lineDashOffset: i,
                        lineJoin: n,
                        miterLimit: r
                    },
                    c = Vo(s, s);
                this.canvas_ = c.canvas;
                var l = s = this.canvas_.width,
                    h = this.getDisplacement();
                this.draw_(u, c, 0, 0), this.createHitDetectionCanvas_(u), this.anchor_ = [s / 2 - h[0], s / 2 + h[1]], this.size_ = [s, s], this.imageSize_ = [l, l]
            }, e.prototype.draw_ = function (t, e, n, r) {
                var o, i, a;
                e.setTransform(1, 0, 0, 1, 0, 0), e.translate(n, r), e.beginPath();
                var s = this.points_;
                if (s === 1 / 0) e.arc(t.size / 2, t.size / 2, this.radius_, 0, 2 * Math.PI, !0);
                else {
                    var u = void 0 !== this.radius2_ ? this.radius2_ : this.radius_;
                    for (u !== this.radius_ && (s *= 2), o = 0; o <= s; o++) i = 2 * o * Math.PI / s - Math.PI / 2 + this.angle_, a = o % 2 == 0 ? this.radius_ : u, e.lineTo(t.size / 2 + a * Math.cos(i), t.size / 2 + a * Math.sin(i))
                }
                if (this.fill_) {
                    var c = this.fill_.getColor();
                    null === c && (c = "#000"), e.fillStyle = wa(c), e.fill()
                }
                this.stroke_ && (e.strokeStyle = t.strokeStyle, e.lineWidth = t.strokeWidth, e.setLineDash && t.lineDash && (e.setLineDash(t.lineDash), e.lineDashOffset = t.lineDashOffset), e.lineCap = t.lineCap, e.lineJoin = t.lineJoin, e.miterLimit = t.miterLimit, e.stroke()), e.closePath()
            }, e.prototype.createHitDetectionCanvas_ = function (t) {
                if (this.hitDetectionImageSize_ = [t.size, t.size], this.hitDetectionCanvas_ = this.canvas_, this.fill_) {
                    var e = this.fill_.getColor(),
                        n = 0;
                    if ("string" == typeof e && (e = va(e)), null === e ? n = 1 : Array.isArray(e) && (n = 4 === e.length ? e[3] : 1), 0 === n) {
                        var r = Vo(t.size, t.size);
                        this.hitDetectionCanvas_ = r.canvas, this.drawHitDetectionCanvas_(t, r, 0, 0)
                    }
                }
            }, e.prototype.drawHitDetectionCanvas_ = function (t, e, n, r) {
                e.setTransform(1, 0, 0, 1, 0, 0), e.translate(n, r), e.beginPath();
                var o = this.points_;
                if (o === 1 / 0) e.arc(t.size / 2, t.size / 2, this.radius_, 0, 2 * Math.PI, !0);
                else {
                    var i = void 0 !== this.radius2_ ? this.radius2_ : this.radius_;
                    i !== this.radius_ && (o *= 2);
                    var a = void 0,
                        s = void 0,
                        u = void 0;
                    for (a = 0; a <= o; a++) u = 2 * a * Math.PI / o - Math.PI / 2 + this.angle_, s = a % 2 == 0 ? this.radius_ : i, e.lineTo(t.size / 2 + s * Math.cos(u), t.size / 2 + s * Math.sin(u))
                }
                e.fillStyle = "#000", e.fill(), this.stroke_ && (e.strokeStyle = t.strokeStyle, e.lineWidth = t.strokeWidth, t.lineDash && (e.setLineDash(t.lineDash), e.lineDashOffset = t.lineDashOffset), e.stroke()), e.closePath()
            }, e
        }(yu),
        mu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        _u = function (t) {
            function e(e) {
                var n = e || {};
                return t.call(this, {
                    points: 1 / 0,
                    fill: n.fill,
                    radius: n.radius,
                    stroke: n.stroke,
                    displacement: void 0 !== n.displacement ? n.displacement : [0, 0]
                }) || this
            }
            return mu(e, t), e.prototype.clone = function () {
                var t = new e({
                    fill: this.getFill() ? this.getFill().clone() : void 0,
                    stroke: this.getStroke() ? this.getStroke().clone() : void 0,
                    radius: this.getRadius(),
                    displacement: this.getDisplacement().slice()
                });
                return t.setOpacity(this.getOpacity()), t.setScale(this.getScale()), t
            }, e.prototype.setRadius = function (t) {
                this.radius_ = t, this.render()
            }, e
        }(vu),
        bu = function () {
            function t(t) {
                var e = t || {};
                this.color_ = void 0 !== e.color ? e.color : null
            }
            return t.prototype.clone = function () {
                var e = this.getColor();
                return new t({
                    color: Array.isArray(e) ? e.slice() : e || void 0
                })
            }, t.prototype.getColor = function () {
                return this.color_
            }, t.prototype.setColor = function (t) {
                this.color_ = t
            }, t
        }(),
        xu = function () {
            function t(t) {
                var e = t || {};
                this.color_ = void 0 !== e.color ? e.color : null, this.lineCap_ = e.lineCap, this.lineDash_ = void 0 !== e.lineDash ? e.lineDash : null, this.lineDashOffset_ = e.lineDashOffset, this.lineJoin_ = e.lineJoin, this.miterLimit_ = e.miterLimit, this.width_ = e.width
            }
            return t.prototype.clone = function () {
                var e = this.getColor();
                return new t({
                    color: Array.isArray(e) ? e.slice() : e || void 0,
                    lineCap: this.getLineCap(),
                    lineDash: this.getLineDash() ? this.getLineDash().slice() : void 0,
                    lineDashOffset: this.getLineDashOffset(),
                    lineJoin: this.getLineJoin(),
                    miterLimit: this.getMiterLimit(),
                    width: this.getWidth()
                })
            }, t.prototype.getColor = function () {
                return this.color_
            }, t.prototype.getLineCap = function () {
                return this.lineCap_
            }, t.prototype.getLineDash = function () {
                return this.lineDash_
            }, t.prototype.getLineDashOffset = function () {
                return this.lineDashOffset_
            }, t.prototype.getLineJoin = function () {
                return this.lineJoin_
            }, t.prototype.getMiterLimit = function () {
                return this.miterLimit_
            }, t.prototype.getWidth = function () {
                return this.width_
            }, t.prototype.setColor = function (t) {
                this.color_ = t
            }, t.prototype.setLineCap = function (t) {
                this.lineCap_ = t
            }, t.prototype.setLineDash = function (t) {
                this.lineDash_ = t
            }, t.prototype.setLineDashOffset = function (t) {
                this.lineDashOffset_ = t
            }, t.prototype.setLineJoin = function (t) {
                this.lineJoin_ = t
            }, t.prototype.setMiterLimit = function (t) {
                this.miterLimit_ = t
            }, t.prototype.setWidth = function (t) {
                this.width_ = t
            }, t
        }(),
        wu = function () {
            function t(t) {
                var e = t || {};
                this.geometry_ = null, this.geometryFunction_ = Tu, void 0 !== e.geometry && this.setGeometry(e.geometry), this.fill_ = void 0 !== e.fill ? e.fill : null, this.image_ = void 0 !== e.image ? e.image : null, this.renderer_ = void 0 !== e.renderer ? e.renderer : null, this.stroke_ = void 0 !== e.stroke ? e.stroke : null, this.text_ = void 0 !== e.text ? e.text : null, this.zIndex_ = e.zIndex
            }
            return t.prototype.clone = function () {
                var e = this.getGeometry();
                return e && "object" == typeof e && (e = e.clone()), new t({
                    geometry: e,
                    fill: this.getFill() ? this.getFill().clone() : void 0,
                    image: this.getImage() ? this.getImage().clone() : void 0,
                    stroke: this.getStroke() ? this.getStroke().clone() : void 0,
                    text: this.getText() ? this.getText().clone() : void 0,
                    zIndex: this.getZIndex()
                })
            }, t.prototype.getRenderer = function () {
                return this.renderer_
            }, t.prototype.setRenderer = function (t) {
                this.renderer_ = t
            }, t.prototype.getGeometry = function () {
                return this.geometry_
            }, t.prototype.getGeometryFunction = function () {
                return this.geometryFunction_
            }, t.prototype.getFill = function () {
                return this.fill_
            }, t.prototype.setFill = function (t) {
                this.fill_ = t
            }, t.prototype.getImage = function () {
                return this.image_
            }, t.prototype.setImage = function (t) {
                this.image_ = t
            }, t.prototype.getStroke = function () {
                return this.stroke_
            }, t.prototype.setStroke = function (t) {
                this.stroke_ = t
            }, t.prototype.getText = function () {
                return this.text_
            }, t.prototype.setText = function (t) {
                this.text_ = t
            }, t.prototype.getZIndex = function () {
                return this.zIndex_
            }, t.prototype.setGeometry = function (t) {
                "function" == typeof t ? this.geometryFunction_ = t : "string" == typeof t ? this.geometryFunction_ = function (e) {
                    return e.get(t)
                } : t ? void 0 !== t && (this.geometryFunction_ = function () {
                    return t
                }) : this.geometryFunction_ = Tu, this.geometry_ = t
            }, t.prototype.setZIndex = function (t) {
                this.zIndex_ = t
            }, t
        }(),
        Su = null;

    function Cu(t, e) {
        if (!Su) {
            var n = new bu({
                    color: "rgba(255,255,255,0.4)"
                }),
                r = new xu({
                    color: "#3399CC",
                    width: 1.25
                });
            Su = [new wu({
                image: new _u({
                    fill: n,
                    stroke: r,
                    radius: 5
                }),
                fill: n,
                stroke: r
            })]
        }
        return Su
    }

    function Eu() {
        var t = {},
            e = [255, 255, 255, 1],
            n = [0, 153, 255, 1];
        return t.Polygon = [new wu({
            fill: new bu({
                color: [255, 255, 255, .5]
            })
        })], t.MultiPolygon = t.Polygon, t.LineString = [new wu({
            stroke: new xu({
                color: e,
                width: 5
            })
        }), new wu({
            stroke: new xu({
                color: n,
                width: 3
            })
        })], t.MultiLineString = t.LineString, t.Circle = t.Polygon.concat(t.LineString), t.Point = [new wu({
            image: new _u({
                radius: 6,
                fill: new bu({
                    color: n
                }),
                stroke: new xu({
                    color: e,
                    width: 1.5
                })
            }),
            zIndex: 1 / 0
        })], t.MultiPoint = t.Point, t.GeometryCollection = t.Polygon.concat(t.LineString, t.Point), t
    }

    function Tu(t) {
        return t.getGeometry()
    }
    var Ou = wu,
        Pu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function Au(t) {
        if (t.frameState) {
            this.sliderInitialized_ || this.initSlider_();
            var e = t.frameState.viewState.resolution;
            this.currentResolution_ = e, this.setThumbPosition_(e)
        }
    }
    var Ru = function (t) {
            function e(e) {
                var n = this,
                    r = e || {};
                (n = t.call(this, {
                    element: document.createElement("div"),
                    render: r.render || Au
                }) || this).dragListenerKeys_ = [], n.currentResolution_ = void 0, n.direction_ = 0, n.dragging_, n.heightLimit_ = 0, n.widthLimit_ = 0, n.startX_, n.startY_, n.thumbSize_ = null, n.sliderInitialized_ = !1, n.duration_ = void 0 !== r.duration ? r.duration : 200;
                var o = void 0 !== r.className ? r.className : "ol-zoomslider",
                    i = document.createElement("button");
                i.setAttribute("type", "button"), i.className = o + "-thumb ol-unselectable";
                var a = n.element;
                return a.className = o + " ol-unselectable ol-control", a.appendChild(i), a.addEventListener("pointerdown", n.handleDraggerStart_.bind(n), !1), a.addEventListener("pointermove", n.handleDraggerDrag_.bind(n), !1), a.addEventListener("pointerup", n.handleDraggerEnd_.bind(n), !1), a.addEventListener("click", n.handleContainerClick_.bind(n), !1), i.addEventListener("click", Ee, !1), n
            }
            return Pu(e, t), e.prototype.setMap = function (e) {
                t.prototype.setMap.call(this, e), e && e.render()
            }, e.prototype.initSlider_ = function () {
                var t = this.element,
                    e = t.offsetWidth,
                    n = t.offsetHeight,
                    r = t.firstElementChild,
                    o = getComputedStyle(r),
                    i = r.offsetWidth + parseFloat(o.marginRight) + parseFloat(o.marginLeft),
                    a = r.offsetHeight + parseFloat(o.marginTop) + parseFloat(o.marginBottom);
                this.thumbSize_ = [i, a], e > n ? (this.direction_ = 1, this.widthLimit_ = e - i) : (this.direction_ = 0, this.heightLimit_ = n - a), this.sliderInitialized_ = !0
            }, e.prototype.handleContainerClick_ = function (t) {
                var e = this.getMap().getView(),
                    n = this.getRelativePosition_(t.offsetX - this.thumbSize_[0] / 2, t.offsetY - this.thumbSize_[1] / 2),
                    r = this.getResolutionForPosition_(n),
                    o = e.getConstrainedZoom(e.getZoomForResolution(r));
                e.animateInternal({
                    zoom: o,
                    duration: this.duration_,
                    easing: ir
                })
            }, e.prototype.handleDraggerStart_ = function (t) {
                if (!this.dragging_ && t.target === this.element.firstElementChild) {
                    var e = this.element.firstElementChild;
                    if (this.getMap().getView().beginInteraction(), this.startX_ = t.clientX - parseFloat(e.style.left), this.startY_ = t.clientY - parseFloat(e.style.top), this.dragging_ = !0, 0 === this.dragListenerKeys_.length) {
                        var n = this.handleDraggerDrag_,
                            r = this.handleDraggerEnd_;
                        this.dragListenerKeys_.push(fe(document, "pointermove", n, this), fe(document, "pointerup", r, this))
                    }
                }
            }, e.prototype.handleDraggerDrag_ = function (t) {
                if (this.dragging_) {
                    var e = t.clientX - this.startX_,
                        n = t.clientY - this.startY_,
                        r = this.getRelativePosition_(e, n);
                    this.currentResolution_ = this.getResolutionForPosition_(r), this.getMap().getView().setResolution(this.currentResolution_)
                }
            }, e.prototype.handleDraggerEnd_ = function (t) {
                this.dragging_ && (this.getMap().getView().endInteraction(), this.dragging_ = !1, this.startX_ = void 0, this.startY_ = void 0, this.dragListenerKeys_.forEach(de), this.dragListenerKeys_.length = 0)
            }, e.prototype.setThumbPosition_ = function (t) {
                var e = this.getPositionForResolution_(t),
                    n = this.element.firstElementChild;
                1 == this.direction_ ? n.style.left = this.widthLimit_ * e + "px" : n.style.top = this.heightLimit_ * e + "px"
            }, e.prototype.getRelativePosition_ = function (t, e) {
                return un(1 === this.direction_ ? t / this.widthLimit_ : e / this.heightLimit_, 0, 1)
            }, e.prototype.getResolutionForPosition_ = function (t) {
                return this.getMap().getView().getResolutionForValueFunction()(1 - t)
            }, e.prototype.getPositionForResolution_ = function (t) {
                return un(1 - this.getMap().getView().getValueForResolutionFunction()(t), 0, 1)
            }, e
        }(si),
        Iu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();

    function ku(t) {
        var e = t.frameState;
        e ? this.mapProjection_ != e.viewState.projection && (this.mapProjection_ = e.viewState.projection, this.transform_ = null) : this.mapProjection_ = null
    }
    var Lu = function (t) {
            function e(e) {
                var n = this,
                    r = e || {},
                    o = document.createElement("div");
                return o.className = void 0 !== r.className ? r.className : "ol-mouse-position", (n = t.call(this, {
                    element: o,
                    render: r.render || ku,
                    target: r.target
                }) || this).addEventListener(De("projection"), n.handleProjectionChanged_), r.coordinateFormat && n.setCoordinateFormat(r.coordinateFormat), r.projection && n.setProjection(r.projection), n.undefinedHTML_ = void 0 !== r.undefinedHTML ? r.undefinedHTML : "&#160;", n.renderOnMouseOut_ = !!n.undefinedHTML_, n.renderedHTML_ = o.innerHTML, n.mapProjection_ = null, n.transform_ = null, n
            }
            return Iu(e, t), e.prototype.handleProjectionChanged_ = function () {
                this.transform_ = null
            }, e.prototype.getCoordinateFormat = function () {
                return this.get("coordinateFormat")
            }, e.prototype.getProjection = function () {
                return this.get("projection")
            }, e.prototype.handleMouseMove = function (t) {
                var e = this.getMap();
                this.updateHTML_(e.getEventPixel(t))
            }, e.prototype.handleMouseOut = function (t) {
                this.updateHTML_(null)
            }, e.prototype.setMap = function (e) {
                if (t.prototype.setMap.call(this, e), e) {
                    var n = e.getViewport();
                    this.listenerKeys.push(fe(n, "pointermove", this.handleMouseMove, this)), this.renderOnMouseOut_ && this.listenerKeys.push(fe(n, "pointerout", this.handleMouseOut, this))
                }
            }, e.prototype.setCoordinateFormat = function (t) {
                this.set("coordinateFormat", t)
            }, e.prototype.setProjection = function (t) {
                this.set("projection", kr(t))
            }, e.prototype.updateHTML_ = function (t) {
                var e = this.undefinedHTML_;
                if (t && this.mapProjection_) {
                    if (!this.transform_) {
                        var n = this.getProjection();
                        this.transform_ = n ? Fr(this.mapProjection_, n) : Rr
                    }
                    var r = this.getMap().getCoordinateFromPixelInternal(t);
                    if (r) {
                        this.transform_(r, r);
                        var o = this.getCoordinateFormat();
                        e = o ? o(r) : r.toString()
                    }
                }
                this.renderedHTML_ && e === this.renderedHTML_ || (this.element.innerHTML = e, this.renderedHTML_ = e)
            }, e
        }(si),
        ju = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Mu = function (t) {
            function e(e) {
                var n = this,
                    r = e || {};
                (n = t.call(this, {
                    element: document.createElement("div"),
                    target: r.target
                }) || this).extent = r.extent ? r.extent : null;
                var o = void 0 !== r.className ? r.className : "ol-zoom-extent",
                    i = void 0 !== r.label ? r.label : "E",
                    a = void 0 !== r.tipLabel ? r.tipLabel : "Fit to extent",
                    s = document.createElement("button");
                s.setAttribute("type", "button"), s.title = a, s.appendChild("string" == typeof i ? document.createTextNode(i) : i), s.addEventListener("click", n.handleClick_.bind(n), !1);
                var u = o + " ol-unselectable ol-control",
                    c = n.element;
                return c.className = u, c.appendChild(s), n
            }
            return ju(e, t), e.prototype.handleClick_ = function (t) {
                t.preventDefault(), this.handleZoomToExtent()
            }, e.prototype.handleZoomToExtent = function () {
                var t = this.getMap().getView(),
                    e = this.extent ? this.extent : t.getProjection().getExtent();
                t.fitInternal(zo(e))
            }, e
        }(si),
        Du = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Fu = function (t) {
            function e(e) {
                var n = this,
                    r = e || {},
                    o = ue({}, r);
                return delete o.style, delete o.renderBuffer, delete o.updateWhileAnimating, delete o.updateWhileInteracting, (n = t.call(this, o) || this).declutter_ = void 0 !== r.declutter && r.declutter, n.renderBuffer_ = void 0 !== r.renderBuffer ? r.renderBuffer : 100, n.style_ = null, n.styleFunction_ = void 0, n.setStyle(r.style), n.updateWhileAnimating_ = void 0 !== r.updateWhileAnimating && r.updateWhileAnimating, n.updateWhileInteracting_ = void 0 !== r.updateWhileInteracting && r.updateWhileInteracting, n
            }
            return Du(e, t), e.prototype.getDeclutter = function () {
                return this.declutter_
            }, e.prototype.getFeatures = function (e) {
                return t.prototype.getFeatures.call(this, e)
            }, e.prototype.getRenderBuffer = function () {
                return this.renderBuffer_
            }, e.prototype.getRenderOrder = function () {
                return this.get("renderOrder")
            }, e.prototype.getStyle = function () {
                return this.style_
            }, e.prototype.getStyleFunction = function () {
                return this.styleFunction_
            }, e.prototype.getUpdateWhileAnimating = function () {
                return this.updateWhileAnimating_
            }, e.prototype.getUpdateWhileInteracting = function () {
                return this.updateWhileInteracting_
            }, e.prototype.setRenderOrder = function (t) {
                this.set("renderOrder", t)
            }, e.prototype.setStyle = function (t) {
                var e, n, r;
                this.style_ = void 0 !== t ? t : Cu, this.styleFunction_ = null === t ? void 0 : ("function" == typeof (e = this.style_) ? n = e : (Array.isArray(e) ? r = e : (rn("function" == typeof e.getZIndex, 41), r = [e]), n = function () {
                    return r
                }), n), this.changed()
            }, e
        }(hi),
        Gu = {
            BEGIN_GEOMETRY: 0,
            BEGIN_PATH: 1,
            CIRCLE: 2,
            CLOSE_PATH: 3,
            CUSTOM: 4,
            DRAW_CHARS: 5,
            DRAW_IMAGE: 6,
            END_GEOMETRY: 7,
            FILL: 8,
            MOVE_TO_LINE_TO: 9,
            SET_FILL_STYLE: 10,
            SET_STROKE_STYLE: 11,
            STROKE: 12
        },
        Nu = [Gu.FILL],
        zu = [Gu.STROKE],
        Bu = [Gu.BEGIN_PATH],
        Uu = [Gu.CLOSE_PATH],
        Xu = Gu,
        Wu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Vu = function (t) {
            function e(e, n, r, o) {
                var i = t.call(this) || this;
                return i.tolerance = e, i.maxExtent = n, i.pixelRatio = o, i.maxLineWidth = 0, i.resolution = r, i.beginGeometryInstruction1_ = null, i.beginGeometryInstruction2_ = null, i.bufferedMaxExtent_ = null, i.instructions = [], i.coordinates = [], i.tmpCoordinate_ = [], i.hitDetectionInstructions = [], i.state = {}, i
            }
            return Wu(e, t), e.prototype.applyPixelRatio = function (t) {
                var e = this.pixelRatio;
                return 1 == e ? t : t.map((function (t) {
                    return t * e
                }))
            }, e.prototype.appendFlatCoordinates = function (t, e, n, r, o, i) {
                var a = this.coordinates.length,
                    s = this.getBufferedMaxExtent();
                i && (e += r);
                var u, c, l, h = t[e],
                    f = t[e + 1],
                    p = this.tmpCoordinate_,
                    d = !0;
                for (u = e + r; u < n; u += r) p[0] = t[u], p[1] = t[u + 1], (l = Cn(s, p)) !== c ? (d && (this.coordinates[a++] = h, this.coordinates[a++] = f), this.coordinates[a++] = p[0], this.coordinates[a++] = p[1], d = !1) : 1 === l ? (this.coordinates[a++] = p[0], this.coordinates[a++] = p[1], d = !1) : d = !0, h = p[0], f = p[1], c = l;
                return (o && d || u === e + r) && (this.coordinates[a++] = h, this.coordinates[a++] = f), a
            }, e.prototype.drawCustomCoordinates_ = function (t, e, n, r, o) {
                for (var i = 0, a = n.length; i < a; ++i) {
                    var s = n[i],
                        u = this.appendFlatCoordinates(t, e, s, r, !1, !1);
                    o.push(u), e = s
                }
                return e
            }, e.prototype.drawCustom = function (t, e, n) {
                this.beginGeometry(t, e);
                var r, o, i, a, s, u = t.getType(),
                    c = t.getStride(),
                    l = this.coordinates.length;
                if ("MultiPolygon" == u) {
                    r = (t = t).getOrientedFlatCoordinates(), a = [];
                    var h = t.getEndss();
                    s = 0;
                    for (var f = 0, p = h.length; f < p; ++f) {
                        var d = [];
                        s = this.drawCustomCoordinates_(r, s, h[f], c, d), a.push(d)
                    }
                    this.instructions.push([Xu.CUSTOM, l, a, t, n, go])
                } else "Polygon" == u || "MultiLineString" == u ? (i = [], r = "Polygon" == u ? t.getOrientedFlatCoordinates() : t.getFlatCoordinates(), s = this.drawCustomCoordinates_(r, 0, t.getEnds(), c, i), this.instructions.push([Xu.CUSTOM, l, i, t, n, yo])) : "LineString" == u || "MultiPoint" == u ? (r = t.getFlatCoordinates(), o = this.appendFlatCoordinates(r, 0, r.length, c, !1, !1), this.instructions.push([Xu.CUSTOM, l, o, t, n, po])) : "Point" == u && (r = t.getFlatCoordinates(), this.coordinates.push(r[0], r[1]), o = this.coordinates.length, this.instructions.push([Xu.CUSTOM, l, o, t, n]));
                this.endGeometry(e)
            }, e.prototype.beginGeometry = function (t, e) {
                var n = t.getExtent();
                this.beginGeometryInstruction1_ = [Xu.BEGIN_GEOMETRY, e, 0, n], this.instructions.push(this.beginGeometryInstruction1_), this.beginGeometryInstruction2_ = [Xu.BEGIN_GEOMETRY, e, 0, n], this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)
            }, e.prototype.finish = function () {
                return {
                    instructions: this.instructions,
                    hitDetectionInstructions: this.hitDetectionInstructions,
                    coordinates: this.coordinates
                }
            }, e.prototype.reverseHitDetectionInstructions = function () {
                var t, e = this.hitDetectionInstructions;
                e.reverse();
                var n, r, o = e.length,
                    i = -1;
                for (t = 0; t < o; ++t)(r = (n = e[t])[0]) == Xu.END_GEOMETRY ? i = t : r == Xu.BEGIN_GEOMETRY && (n[2] = t, _e(this.hitDetectionInstructions, i, t), i = -1)
            }, e.prototype.setFillStrokeStyle = function (t, e) {
                var n = this.state;
                if (t) {
                    var r = t.getColor();
                    n.fillStyle = wa(r || "#000")
                } else n.fillStyle = void 0;
                if (e) {
                    var o = e.getColor();
                    n.strokeStyle = wa(o || "#000");
                    var i = e.getLineCap();
                    n.lineCap = void 0 !== i ? i : "round";
                    var a = e.getLineDash();
                    n.lineDash = a ? a.slice() : Ca;
                    var s = e.getLineDashOffset();
                    n.lineDashOffset = s || 0;
                    var u = e.getLineJoin();
                    n.lineJoin = void 0 !== u ? u : "round";
                    var c = e.getWidth();
                    n.lineWidth = void 0 !== c ? c : 1;
                    var l = e.getMiterLimit();
                    n.miterLimit = void 0 !== l ? l : 10, n.lineWidth > this.maxLineWidth && (this.maxLineWidth = n.lineWidth, this.bufferedMaxExtent_ = null)
                } else n.strokeStyle = void 0, n.lineCap = void 0, n.lineDash = null, n.lineDashOffset = void 0, n.lineJoin = void 0, n.lineWidth = void 0, n.miterLimit = void 0
            }, e.prototype.createFill = function (t) {
                var e = t.fillStyle,
                    n = [Xu.SET_FILL_STYLE, e];
                return "string" != typeof e && n.push(!0), n
            }, e.prototype.applyStroke = function (t) {
                this.instructions.push(this.createStroke(t))
            }, e.prototype.createStroke = function (t) {
                return [Xu.SET_STROKE_STYLE, t.strokeStyle, t.lineWidth * this.pixelRatio, t.lineCap, t.lineJoin, t.miterLimit, this.applyPixelRatio(t.lineDash), t.lineDashOffset * this.pixelRatio]
            }, e.prototype.updateFillStyle = function (t, e) {
                var n = t.fillStyle;
                "string" == typeof n && t.currentFillStyle == n || (void 0 !== n && this.instructions.push(e.call(this, t)), t.currentFillStyle = n)
            }, e.prototype.updateStrokeStyle = function (t, e) {
                var n = t.strokeStyle,
                    r = t.lineCap,
                    o = t.lineDash,
                    i = t.lineDashOffset,
                    a = t.lineJoin,
                    s = t.lineWidth,
                    u = t.miterLimit;
                (t.currentStrokeStyle != n || t.currentLineCap != r || o != t.currentLineDash && !xe(t.currentLineDash, o) || t.currentLineDashOffset != i || t.currentLineJoin != a || t.currentLineWidth != s || t.currentMiterLimit != u) && (void 0 !== n && e.call(this, t), t.currentStrokeStyle = n, t.currentLineCap = r, t.currentLineDash = o, t.currentLineDashOffset = i, t.currentLineJoin = a, t.currentLineWidth = s, t.currentMiterLimit = u)
            }, e.prototype.endGeometry = function (t) {
                this.beginGeometryInstruction1_[2] = this.instructions.length, this.beginGeometryInstruction1_ = null, this.beginGeometryInstruction2_[2] = this.hitDetectionInstructions.length, this.beginGeometryInstruction2_ = null;
                var e = [Xu.END_GEOMETRY, t];
                this.instructions.push(e), this.hitDetectionInstructions.push(e)
            }, e.prototype.getBufferedMaxExtent = function () {
                if (!this.bufferedMaxExtent_ && (this.bufferedMaxExtent_ = _n(this.maxExtent), this.maxLineWidth > 0)) {
                    var t = this.resolution * (this.maxLineWidth + 1) / 2;
                    mn(this.bufferedMaxExtent_, t, this.bufferedMaxExtent_)
                }
                return this.bufferedMaxExtent_
            }, e
        }(Sa),
        Hu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Yu = function (t) {
            function e(e, n, r, o) {
                var i = t.call(this, e, n, r, o) || this;
                return i.declutterGroups_ = null, i.hitDetectionImage_ = null, i.image_ = null, i.anchorX_ = void 0, i.anchorY_ = void 0, i.height_ = void 0, i.opacity_ = void 0, i.originX_ = void 0, i.originY_ = void 0, i.rotateWithView_ = void 0, i.rotation_ = void 0, i.scale_ = void 0, i.width_ = void 0, i
            }
            return Hu(e, t), e.prototype.drawCoordinates_ = function (t, e, n, r) {
                return this.appendFlatCoordinates(t, e, n, r, !1, !1)
            }, e.prototype.drawPoint = function (t, e) {
                if (this.image_) {
                    this.beginGeometry(t, e);
                    var n = t.getFlatCoordinates(),
                        r = t.getStride(),
                        o = this.coordinates.length,
                        i = this.drawCoordinates_(n, 0, n.length, r);
                    this.instructions.push([Xu.DRAW_IMAGE, o, i, this.image_, this.anchorX_, this.anchorY_, this.declutterGroups_, this.height_, this.opacity_, this.originX_, this.originY_, this.rotateWithView_, this.rotation_, this.scale_ * this.pixelRatio, this.width_]), this.hitDetectionInstructions.push([Xu.DRAW_IMAGE, o, i, this.hitDetectionImage_, this.anchorX_, this.anchorY_, this.declutterGroups_, this.height_, this.opacity_, this.originX_, this.originY_, this.rotateWithView_, this.rotation_, this.scale_, this.width_]), this.endGeometry(e)
                }
            }, e.prototype.drawMultiPoint = function (t, e) {
                if (this.image_) {
                    this.beginGeometry(t, e);
                    var n = t.getFlatCoordinates(),
                        r = t.getStride(),
                        o = this.coordinates.length,
                        i = this.drawCoordinates_(n, 0, n.length, r);
                    this.instructions.push([Xu.DRAW_IMAGE, o, i, this.image_, this.anchorX_, this.anchorY_, this.declutterGroups_, this.height_, this.opacity_, this.originX_, this.originY_, this.rotateWithView_, this.rotation_, this.scale_ * this.pixelRatio, this.width_]), this.hitDetectionInstructions.push([Xu.DRAW_IMAGE, o, i, this.hitDetectionImage_, this.anchorX_, this.anchorY_, this.declutterGroups_, this.height_, this.opacity_, this.originX_, this.originY_, this.rotateWithView_, this.rotation_, this.scale_, this.width_]), this.endGeometry(e)
                }
            }, e.prototype.finish = function () {
                return this.reverseHitDetectionInstructions(), this.anchorX_ = void 0, this.anchorY_ = void 0, this.hitDetectionImage_ = null, this.image_ = null, this.height_ = void 0, this.scale_ = void 0, this.opacity_ = void 0, this.originX_ = void 0, this.originY_ = void 0, this.rotateWithView_ = void 0, this.rotation_ = void 0, this.width_ = void 0, t.prototype.finish.call(this)
            }, e.prototype.setImageStyle = function (t, e) {
                var n = t.getAnchor(),
                    r = t.getSize(),
                    o = t.getHitDetectionImage(1),
                    i = t.getImage(1),
                    a = t.getOrigin();
                this.anchorX_ = n[0], this.anchorY_ = n[1], this.declutterGroups_ = e, this.hitDetectionImage_ = o, this.image_ = i, this.height_ = r[1], this.opacity_ = t.getOpacity(), this.originX_ = a[0], this.originY_ = a[1], this.rotateWithView_ = t.getRotateWithView(), this.rotation_ = t.getRotation(), this.scale_ = t.getScale(), this.width_ = r[0]
            }, e
        }(Vu),
        Zu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        qu = function (t) {
            function e(e, n, r, o) {
                return t.call(this, e, n, r, o) || this
            }
            return Zu(e, t), e.prototype.drawFlatCoordinates_ = function (t, e, n, r) {
                var o = this.coordinates.length,
                    i = this.appendFlatCoordinates(t, e, n, r, !1, !1),
                    a = [Xu.MOVE_TO_LINE_TO, o, i];
                return this.instructions.push(a), this.hitDetectionInstructions.push(a), n
            }, e.prototype.drawLineString = function (t, e) {
                var n = this.state,
                    r = n.strokeStyle,
                    o = n.lineWidth;
                if (void 0 !== r && void 0 !== o) {
                    this.updateStrokeStyle(n, this.applyStroke), this.beginGeometry(t, e), this.hitDetectionInstructions.push([Xu.SET_STROKE_STYLE, n.strokeStyle, n.lineWidth, n.lineCap, n.lineJoin, n.miterLimit, n.lineDash, n.lineDashOffset], Bu);
                    var i = t.getFlatCoordinates(),
                        a = t.getStride();
                    this.drawFlatCoordinates_(i, 0, i.length, a), this.hitDetectionInstructions.push(zu), this.endGeometry(e)
                }
            }, e.prototype.drawMultiLineString = function (t, e) {
                var n = this.state,
                    r = n.strokeStyle,
                    o = n.lineWidth;
                if (void 0 !== r && void 0 !== o) {
                    this.updateStrokeStyle(n, this.applyStroke), this.beginGeometry(t, e), this.hitDetectionInstructions.push([Xu.SET_STROKE_STYLE, n.strokeStyle, n.lineWidth, n.lineCap, n.lineJoin, n.miterLimit, n.lineDash, n.lineDashOffset], Bu);
                    for (var i = t.getEnds(), a = t.getFlatCoordinates(), s = t.getStride(), u = 0, c = 0, l = i.length; c < l; ++c) u = this.drawFlatCoordinates_(a, u, i[c], s);
                    this.hitDetectionInstructions.push(zu), this.endGeometry(e)
                }
            }, e.prototype.finish = function () {
                var e = this.state;
                return null != e.lastStroke && e.lastStroke != this.coordinates.length && this.instructions.push(zu), this.reverseHitDetectionInstructions(), this.state = null, t.prototype.finish.call(this)
            }, e.prototype.applyStroke = function (e) {
                null != e.lastStroke && e.lastStroke != this.coordinates.length && (this.instructions.push(zu), e.lastStroke = this.coordinates.length), e.lastStroke = 0, t.prototype.applyStroke.call(this, e), this.instructions.push(Bu)
            }, e
        }(Vu),
        Ku = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        $u = function (t) {
            function e(e, n, r, o) {
                return t.call(this, e, n, r, o) || this
            }
            return Ku(e, t), e.prototype.drawFlatCoordinatess_ = function (t, e, n, r) {
                var o = this.state,
                    i = void 0 !== o.fillStyle,
                    a = void 0 !== o.strokeStyle,
                    s = n.length;
                this.instructions.push(Bu), this.hitDetectionInstructions.push(Bu);
                for (var u = 0; u < s; ++u) {
                    var c = n[u],
                        l = this.coordinates.length,
                        h = this.appendFlatCoordinates(t, e, c, r, !0, !a),
                        f = [Xu.MOVE_TO_LINE_TO, l, h];
                    this.instructions.push(f), this.hitDetectionInstructions.push(f), a && (this.instructions.push(Uu), this.hitDetectionInstructions.push(Uu)), e = c
                }
                return i && (this.instructions.push(Nu), this.hitDetectionInstructions.push(Nu)), a && (this.instructions.push(zu), this.hitDetectionInstructions.push(zu)), e
            }, e.prototype.drawCircle = function (t, e) {
                var n = this.state,
                    r = n.fillStyle,
                    o = n.strokeStyle;
                if (void 0 !== r || void 0 !== o) {
                    this.setFillStrokeStyles_(), this.beginGeometry(t, e), void 0 !== n.fillStyle && this.hitDetectionInstructions.push([Xu.SET_FILL_STYLE, "#000"]), void 0 !== n.strokeStyle && this.hitDetectionInstructions.push([Xu.SET_STROKE_STYLE, n.strokeStyle, n.lineWidth, n.lineCap, n.lineJoin, n.miterLimit, n.lineDash, n.lineDashOffset]);
                    var i = t.getFlatCoordinates(),
                        a = t.getStride(),
                        s = this.coordinates.length;
                    this.appendFlatCoordinates(i, 0, i.length, a, !1, !1);
                    var u = [Xu.CIRCLE, s];
                    this.instructions.push(Bu, u), this.hitDetectionInstructions.push(Bu, u), void 0 !== n.fillStyle && (this.instructions.push(Nu), this.hitDetectionInstructions.push(Nu)), void 0 !== n.strokeStyle && (this.instructions.push(zu), this.hitDetectionInstructions.push(zu)), this.endGeometry(e)
                }
            }, e.prototype.drawPolygon = function (t, e) {
                var n = this.state,
                    r = n.fillStyle,
                    o = n.strokeStyle;
                if (void 0 !== r || void 0 !== o) {
                    this.setFillStrokeStyles_(), this.beginGeometry(t, e), void 0 !== n.fillStyle && this.hitDetectionInstructions.push([Xu.SET_FILL_STYLE, "#000"]), void 0 !== n.strokeStyle && this.hitDetectionInstructions.push([Xu.SET_STROKE_STYLE, n.strokeStyle, n.lineWidth, n.lineCap, n.lineJoin, n.miterLimit, n.lineDash, n.lineDashOffset]);
                    var i = t.getEnds(),
                        a = t.getOrientedFlatCoordinates(),
                        s = t.getStride();
                    this.drawFlatCoordinatess_(a, 0, i, s), this.endGeometry(e)
                }
            }, e.prototype.drawMultiPolygon = function (t, e) {
                var n = this.state,
                    r = n.fillStyle,
                    o = n.strokeStyle;
                if (void 0 !== r || void 0 !== o) {
                    this.setFillStrokeStyles_(), this.beginGeometry(t, e), void 0 !== n.fillStyle && this.hitDetectionInstructions.push([Xu.SET_FILL_STYLE, "#000"]), void 0 !== n.strokeStyle && this.hitDetectionInstructions.push([Xu.SET_STROKE_STYLE, n.strokeStyle, n.lineWidth, n.lineCap, n.lineJoin, n.miterLimit, n.lineDash, n.lineDashOffset]);
                    for (var i = t.getEndss(), a = t.getOrientedFlatCoordinates(), s = t.getStride(), u = 0, c = 0, l = i.length; c < l; ++c) u = this.drawFlatCoordinatess_(a, u, i[c], s);
                    this.endGeometry(e)
                }
            }, e.prototype.finish = function () {
                this.reverseHitDetectionInstructions(), this.state = null;
                var e = this.tolerance;
                if (0 !== e)
                    for (var n = this.coordinates, r = 0, o = n.length; r < o; ++r) n[r] = mo(n[r], e);
                return t.prototype.finish.call(this)
            }, e.prototype.setFillStrokeStyles_ = function () {
                var t = this.state;
                void 0 !== t.fillStyle && this.updateFillStyle(t, this.createFill), void 0 !== t.strokeStyle && this.updateStrokeStyle(t, this.applyStroke)
            }, e
        }(Vu);

    function Ju(t, e, n, r, o) {
        var i, a, s, u, c, l, h, f, p, d = n,
            y = n,
            g = 0,
            v = 0,
            m = n;
        for (i = n; i < r; i += o) {
            var _ = e[i],
                b = e[i + 1];
            void 0 !== u && (f = _ - u, p = b - c, s = Math.sqrt(f * f + p * p), void 0 !== l && (v += a, Math.acos((l * f + h * p) / (a * s)) > t && (v > g && (g = v, d = m, y = i), v = 0, m = i - o)), a = s, l = f, h = p), u = _, c = b
        }
        return (v += s) > g ? [m, i] : [d, y]
    }
    var Qu = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        tc = {
            left: 0,
            end: 0,
            center: .5,
            right: 1,
            start: 1,
            top: 0,
            middle: .5,
            hanging: .2,
            alphabetic: .8,
            ideographic: .8,
            bottom: 1
        },
        ec = {
            Circle: $u,
            Default: Vu,
            Image: Yu,
            LineString: qu,
            Polygon: $u,
            Text: function (t) {
                function e(e, n, r, o) {
                    var i = t.call(this, e, n, r, o) || this;
                    return i.declutterGroups_, i.labels_ = null, i.text_ = "", i.textOffsetX_ = 0, i.textOffsetY_ = 0, i.textRotateWithView_ = void 0, i.textRotation_ = 0, i.textFillState_ = null, i.fillStates = {}, i.textStrokeState_ = null, i.strokeStates = {}, i.textState_ = {}, i.textStates = {}, i.textKey_ = "", i.fillKey_ = "", i.strokeKey_ = "", i
                }
                return Qu(e, t), e.prototype.finish = function () {
                    var e = t.prototype.finish.call(this);
                    return e.textStates = this.textStates, e.fillStates = this.fillStates, e.strokeStates = this.strokeStates, e
                }, e.prototype.drawText = function (t, e) {
                    var n = this.textFillState_,
                        r = this.textStrokeState_,
                        o = this.textState_;
                    if ("" !== this.text_ && o && (n || r)) {
                        var i, a, s = this.coordinates.length,
                            u = t.getType(),
                            c = null,
                            l = 2,
                            h = 2;
                        if ("line" === o.placement) {
                            if (!Hn(this.getBufferedMaxExtent(), t.getExtent())) return;
                            var f = void 0;
                            if (c = t.getFlatCoordinates(), h = t.getStride(), "LineString" == u) f = [c.length];
                            else if ("MultiLineString" == u) f = t.getEnds();
                            else if ("Polygon" == u) f = t.getEnds().slice(0, 1);
                            else if ("MultiPolygon" == u) {
                                var p = t.getEndss();
                                for (f = [], i = 0, a = p.length; i < a; ++i) f.push(p[i][0])
                            }
                            this.beginGeometry(t, e);
                            for (var d = o.textAlign, y = 0, g = void 0, v = 0, m = f.length; v < m; ++v) {
                                if (null == d) {
                                    var _ = Ju(o.maxAngle, c, y, f[v], h);
                                    y = _[0], g = _[1]
                                } else g = f[v];
                                for (i = y; i < g; i += h) this.coordinates.push(c[i], c[i + 1]);
                                l = this.coordinates.length, y = f[v];
                                var b = this.declutterGroups_ ? 0 === v ? this.declutterGroups_[0] : [].concat(this.declutterGroups_[0]) : null;
                                this.drawChars_(s, l, b), s = l
                            }
                            this.endGeometry(e)
                        } else {
                            var x = null;
                            switch (o.overflow || (x = []), u) {
                                case "Point":
                                case "MultiPoint":
                                    l = (c = t.getFlatCoordinates()).length;
                                    break;
                                case "LineString":
                                    c = t.getFlatMidpoint();
                                    break;
                                case "Circle":
                                    c = t.getCenter();
                                    break;
                                case "MultiLineString":
                                    l = (c = t.getFlatMidpoints()).length;
                                    break;
                                case "Polygon":
                                    c = t.getFlatInteriorPoint(), o.overflow || x.push(c[2] / this.resolution), h = 3;
                                    break;
                                case "MultiPolygon":
                                    var w = t.getFlatInteriorPoints();
                                    for (c = [], i = 0, a = w.length; i < a; i += 3) o.overflow || x.push(w[i + 2] / this.resolution), c.push(w[i], w[i + 1]);
                                    if (0 == (l = c.length)) return
                            }
                            l = this.appendFlatCoordinates(c, 0, l, h, !1, !1), this.saveTextStates_(), (o.backgroundFill || o.backgroundStroke) && (this.setFillStrokeStyle(o.backgroundFill, o.backgroundStroke), o.backgroundFill && (this.updateFillStyle(this.state, this.createFill), this.hitDetectionInstructions.push(this.createFill(this.state))), o.backgroundStroke && (this.updateStrokeStyle(this.state, this.applyStroke), this.hitDetectionInstructions.push(this.createStroke(this.state)))), this.beginGeometry(t, e);
                            var S = this.pixelRatio;
                            this.instructions.push([Xu.DRAW_IMAGE, s, l, null, NaN, NaN, this.declutterGroups_, NaN, 1, 0, 0, this.textRotateWithView_, this.textRotation_, 1, NaN, o.padding == Ea ? Ea : o.padding.map((function (t) {
                                return t * S
                            })), !!o.backgroundFill, !!o.backgroundStroke, this.text_, this.textKey_, this.strokeKey_, this.fillKey_, this.textOffsetX_, this.textOffsetY_, x]), this.hitDetectionInstructions.push([Xu.DRAW_IMAGE, s, l, null, NaN, NaN, this.declutterGroups_, NaN, 1, 0, 0, this.textRotateWithView_, this.textRotation_, 1 / this.pixelRatio, NaN, o.padding, !!o.backgroundFill, !!o.backgroundStroke, this.text_, this.textKey_, this.strokeKey_, this.fillKey_, this.textOffsetX_, this.textOffsetY_, x]), this.endGeometry(e)
                        }
                    }
                }, e.prototype.saveTextStates_ = function () {
                    var t = this.textStrokeState_,
                        e = this.textState_,
                        n = this.textFillState_,
                        r = this.strokeKey_;
                    t && (r in this.strokeStates || (this.strokeStates[r] = {
                        strokeStyle: t.strokeStyle,
                        lineCap: t.lineCap,
                        lineDashOffset: t.lineDashOffset,
                        lineWidth: t.lineWidth,
                        lineJoin: t.lineJoin,
                        miterLimit: t.miterLimit,
                        lineDash: t.lineDash
                    }));
                    var o = this.textKey_;
                    o in this.textStates || (this.textStates[o] = {
                        font: e.font,
                        textAlign: e.textAlign || "center",
                        textBaseline: e.textBaseline || "middle",
                        scale: e.scale
                    });
                    var i = this.fillKey_;
                    n && (i in this.fillStates || (this.fillStates[i] = {
                        fillStyle: n.fillStyle
                    }))
                }, e.prototype.drawChars_ = function (t, e, n) {
                    var r = this.textStrokeState_,
                        o = this.textState_,
                        i = this.strokeKey_,
                        a = this.textKey_,
                        s = this.fillKey_;
                    this.saveTextStates_();
                    var u = this.pixelRatio,
                        c = tc[o.textBaseline],
                        l = this.textOffsetY_ * u,
                        h = this.text_,
                        f = o.scale,
                        p = r ? r.lineWidth * f / 2 : 0;
                    this.instructions.push([Xu.DRAW_CHARS, t, e, c, n, o.overflow, s, o.maxAngle, u, l, i, p * u, h, a, 1]), this.hitDetectionInstructions.push([Xu.DRAW_CHARS, t, e, c, n, o.overflow, s, o.maxAngle, 1, l, i, p, h, a, 1 / u])
                }, e.prototype.setTextStyle = function (t, e) {
                    var n, r, o;
                    if (t) {
                        this.declutterGroups_ = e;
                        var i = t.getFill();
                        i ? ((r = this.textFillState_) || (r = {}, this.textFillState_ = r), r.fillStyle = wa(i.getColor() || "#000")) : (r = null, this.textFillState_ = r);
                        var a = t.getStroke();
                        if (a) {
                            (o = this.textStrokeState_) || (o = {}, this.textStrokeState_ = o);
                            var s = a.getLineDash(),
                                u = a.getLineDashOffset(),
                                c = a.getWidth(),
                                l = a.getMiterLimit();
                            o.lineCap = a.getLineCap() || "round", o.lineDash = s ? s.slice() : Ca, o.lineDashOffset = void 0 === u ? 0 : u, o.lineJoin = a.getLineJoin() || "round", o.lineWidth = void 0 === c ? 1 : c, o.miterLimit = void 0 === l ? 10 : l, o.strokeStyle = wa(a.getColor() || "#000")
                        } else o = null, this.textStrokeState_ = o;
                        n = this.textState_;
                        var h = t.getFont() || "10px sans-serif";
                        ka(h);
                        var f = t.getScale();
                        n.overflow = t.getOverflow(), n.font = h, n.maxAngle = t.getMaxAngle(), n.placement = t.getPlacement(), n.textAlign = t.getTextAlign(), n.textBaseline = t.getTextBaseline() || "middle", n.backgroundFill = t.getBackgroundFill(), n.backgroundStroke = t.getBackgroundStroke(), n.padding = t.getPadding() || Ea, n.scale = void 0 === f ? 1 : f;
                        var p = t.getOffsetX(),
                            d = t.getOffsetY(),
                            y = t.getRotateWithView(),
                            g = t.getRotation();
                        this.text_ = t.getText() || "", this.textOffsetX_ = void 0 === p ? 0 : p, this.textOffsetY_ = void 0 === d ? 0 : d, this.textRotateWithView_ = void 0 !== y && y, this.textRotation_ = void 0 === g ? 0 : g, this.strokeKey_ = o ? ("string" == typeof o.strokeStyle ? o.strokeStyle : oe(o.strokeStyle)) + o.lineCap + o.lineDashOffset + "|" + o.lineWidth + o.lineJoin + o.miterLimit + "[" + o.lineDash.join() + "]" : "", this.textKey_ = n.font + n.scale + (n.textAlign || "?") + (n.textBaseline || "?"), this.fillKey_ = r ? "string" == typeof r.fillStyle ? r.fillStyle : "|" + oe(r.fillStyle) : ""
                    } else this.text_ = ""
                }, e
            }(Vu)
        },
        nc = function () {
            function t(t, e, n, r, o) {
                this.declutter_ = o, this.declutterGroups_ = null, this.tolerance_ = t, this.maxExtent_ = e, this.pixelRatio_ = r, this.resolution_ = n, this.buildersByZIndex_ = {}
            }
            return t.prototype.addDeclutter = function (t) {
                var e = null;
                return this.declutter_ && (t ? (e = this.declutterGroups_)[0][4]++ : (e = [
                    [1 / 0, 1 / 0, -1 / 0, -1 / 0]
                ], this.declutterGroups_ = e, e[0].push(1))), e
            }, t.prototype.finish = function () {
                var t = {};
                for (var e in this.buildersByZIndex_) {
                    t[e] = t[e] || {};
                    var n = this.buildersByZIndex_[e];
                    for (var r in n) {
                        var o = n[r].finish();
                        t[e][r] = o
                    }
                }
                return t
            }, t.prototype.getBuilder = function (t, e) {
                var n = void 0 !== t ? t.toString() : "0",
                    r = this.buildersByZIndex_[n];
                void 0 === r && (r = {}, this.buildersByZIndex_[n] = r);
                var o = r[e];
                return void 0 === o && (o = new(0, ec[e])(this.tolerance_, this.maxExtent_, this.resolution_, this.pixelRatio_), r[e] = o), o
            }, t
        }();

    function rc(t, e, n, r, o, i, a, s, u, c, l) {
        for (var h, f, p = [], d = t[e] > t[n - r], y = o.length, g = t[e], v = t[e + 1], m = t[e += r], _ = t[e + 1], b = 0, x = Math.sqrt(Math.pow(m - g, 2) + Math.pow(_ - v, 2)), w = !1, S = 0; S < y; ++S) {
            for (var C = o[h = d ? y - S - 1 : S], E = s * u(c, C, l), T = i + E / 2; e < n - r && b + x < T;) g = m, v = _, m = t[e += r], _ = t[e + 1], b += x, x = Math.sqrt(Math.pow(m - g, 2) + Math.pow(_ - v, 2));
            var O = T - b,
                P = Math.atan2(_ - v, m - g);
            if (d && (P += P > 0 ? -Math.PI : Math.PI), void 0 !== f) {
                var A = P - f;
                if (w = w || 0 !== A, A += A > Math.PI ? -2 * Math.PI : A < -Math.PI ? 2 * Math.PI : 0, Math.abs(A) > a) return null
            }
            f = P;
            var R = O / x,
                I = dn(g, m, R),
                k = dn(v, _, R);
            p[h] = [I, k, E / 2, P, C], i += E
        }
        return w ? p : [
            [p[0][0], p[0][1], p[0][2], p[0][3], o]
        ]
    }
    var oc = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
        ic = [1, 0, 0, 1, 0, 0],
        ac = [],
        sc = [],
        uc = [],
        cc = [],
        lc = function () {
            function t(t, e, n, r) {
                this.overlaps = n, this.pixelRatio = e, this.resolution = t, this.alignFill_, this.declutterItems = [], this.instructions = r.instructions, this.coordinates = r.coordinates, this.coordinateCache_ = {}, this.renderedTransform_ = [1, 0, 0, 1, 0, 0], this.hitDetectionInstructions = r.hitDetectionInstructions, this.pixelCoordinates_ = null, this.viewRotation_ = 0, this.fillStates = r.fillStates || {}, this.strokeStates = r.strokeStates || {}, this.textStates = r.textStates || {}, this.widths_ = {}, this.labels_ = {}
            }
            return t.prototype.createLabel = function (t, e, n, r) {
                var o = t + e + n + r;
                if (this.labels_[o]) return this.labels_[o];
                var i = r ? this.strokeStates[r] : null,
                    a = n ? this.fillStates[n] : null,
                    s = this.textStates[e],
                    u = this.pixelRatio,
                    c = s.scale * u,
                    l = tc[s.textAlign || "center"],
                    h = r && i.lineWidth ? i.lineWidth : 0,
                    f = t.split("\n"),
                    p = f.length,
                    d = [],
                    y = function (t, e, n) {
                        for (var r = e.length, o = 0, i = 0; i < r; ++i) {
                            var a = ja(t, e[i]);
                            o = Math.max(o, a), n.push(a)
                        }
                        return o
                    }(s.font, f, d),
                    g = La(s.font),
                    v = g * p,
                    m = y + h,
                    _ = [],
                    b = {
                        width: Math.ceil((m + 2) * c),
                        height: Math.ceil((v + h) * c),
                        contextInstructions: _
                    };
                1 != c && _.push("scale", [c, c]), _.push("font", s.font), r && (_.push("strokeStyle", i.strokeStyle), _.push("lineWidth", h), _.push("lineCap", i.lineCap), _.push("lineJoin", i.lineJoin), _.push("miterLimit", i.miterLimit), CanvasRenderingContext2D.prototype.setLineDash && i.lineDash.length && (_.push("setLineDash", [i.lineDash]), _.push("lineDashOffset", i.lineDashOffset))), n && _.push("fillStyle", a.fillStyle), _.push("textBaseline", "middle"), _.push("textAlign", "center");
                var x, w = .5 - l,
                    S = l * m + w * h;
                if (r)
                    for (x = 0; x < p; ++x) _.push("strokeText", [f[x], S + w * d[x], .5 * (h + g) + x * g]);
                if (n)
                    for (x = 0; x < p; ++x) _.push("fillText", [f[x], S + w * d[x], .5 * (h + g) + x * g]);
                return this.labels_[o] = b, b
            }, t.prototype.replayTextBackground_ = function (t, e, n, r, o, i, a) {
                t.beginPath(), t.moveTo.apply(t, e), t.lineTo.apply(t, n), t.lineTo.apply(t, r), t.lineTo.apply(t, o), t.lineTo.apply(t, e), i && (this.alignFill_ = i[2], this.fill_(t)), a && (this.setStrokeStyle_(t, a), t.stroke())
            }, t.prototype.replayImageOrLabel_ = function (t, e, n, r, o, i, a, s, u, c, l, h, f, p, d, y, g, v) {
                var m = g || v;
                e -= o *= f, n -= i *= f;
                var _ = d + c > r.width ? r.width - c : d,
                    b = s + l > r.height ? r.height - l : s,
                    x = y[3] + _ * f + y[1],
                    w = y[0] + b * f + y[2],
                    S = e - y[3],
                    C = n - y[0];
                (m || 0 !== h) && (ac[0] = S, cc[0] = S, ac[1] = C, sc[1] = C, sc[0] = S + x, uc[0] = sc[0], uc[1] = C + w, cc[1] = uc[1]);
                var E = null;
                if (0 !== h) {
                    var T = e + o,
                        O = n + i;
                    E = Zr(ic, T, O, 1, 1, h, -T, -O), Yr(ic, ac), Yr(ic, sc), Yr(ic, uc), Yr(ic, cc), En(Math.min(ac[0], sc[0], uc[0], cc[0]), Math.min(ac[1], sc[1], uc[1], cc[1]), Math.max(ac[0], sc[0], uc[0], cc[0]), Math.max(ac[1], sc[1], uc[1], cc[1]), oc)
                } else En(S, C, S + x, C + w, oc);
                var P = t.canvas,
                    A = v ? v[2] * f / 2 : 0,
                    R = oc[0] - A <= P.width && oc[2] + A >= 0 && oc[1] - A <= P.height && oc[3] + A >= 0;
                if (p && (e = Math.round(e), n = Math.round(n)), a) {
                    if (!R && 1 == a[4]) return;
                    Rn(a, oc);
                    var I = R ? [t, E ? E.slice(0) : null, u, r, c, l, _, b, e, n, f] : null;
                    I && (m && I.push(g, v, ac, sc, uc, cc), a.push(I))
                } else R && (m && this.replayTextBackground_(t, ac, sc, uc, cc, g, v), Fa(t, E, 0, r, c, l, _, b, e, n, f))
            }, t.prototype.fill_ = function (t) {
                if (this.alignFill_) {
                    var e = Yr(this.renderedTransform_, [0, 0]),
                        n = 512 * this.pixelRatio;
                    t.save(), t.translate(e[0] % n, e[1] % n), t.rotate(this.viewRotation_)
                }
                t.fill(), this.alignFill_ && t.restore()
            }, t.prototype.setStrokeStyle_ = function (t, e) {
                t.strokeStyle = e[1], t.lineWidth = e[2], t.lineCap = e[3], t.lineJoin = e[4], t.miterLimit = e[5], t.setLineDash && (t.lineDashOffset = e[7], t.setLineDash(e[6]))
            }, t.prototype.renderDeclutter = function (t, e, n, r) {
                if (t && t.length > 5) {
                    var o = t[4];
                    if (1 == o || o == t.length - 5) {
                        var i = {
                            minX: t[0],
                            minY: t[1],
                            maxX: t[2],
                            maxY: t[3],
                            value: e
                        };
                        if (r || (r = new ru.a(9)), !r.collides(i)) {
                            r.insert(i);
                            for (var a = 5, s = t.length; a < s; ++a) {
                                var u = t[a],
                                    c = u[0],
                                    l = c.globalAlpha;
                                l !== n && (c.globalAlpha = n), u.length > 11 && this.replayTextBackground_(u[0], u[13], u[14], u[15], u[16], u[11], u[12]), Fa.apply(void 0, u), l !== n && (c.globalAlpha = l)
                            }
                        }
                        t.length = 5, Tn(t)
                    }
                }
                return r
            }, t.prototype.drawLabelWithPointPlacement_ = function (t, e, n, r) {
                var o = this.textStates[e],
                    i = this.createLabel(t, e, r, n),
                    a = this.strokeStates[n],
                    s = this.pixelRatio,
                    u = tc[o.textAlign || "center"],
                    c = tc[o.textBaseline || "middle"],
                    l = a && a.lineWidth ? a.lineWidth : 0;
                return {
                    label: i,
                    anchorX: u * (i.width / s - 2 * o.scale) + 2 * (.5 - u) * l,
                    anchorY: c * i.height / s + 2 * (.5 - c) * l
                }
            }, t.prototype.execute_ = function (t, e, n, r, o, i) {
                var a, s, u;
                this.declutterItems.length = 0, this.pixelCoordinates_ && xe(e, this.renderedTransform_) ? a = this.pixelCoordinates_ : (this.pixelCoordinates_ || (this.pixelCoordinates_ = []), a = ur(this.coordinates, 0, this.coordinates.length, 2, e, this.pixelCoordinates_), u = e, (s = this.renderedTransform_)[0] = u[0], s[1] = u[1], s[2] = u[2], s[3] = u[3], s[4] = u[4], s[5] = u[5]);
                for (var c, l, h, f, p, d, y, g, v, m, _, b, x, w, S, C, E, T = 0, O = n.length, P = 0, A = 0, R = 0, I = null, k = null, L = this.coordinateCache_, j = this.viewRotation_, M = Math.round(1e12 * Math.atan2(-e[1], e[0])) / 1e12, D = {
                        context: t,
                        pixelRatio: this.pixelRatio,
                        resolution: this.resolution,
                        rotation: j
                    }, F = this.instructions != n || this.overlaps ? 0 : 200; T < O;) {
                    var G = n[T];
                    switch (G[0]) {
                        case Xu.BEGIN_GEOMETRY:
                            (S = G[1]).getGeometry() ? void 0 === i || Hn(i, G[3]) ? ++T : T = G[2] + 1 : T = G[2];
                            break;
                        case Xu.BEGIN_PATH:
                            A > F && (this.fill_(t), A = 0), R > F && (t.stroke(), R = 0), A || R || (t.beginPath(), f = NaN, p = NaN), ++T;
                            break;
                        case Xu.CIRCLE:
                            var N = a[P = G[1]],
                                z = a[P + 1],
                                B = a[P + 2] - N,
                                U = a[P + 3] - z,
                                X = Math.sqrt(B * B + U * U);
                            t.moveTo(N + X, z), t.arc(N, z, X, 0, 2 * Math.PI, !0), ++T;
                            break;
                        case Xu.CLOSE_PATH:
                            t.closePath(), ++T;
                            break;
                        case Xu.CUSTOM:
                            P = G[1], c = G[2];
                            var W = G[3],
                                V = G[4],
                                H = 6 == G.length ? G[5] : void 0;
                            D.geometry = W, D.feature = S, T in L || (L[T] = []);
                            var Y = L[T];
                            H ? H(a, P, c, 2, Y) : (Y[0] = a[P], Y[1] = a[P + 1], Y.length = 2), V(Y, D), ++T;
                            break;
                        case Xu.DRAW_IMAGE:
                            P = G[1], c = G[2], m = G[3], l = G[4], h = G[5], v = o ? null : G[6];
                            var Z = G[7],
                                q = G[8],
                                K = G[9],
                                $ = G[10],
                                J = G[11],
                                Q = G[12],
                                tt = G[13],
                                et = G[14];
                            if (!m && G.length >= 19) {
                                _ = G[18], b = G[19], x = G[20], w = G[21];
                                var nt = this.drawLabelWithPointPlacement_(_, b, x, w);
                                m = nt.label, G[3] = m;
                                var rt = G[22];
                                l = (nt.anchorX - rt) * this.pixelRatio, G[4] = l;
                                var ot = G[23];
                                h = (nt.anchorY - ot) * this.pixelRatio, G[5] = h, Z = m.height, G[7] = Z, et = m.width, G[14] = et
                            }
                            var it = void 0;
                            G.length > 24 && (it = G[24]);
                            var at = void 0,
                                st = void 0,
                                ut = void 0;
                            G.length > 16 ? (at = G[15], st = G[16], ut = G[17]) : (at = Ea, st = !1, ut = !1), J && M ? Q += j : J || M || (Q -= j);
                            for (var ct = 0, lt = 0; P < c; P += 2)
                                if (!(it && it[ct++] < et / this.pixelRatio)) {
                                    if (v) {
                                        var ht = Math.floor(lt);
                                        v.length < ht + 1 && ((g = [1 / 0, 1 / 0, -1 / 0, -1 / 0]).push(v[0][4]), v.push(g)), g = v[ht]
                                    }
                                    this.replayImageOrLabel_(t, a[P], a[P + 1], m, l, h, g, Z, q, K, $, Q, tt, r, et, at, st ? I : null, ut ? k : null), g && (lt === Math.floor(lt) && this.declutterItems.push(this, g, S), lt += 1 / g[4])
                                }++ T;
                            break;
                        case Xu.DRAW_CHARS:
                            var ft = G[1],
                                pt = G[2],
                                dt = G[3];
                            g = o ? null : G[4];
                            var yt = G[5];
                            w = G[6];
                            var gt = G[7],
                                vt = G[8],
                                mt = G[9];
                            x = G[10];
                            var _t = G[11];
                            _ = G[12], b = G[13];
                            var bt = G[14],
                                xt = this.textStates[b],
                                wt = xt.font,
                                St = xt.scale * vt,
                                Ct = void 0;
                            wt in this.widths_ ? Ct = this.widths_[wt] : (Ct = {}, this.widths_[wt] = Ct);
                            var Et = fu(a, ft, pt, 2),
                                Tt = St * Ma(wt, _, Ct);
                            if (yt || Tt <= Et) {
                                var Ot = this.textStates[b].textAlign,
                                    Pt = rc(a, ft, pt, 2, _, (Et - Tt) * tc[Ot], gt, St, Ma, wt, Ct);
                                if (Pt) {
                                    var At = void 0,
                                        Rt = void 0,
                                        It = void 0,
                                        kt = void 0,
                                        Lt = void 0;
                                    if (x)
                                        for (At = 0, Rt = Pt.length; At < Rt; ++At) It = (Lt = Pt[At])[4], kt = this.createLabel(It, b, "", x), l = Lt[2] + _t, h = dt * kt.height + 2 * (.5 - dt) * _t - mt, this.replayImageOrLabel_(t, Lt[0], Lt[1], kt, l, h, g, kt.height, 1, 0, 0, Lt[3], bt, !1, kt.width, Ea, null, null);
                                    if (w)
                                        for (At = 0, Rt = Pt.length; At < Rt; ++At) It = (Lt = Pt[At])[4], kt = this.createLabel(It, b, w, ""), l = Lt[2], h = dt * kt.height - mt, this.replayImageOrLabel_(t, Lt[0], Lt[1], kt, l, h, g, kt.height, 1, 0, 0, Lt[3], bt, !1, kt.width, Ea, null, null)
                                }
                            }
                            this.declutterItems.push(this, g, S), ++T;
                            break;
                        case Xu.END_GEOMETRY:
                            if (void 0 !== o) {
                                var jt = o(S = G[1]);
                                if (jt) return jt
                            }++T;
                            break;
                        case Xu.FILL:
                            F ? A++ : this.fill_(t), ++T;
                            break;
                        case Xu.MOVE_TO_LINE_TO:
                            for (P = G[1], c = G[2], C = a[P], y = (E = a[P + 1]) + .5 | 0, (d = C + .5 | 0) === f && y === p || (t.moveTo(C, E), f = d, p = y), P += 2; P < c; P += 2) d = (C = a[P]) + .5 | 0, y = (E = a[P + 1]) + .5 | 0, P != c - 2 && d === f && y === p || (t.lineTo(C, E), f = d, p = y);
                            ++T;
                            break;
                        case Xu.SET_FILL_STYLE:
                            I = G, this.alignFill_ = G[2], A && (this.fill_(t), A = 0, R && (t.stroke(), R = 0)), t.fillStyle = G[1], ++T;
                            break;
                        case Xu.SET_STROKE_STYLE:
                            k = G, R && (t.stroke(), R = 0), this.setStrokeStyle_(t, G), ++T;
                            break;
                        case Xu.STROKE:
                            F ? R++ : t.stroke(), ++T;
                            break;
                        default:
                            ++T
                    }
                }
                A && this.fill_(t), R && t.stroke()
            }, t.prototype.execute = function (t, e, n, r) {
                this.viewRotation_ = n, this.execute_(t, e, this.instructions, r, void 0, void 0)
            }, t.prototype.executeHitDetection = function (t, e, n, r, o) {
                return this.viewRotation_ = n, this.execute_(t, e, this.hitDetectionInstructions, !0, r, o)
            }, t
        }(),
        hc = ["Polygon", "Circle", "LineString", "Image", "Text", "Default"],
        fc = function () {
            function t(t, e, n, r, o, i) {
                this.maxExtent_ = t, this.overlaps_ = r, this.pixelRatio_ = n, this.resolution_ = e, this.renderBuffer_ = i, this.executorsByZIndex_ = {}, this.hitDetectionContext_ = null, this.hitDetectionTransform_ = [1, 0, 0, 1, 0, 0], this.createExecutors_(o)
            }
            return t.prototype.clip = function (t, e) {
                var n = this.getClipCoords(e);
                t.beginPath(), t.moveTo(n[0], n[1]), t.lineTo(n[2], n[3]), t.lineTo(n[4], n[5]), t.lineTo(n[6], n[7]), t.clip()
            }, t.prototype.createExecutors_ = function (t) {
                for (var e in t) {
                    var n = this.executorsByZIndex_[e];
                    void 0 === n && (n = {}, this.executorsByZIndex_[e] = n);
                    var r = t[e];
                    for (var o in r) {
                        var i = r[o];
                        n[o] = new lc(this.resolution_, this.pixelRatio_, this.overlaps_, i)
                    }
                }
            }, t.prototype.hasExecutors = function (t) {
                for (var e in this.executorsByZIndex_)
                    for (var n = this.executorsByZIndex_[e], r = 0, o = t.length; r < o; ++r)
                        if (t[r] in n) return !0;
                return !1
            }, t.prototype.forEachFeatureAtCoordinate = function (t, e, n, r, o, i) {
                var a = 2 * (r = Math.round(r)) + 1,
                    s = Zr(this.hitDetectionTransform_, r + .5, r + .5, 1 / e, -1 / e, -n, -t[0], -t[1]);
                this.hitDetectionContext_ || (this.hitDetectionContext_ = Vo(a, a));
                var u, c = this.hitDetectionContext_;
                c.canvas.width !== a || c.canvas.height !== a ? (c.canvas.width = a, c.canvas.height = a) : c.clearRect(0, 0, a, a), void 0 !== this.renderBuffer_ && (In(u = [1 / 0, 1 / 0, -1 / 0, -1 / 0], t), mn(u, e * (this.renderBuffer_ + r), u));
                var l, h = function (t) {
                    if (void 0 !== pc[t]) return pc[t];
                    for (var e = 2 * t + 1, n = new Array(e), r = 0; r < e; r++) n[r] = new Array(e);
                    for (var o = t, i = 0, a = 0; o >= i;) dc(n, t + o, t + i), dc(n, t + i, t + o), dc(n, t - i, t + o), dc(n, t - o, t + i), dc(n, t - o, t - i), dc(n, t - i, t - o), dc(n, t + i, t - o), dc(n, t + o, t - i), 2 * ((a += 1 + 2 * ++i) - o) + 1 > 0 && (a += 1 - 2 * (o -= 1));
                    return pc[t] = n, n
                }(r);

                function f(t) {
                    for (var e = c.getImageData(0, 0, a, a).data, n = 0; n < a; n++)
                        for (var r = 0; r < a; r++)
                            if (h[n][r] && e[4 * (r * a + n) + 3] > 0) {
                                var s = void 0;
                                return (!i || "Image" != l && "Text" != l || -1 !== i.indexOf(t)) && (s = o(t)), s || void c.clearRect(0, 0, a, a)
                            }
                }
                var p, d, y, g, v, m = Object.keys(this.executorsByZIndex_).map(Number);
                for (m.sort(ge), p = m.length - 1; p >= 0; --p) {
                    var _ = m[p].toString();
                    for (y = this.executorsByZIndex_[_], d = hc.length - 1; d >= 0; --d)
                        if (void 0 !== (g = y[l = hc[d]]) && (v = g.executeHitDetection(c, s, n, f, u))) return v
                }
            }, t.prototype.getClipCoords = function (t) {
                var e = this.maxExtent_;
                if (!e) return null;
                var n = e[0],
                    r = e[1],
                    o = e[2],
                    i = e[3],
                    a = [n, r, n, i, o, i, o, r];
                return ur(a, 0, 8, 2, t, a), a
            }, t.prototype.isEmpty = function () {
                return he(this.executorsByZIndex_)
            }, t.prototype.execute = function (t, e, n, r, o, i) {
                var a = Object.keys(this.executorsByZIndex_).map(Number);
                a.sort(ge), this.maxExtent_ && (t.save(), this.clip(t, e));
                var s, u, c, l, h, f, p = o || hc;
                for (s = 0, u = a.length; s < u; ++s) {
                    var d = a[s].toString();
                    for (h = this.executorsByZIndex_[d], c = 0, l = p.length; c < l; ++c) {
                        var y = p[c];
                        if (void 0 !== (f = h[y]))
                            if (!i || "Image" != y && "Text" != y) f.execute(t, e, n, r);
                            else {
                                var g = i[d];
                                g ? g.push(f, e.slice(0)) : i[d] = [f, e.slice(0)]
                            }
                    }
                }
                this.maxExtent_ && t.restore()
            }, t
        }(),
        pc = {
            0: [
                [!0]
            ]
        };

    function dc(t, e, n) {
        var r, o = Math.floor(t.length / 2);
        if (e >= o)
            for (r = o; r < e; r++) t[r][n] = !0;
        else if (e < o)
            for (r = e + 1; r < o; r++) t[r][n] = !0
    }
    var yc = fc,
        gc = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        vc = function (t) {
            function e(e, n, r, o, i, a) {
                var s = t.call(this) || this;
                return s.hitDetectionImage_ = null, s.image_ = e || new Image, null !== o && (s.image_.crossOrigin = o), s.canvas_ = a ? document.createElement("canvas") : null, s.color_ = a, s.unlisten_ = null, s.imageState_ = i, s.size_ = r, s.src_ = n, s.tainted_, s
            }
            return gc(e, t), e.prototype.isTainted_ = function () {
                if (void 0 === this.tainted_ && 2 === this.imageState_) {
                    this.tainted_ = !1;
                    var t = Vo(1, 1);
                    try {
                        t.drawImage(this.image_, 0, 0), t.getImageData(0, 0, 1, 1)
                    } catch (t) {
                        this.tainted_ = !0
                    }
                }
                return !0 === this.tainted_
            }, e.prototype.dispatchChangeEvent_ = function () {
                this.dispatchEvent("change")
            }, e.prototype.handleImageError_ = function () {
                this.imageState_ = 3, this.unlistenImage_(), this.dispatchChangeEvent_()
            }, e.prototype.handleImageLoad_ = function () {
                this.imageState_ = 2, this.size_ && (this.image_.width = this.size_[0], this.image_.height = this.size_[1]), this.size_ = [this.image_.width, this.image_.height], this.unlistenImage_(), this.replaceColor_(), this.dispatchChangeEvent_()
            }, e.prototype.getImage = function (t) {
                return this.canvas_ ? this.canvas_ : this.image_
            }, e.prototype.getImageState = function () {
                return this.imageState_
            }, e.prototype.getHitDetectionImage = function (t) {
                if (!this.hitDetectionImage_)
                    if (this.isTainted_()) {
                        var e = this.size_[0],
                            n = this.size_[1],
                            r = Vo(e, n);
                        r.fillRect(0, 0, e, n), this.hitDetectionImage_ = r.canvas
                    } else this.hitDetectionImage_ = this.image_;
                return this.hitDetectionImage_
            }, e.prototype.getSize = function () {
                return this.size_
            }, e.prototype.getSrc = function () {
                return this.src_
            }, e.prototype.load = function () {
                if (0 == this.imageState_) {
                    this.imageState_ = 1;
                    try {
                        this.image_.src = this.src_
                    } catch (t) {
                        this.handleImageError_()
                    }
                    this.unlisten_ = vs(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this))
                }
            }, e.prototype.replaceColor_ = function () {
                if (this.color_ && !this.isTainted_()) {
                    this.canvas_.width = this.image_.width, this.canvas_.height = this.image_.height;
                    var t = this.canvas_.getContext("2d");
                    t.drawImage(this.image_, 0, 0);
                    for (var e = t.getImageData(0, 0, this.image_.width, this.image_.height), n = e.data, r = this.color_[0] / 255, o = this.color_[1] / 255, i = this.color_[2] / 255, a = 0, s = n.length; a < s; a += 4) n[a] *= r, n[a + 1] *= o, n[a + 2] *= i;
                    t.putImageData(e, 0, 0)
                }
            }, e.prototype.unlistenImage_ = function () {
                this.unlisten_ && (this.unlisten_(), this.unlisten_ = null)
            }, e
        }(Pe),
        mc = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        _c = function (t) {
            function e(e) {
                var n = this,
                    r = e || {},
                    o = void 0 !== r.opacity ? r.opacity : 1,
                    i = void 0 !== r.rotation ? r.rotation : 0,
                    a = void 0 !== r.scale ? r.scale : 1,
                    s = void 0 !== r.rotateWithView && r.rotateWithView;
                (n = t.call(this, {
                    opacity: o,
                    rotation: i,
                    scale: a,
                    displacement: void 0 !== r.displacement ? r.displacement : [0, 0],
                    rotateWithView: s
                }) || this).anchor_ = void 0 !== r.anchor ? r.anchor : [.5, .5], n.normalizedAnchor_ = null, n.anchorOrigin_ = void 0 !== r.anchorOrigin ? r.anchorOrigin : "top-left", n.anchorXUnits_ = void 0 !== r.anchorXUnits ? r.anchorXUnits : "fraction", n.anchorYUnits_ = void 0 !== r.anchorYUnits ? r.anchorYUnits : "fraction", n.crossOrigin_ = void 0 !== r.crossOrigin ? r.crossOrigin : null;
                var u = void 0 !== r.img ? r.img : null,
                    c = void 0 !== r.imgSize ? r.imgSize : null,
                    l = r.src;
                rn(!(void 0 !== l && u), 4), rn(!u || u && c, 5), void 0 !== l && 0 !== l.length || !u || (l = u.src || oe(u)), rn(void 0 !== l && l.length > 0, 6);
                var h = void 0 !== r.src ? 0 : 2;
                return n.color_ = void 0 !== r.color ? va(r.color) : null, n.iconImage_ = function (t, e, n, r, o, i) {
                    var a = xa.get(e, r, i);
                    return a || (a = new vc(t, e, n, r, o, i), xa.set(e, r, i, a)), a
                }(u, l, c, n.crossOrigin_, h, n.color_), n.offset_ = void 0 !== r.offset ? r.offset : [0, 0], n.offsetOrigin_ = void 0 !== r.offsetOrigin ? r.offsetOrigin : "top-left", n.origin_ = null, n.size_ = void 0 !== r.size ? r.size : null, n
            }
            return mc(e, t), e.prototype.clone = function () {
                return new e({
                    anchor: this.anchor_.slice(),
                    anchorOrigin: this.anchorOrigin_,
                    anchorXUnits: this.anchorXUnits_,
                    anchorYUnits: this.anchorYUnits_,
                    crossOrigin: this.crossOrigin_,
                    color: this.color_ && this.color_.slice ? this.color_.slice() : this.color_ || void 0,
                    src: this.getSrc(),
                    offset: this.offset_.slice(),
                    offsetOrigin: this.offsetOrigin_,
                    size: null !== this.size_ ? this.size_.slice() : void 0,
                    opacity: this.getOpacity(),
                    scale: this.getScale(),
                    rotation: this.getRotation(),
                    rotateWithView: this.getRotateWithView()
                })
            }, e.prototype.getAnchor = function () {
                if (this.normalizedAnchor_) return this.normalizedAnchor_;
                var t = this.anchor_,
                    e = this.getSize();
                if ("fraction" == this.anchorXUnits_ || "fraction" == this.anchorYUnits_) {
                    if (!e) return null;
                    t = this.anchor_.slice(), "fraction" == this.anchorXUnits_ && (t[0] *= e[0]), "fraction" == this.anchorYUnits_ && (t[1] *= e[1])
                }
                if ("top-left" != this.anchorOrigin_) {
                    if (!e) return null;
                    t === this.anchor_ && (t = this.anchor_.slice()), "top-right" != this.anchorOrigin_ && "bottom-right" != this.anchorOrigin_ || (t[0] = -t[0] + e[0]), "bottom-left" != this.anchorOrigin_ && "bottom-right" != this.anchorOrigin_ || (t[1] = -t[1] + e[1])
                }
                return this.normalizedAnchor_ = t, this.normalizedAnchor_
            }, e.prototype.setAnchor = function (t) {
                this.anchor_ = t, this.normalizedAnchor_ = null
            }, e.prototype.getColor = function () {
                return this.color_
            }, e.prototype.getImage = function (t) {
                return this.iconImage_.getImage(t)
            }, e.prototype.getImageSize = function () {
                return this.iconImage_.getSize()
            }, e.prototype.getHitDetectionImageSize = function () {
                return this.getImageSize()
            }, e.prototype.getImageState = function () {
                return this.iconImage_.getImageState()
            }, e.prototype.getHitDetectionImage = function (t) {
                return this.iconImage_.getHitDetectionImage(t)
            }, e.prototype.getOrigin = function () {
                if (this.origin_) return this.origin_;
                var t = this.offset_,
                    e = this.getDisplacement();
                if ("top-left" != this.offsetOrigin_) {
                    var n = this.getSize(),
                        r = this.iconImage_.getSize();
                    if (!n || !r) return null;
                    t = t.slice(), "top-right" != this.offsetOrigin_ && "bottom-right" != this.offsetOrigin_ || (t[0] = r[0] - n[0] - t[0]), "bottom-left" != this.offsetOrigin_ && "bottom-right" != this.offsetOrigin_ || (t[1] = r[1] - n[1] - t[1])
                }
                return t[0] += e[0], t[1] += e[1], this.origin_ = t, this.origin_
            }, e.prototype.getSrc = function () {
                return this.iconImage_.getSrc()
            }, e.prototype.getSize = function () {
                return this.size_ ? this.size_ : this.iconImage_.getSize()
            }, e.prototype.listenImageChange = function (t) {
                this.iconImage_.addEventListener("change", t)
            }, e.prototype.load = function () {
                this.iconImage_.load()
            }, e.prototype.unlistenImageChange = function (t) {
                this.iconImage_.removeEventListener("change", t)
            }, e
        }(yu),
        bc = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        xc = function (t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.boundHandleStyleImageChange_ = n.handleStyleImageChange_.bind(n), n.animatingOrInteracting_, n.dirty_ = !1, n.hitDetectionImageData_ = null, n.renderedFeatures_ = null, n.renderedRevision_ = -1, n.renderedResolution_ = NaN, n.renderedExtent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0], n.renderedRotation_, n.renderedCenter_ = null, n.renderedProjection_ = null, n.renderedRenderOrder_ = null, n.replayGroup_ = null, n.replayGroupChanged = !0, n
            }
            return bc(e, t), e.prototype.useContainer = function (e, n, r) {
                r < 1 && (e = null), t.prototype.useContainer.call(this, e, n, r)
            }, e.prototype.renderFrame = function (t, e) {
                var n = t.pixelRatio,
                    r = t.layerStatesArray[t.layerIndex];
                ! function (t, e, n) {
                    Hr(t, e, 0, 0, n, 0, 0)
                }(this.pixelTransform, 1 / n, 1 / n), qr(this.inversePixelTransform, this.pixelTransform);
                var o = Kr(this.pixelTransform);
                this.useContainer(e, o, r.opacity);
                var i = this.context,
                    a = i.canvas,
                    s = this.replayGroup_;
                if (!s || s.isEmpty()) return !this.containerReused && a.width > 0 && (a.width = 0), this.container;
                var u = Math.round(t.size[0] * n),
                    c = Math.round(t.size[1] * n);
                a.width != u || a.height != c ? (a.width = u, a.height = c, a.style.transform !== o && (a.style.transform = o)) : this.containerReused || i.clearRect(0, 0, u, c), this.preRender(i, t);
                var l = t.extent,
                    h = t.viewState,
                    f = h.center,
                    p = h.resolution,
                    d = h.projection,
                    y = h.rotation,
                    g = d.getExtent(),
                    v = this.getLayer().getSource(),
                    m = !1;
                if (r.extent) {
                    var _ = Ur(r.extent);
                    (m = !wn(_, t.extent) && Hn(_, t.extent)) && this.clip(i, t, _)
                }
                var b = t.viewHints,
                    x = !(b[0] || b[1]),
                    w = this.getRenderTransform(f, p, y, n, u, c, 0),
                    S = this.getLayer().getDeclutter() ? {} : null;
                if (s.execute(i, w, y, x, void 0, S), v.getWrapX() && d.canWrapX() && !wn(g, l)) {
                    for (var C = l[0], E = Vn(g), T = 0, O = void 0; C < g[0];) {
                        O = E * --T;
                        var P = this.getRenderTransform(f, p, y, n, u, c, O);
                        s.execute(i, P, y, x, void 0, S), C += E
                    }
                    for (T = 0, C = l[2]; C > g[2];) {
                        O = E * ++T;
                        var A = this.getRenderTransform(f, p, y, n, u, c, O);
                        s.execute(i, A, y, x, void 0, S), C -= E
                    }
                }
                if (S) {
                    var R = t.viewHints;
                    ! function (t, e, n, r, o, i) {
                        for (var a = Object.keys(t).map(Number).sort(ge), s = 0, u = a.length; s < u; ++s)
                            for (var c = t[a[s].toString()], l = void 0, h = 0, f = c.length; h < f;) {
                                var p = c[h++];
                                p !== l && (l = p, i.push({
                                    items: p.declutterItems,
                                    opacity: 1
                                }));
                                var d = c[h++];
                                p.execute(e, d, n, o)
                            }
                    }(S, i, y, 0, !(R[0] || R[1]), t.declutterItems)
                }
                m && i.restore(), this.postRender(i, t);
                var I = r.opacity,
                    k = this.container;
                return I !== parseFloat(k.style.opacity) && (k.style.opacity = 1 === I ? "" : I), this.container
            }, e.prototype.getFeatures = function (t) {
                return new Promise(function (e, n) {
                    if (!this.hitDetectionImageData_ && !this.animatingOrInteracting_) {
                        var r = [this.context.canvas.width, this.context.canvas.height];
                        Yr(this.pixelTransform, r);
                        var o = this.renderedCenter_,
                            i = this.renderedResolution_,
                            a = this.renderedRotation_,
                            s = this.renderedProjection_,
                            u = this.renderedExtent_,
                            c = this.getLayer(),
                            l = [],
                            h = r[0] / 2,
                            f = r[1] / 2;
                        l.push(this.getRenderTransform(o, i, a, .5, h, f, 0).slice());
                        var p = c.getSource(),
                            d = s.getExtent();
                        if (p.getWrapX() && s.canWrapX() && !wn(d, u)) {
                            for (var y = u[0], g = Vn(d), v = 0, m = void 0; y < d[0];) m = g * --v, l.push(this.getRenderTransform(o, i, a, .5, h, f, m).slice()), y += g;
                            for (v = 0, y = u[2]; y > d[2];) m = g * ++v, l.push(this.getRenderTransform(o, i, a, .5, h, f, m).slice()), y -= g
                        }
                        this.hitDetectionImageData_ = function (t, e, n, r, o, i, a) {
                            var s = Vo(t[0] / 2, t[1] / 2);
                            s.imageSmoothingEnabled = !1;
                            for (var u = s.canvas, c = new Na(s, .5, o, null, a), l = n.length, h = Math.ceil(16777215 / l), f = {}, p = 1; p <= l; ++p) {
                                var d = n[p - 1],
                                    y = d.getStyleFunction() || r;
                                if (r) {
                                    var g = y(d, i);
                                    if (g) {
                                        Array.isArray(g) || (g = [g]);
                                        for (var v = "#" + ("000000" + (p * h).toString(16)).slice(-6), m = 0, _ = g.length; m < _; ++m) {
                                            var b = g[m],
                                                x = b.clone(),
                                                w = x.getFill();
                                            w && w.setColor(v);
                                            var S = x.getStroke();
                                            S && S.setColor(v), x.setText(void 0);
                                            var C = b.getImage();
                                            if (C) {
                                                var E = C.getImageSize(),
                                                    T = document.createElement("canvas");
                                                T.width = E[0], T.height = E[1];
                                                var O = T.getContext("2d", {
                                                    alpha: !1
                                                });
                                                O.fillStyle = v;
                                                var P = O.canvas;
                                                O.fillRect(0, 0, P.width, P.height), Vo(E ? E[0] : P.width, E ? E[1] : P.height).drawImage(P, 0, 0), x.setImage(new _c({
                                                    img: P,
                                                    imgSize: E,
                                                    anchor: C.getAnchor(),
                                                    anchorXUnits: "pixels",
                                                    anchorYUnits: "pixels",
                                                    offset: C.getOrigin(),
                                                    size: C.getSize(),
                                                    opacity: C.getOpacity(),
                                                    scale: C.getScale(),
                                                    rotation: C.getRotation(),
                                                    rotateWithView: C.getRotateWithView()
                                                }))
                                            }
                                            var A = Number(x.getZIndex());
                                            (L = f[A]) || (L = {}, f[A] = L, L.Polygon = [], L.Circle = [], L.LineString = [], L.Point = []);
                                            var R = x.getGeometryFunction()(d);
                                            R && Hn(o, R.getExtent()) && L[R.getType().replace("Multi", "")].push(R, x)
                                        }
                                    }
                                }
                            }
                            for (var I = Object.keys(f).map(Number).sort(ge), k = (p = 0, I.length); p < k; ++p) {
                                var L = f[I[p]];
                                for (var j in L) {
                                    var M = L[j];
                                    for (m = 0, _ = M.length; m < _; m += 2) {
                                        c.setStyle(M[m + 1]);
                                        for (var D = 0, F = e.length; D < F; ++D) c.setTransform(e[D]), c.drawGeometry(M[m])
                                    }
                                }
                            }
                            return s.getImageData(0, 0, u.width, u.height)
                        }(r, l, this.renderedFeatures_, c.getStyleFunction(), u, i, a)
                    }
                    e(function (t, e, n) {
                        var r = [];
                        if (n) {
                            var o = 4 * (Math.round(t[0] / 2) + Math.round(t[1] / 2) * n.width),
                                i = n.data[o],
                                a = n.data[o + 1],
                                s = n.data[o + 2] + 256 * (a + 256 * i),
                                u = Math.ceil(16777215 / e.length);
                            s && s % u == 0 && r.push(e[s / u - 1])
                        }
                        return r
                    }(t, this.renderedFeatures_, this.hitDetectionImageData_))
                }.bind(this))
            }, e.prototype.forEachFeatureAtCoordinate = function (t, e, n, r, o) {
                if (this.replayGroup_) {
                    var i = e.viewState.resolution,
                        a = e.viewState.rotation,
                        s = this.getLayer(),
                        u = {};
                    return this.replayGroup_.forEachFeatureAtCoordinate(t, i, a, n, (function (t) {
                        var e = oe(t);
                        if (!(e in u)) return u[e] = !0, r(t, s)
                    }), s.getDeclutter() ? o : null)
                }
            }, e.prototype.handleFontsChanged = function () {
                var t = this.getLayer();
                t.getVisible() && this.replayGroup_ && t.changed()
            }, e.prototype.handleStyleImageChange_ = function (t) {
                this.renderIfReadyAndVisible()
            }, e.prototype.prepareFrame = function (t) {
                var e = this.getLayer(),
                    n = e.getSource();
                if (!n) return !1;
                var r = t.viewHints[0],
                    o = t.viewHints[1],
                    i = e.getUpdateWhileAnimating(),
                    a = e.getUpdateWhileInteracting();
                if (!this.dirty_ && !i && r || !a && o) return this.animatingOrInteracting_ = !0, !0;
                this.animatingOrInteracting_ = !1;
                var s = t.extent,
                    u = t.viewState,
                    c = u.projection,
                    l = u.resolution,
                    h = t.pixelRatio,
                    f = e.getRevision(),
                    p = e.getRenderBuffer(),
                    d = e.getRenderOrder();
                void 0 === d && (d = Ba);
                var y = u.center.slice(),
                    g = mn(s, p * l),
                    v = u.projection.getExtent();
                if (n.getWrapX() && u.projection.canWrapX() && !wn(v, t.extent)) {
                    var m = Vn(v),
                        _ = Math.max(Vn(g) / 2, m);
                    g[0] = v[0] - _, g[2] = v[2] + _;
                    var b = Math.floor((y[0] - v[0]) / m);
                    y[0] -= b * m
                }
                if (!this.dirty_ && this.renderedResolution_ == l && this.renderedRevision_ == f && this.renderedRenderOrder_ == d && wn(this.renderedExtent_, g)) return this.replayGroupChanged = !1, !0;
                this.replayGroup_ = null, this.dirty_ = !1;
                var x = new nc(Ua(l, h), g, l, h, e.getDeclutter());
                n.loadFeatures(g, l, c);
                var w = function (t, e) {
                        var n = Ua(t, e);
                        return n * n
                    }(l, h),
                    S = function (t) {
                        var n, r = t.getStyleFunction() || e.getStyleFunction();
                        if (r && (n = r(t, l)), n) {
                            var o = this.renderFeature(t, w, n, x, void 0);
                            this.dirty_ = this.dirty_ || o
                        }
                    }.bind(this),
                    C = Br(g),
                    E = n.getFeaturesInExtent(C);
                d && E.sort(d);
                for (var T = 0, O = E.length; T < O; ++T) S(E[T]);
                this.renderedFeatures_ = E;
                var P = x.finish(),
                    A = new yc(g, l, h, n.getOverlaps(), P, e.getRenderBuffer());
                return this.renderedResolution_ = l, this.renderedRevision_ = f, this.renderedRenderOrder_ = d, this.renderedExtent_ = g, this.renderedRotation_ = u.rotation, this.renderedCenter_ = y, this.renderedProjection_ = c, this.replayGroup_ = A, this.hitDetectionImageData_ = null, this.replayGroupChanged = !0, !0
            }, e.prototype.renderFeature = function (t, e, n, r, o) {
                if (!n) return !1;
                var i = !1;
                if (Array.isArray(n))
                    for (var a = 0, s = n.length; a < s; ++a) i = Xa(r, t, n[a], e, this.boundHandleStyleImageChange_, o) || i;
                else i = Xa(r, t, n, e, this.boundHandleStyleImageChange_, o);
                return i
            }, e
        }(as),
        wc = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Sc = function (t) {
            function e(e) {
                return t.call(this, e) || this
            }
            return wc(e, t), e.prototype.createRenderer = function () {
                return new xc(this)
            }, e
        }(Fu),
        Cc = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Ec = function (t) {
            function e(e, n, r, o, i) {
                var a = this,
                    s = void 0 !== i ? 0 : 2;
                return (a = t.call(this, e, n, r, s) || this).loader_ = void 0 !== i ? i : null, a.canvas_ = o, a.error_ = null, a
            }
            return Cc(e, t), e.prototype.getError = function () {
                return this.error_
            }, e.prototype.handleLoad_ = function (t) {
                t ? (this.error_ = t, this.state = 3) : this.state = 2, this.changed()
            }, e.prototype.load = function () {
                0 == this.state && (this.state = 1, this.changed(), this.loader_(this.handleLoad_.bind(this)))
            }, e.prototype.getImage = function () {
                return this.canvas_
            }, e
        }(ys),
        Tc = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Oc = function (t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.image_ = null, n
            }
            return Tc(e, t), e.prototype.getImage = function () {
                return this.image_ ? this.image_.getImage() : null
            }, e.prototype.prepareFrame = function (t) {
                var e = t.layerStatesArray[t.layerIndex],
                    n = t.pixelRatio,
                    r = t.viewState,
                    o = r.resolution,
                    i = this.getLayer().getSource(),
                    a = t.viewHints,
                    s = t.extent;
                if (void 0 !== e.extent && (s = Un(s, Ur(e.extent, r.projection))), !a[0] && !a[1] && !Yn(s)) {
                    var u = r.projection,
                        c = i.getImage(s, o, n, u);
                    c && this.loadImage(c) && (this.image_ = c)
                }
                return !!this.image_
            }, e.prototype.renderFrame = function (t, e) {
                var n = this.image_,
                    r = n.getExtent(),
                    o = n.getResolution(),
                    i = n.getPixelRatio(),
                    a = t.layerStatesArray[t.layerIndex],
                    s = t.pixelRatio,
                    u = t.viewState,
                    c = u.center,
                    l = u.resolution,
                    h = t.size,
                    f = s * o / (l * i),
                    p = Math.round(h[0] * s),
                    d = Math.round(h[1] * s),
                    y = u.rotation;
                if (y) {
                    var g = Math.round(Math.sqrt(p * p + d * d));
                    p = g, d = g
                }
                Zr(this.pixelTransform, t.size[0] / 2, t.size[1] / 2, 1 / s, 1 / s, y, -p / 2, -d / 2), qr(this.inversePixelTransform, this.pixelTransform);
                var v = this.createTransformString(this.pixelTransform);
                this.useContainer(e, v, a.opacity);
                var m = this.context,
                    _ = m.canvas;
                _.width != p || _.height != d ? (_.width = p, _.height = d) : this.containerReused || m.clearRect(0, 0, p, d);
                var b = !1;
                if (a.extent) {
                    var x = Ur(a.extent, u.projection);
                    (b = !wn(x, t.extent) && Hn(x, t.extent)) && this.clipUnrotated(m, t, x)
                }
                var w = n.getImage(),
                    S = Zr(this.tempTransform_, p / 2, d / 2, f, f, 0, i * (r[0] - c[0]) / o, i * (c[1] - r[3]) / o);
                this.renderedResolution = o * s / i;
                var C = S[4],
                    E = S[5],
                    T = w.width * S[0],
                    O = w.height * S[3];
                if (this.preRender(m, t), T >= .5 && O >= .5) {
                    var P = a.opacity,
                        A = void 0;
                    1 !== P && (A = this.context.globalAlpha, this.context.globalAlpha = P), this.context.drawImage(w, 0, 0, +w.width, +w.height, Math.round(C), Math.round(E), Math.round(T), Math.round(O)), 1 !== P && (this.context.globalAlpha = A)
                }
                return this.postRender(m, t), b && m.restore(), v !== _.style.transform && (_.style.transform = v), this.container
            }, e
        }(as),
        Pc = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Ac = function (t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.vectorRenderer_ = new xc(e), n.layerImageRatio_ = e.getImageRatio(), n.coordinateToVectorPixelTransform_ = [1, 0, 0, 1, 0, 0], n.renderedPixelToCoordinateTransform_ = null, n
            }
            return Pc(e, t), e.prototype.disposeInternal = function () {
                this.vectorRenderer_.dispose(), t.prototype.disposeInternal.call(this)
            }, e.prototype.getFeatures = function (t) {
                if (this.vectorRenderer_) {
                    var e = Yr(this.coordinateToVectorPixelTransform_, Yr(this.renderedPixelToCoordinateTransform_, t.slice()));
                    return this.vectorRenderer_.getFeatures(e)
                }
                return new Promise((function (t, e) {
                    t([])
                }))
            }, e.prototype.handleFontsChanged = function () {
                this.vectorRenderer_.handleFontsChanged()
            }, e.prototype.prepareFrame = function (t) {
                var e = t.pixelRatio,
                    n = t.viewState,
                    r = n.resolution,
                    o = t.viewHints,
                    i = this.vectorRenderer_,
                    a = t.extent;
                1 !== this.layerImageRatio_ && Zn(a = a.slice(0), this.layerImageRatio_);
                var s = Vn(a) / r,
                    u = Bn(a) / r;
                if (!o[0] && !o[1] && !Yn(a)) {
                    i.useContainer(null, null, 1);
                    var c = i.context,
                        l = ue({}, t, {
                            declutterItems: [],
                            extent: a,
                            size: [s, u],
                            viewState: ue({}, t.viewState, {
                                rotation: 0
                            })
                        }),
                        h = new Ec(a, r, e, c.canvas, (function (t) {
                            i.prepareFrame(l) && i.replayGroupChanged && (i.renderFrame(l, null), Wa(l, null), t())
                        }));
                    h.addEventListener("change", function () {
                        2 === h.getState() && (this.image_ = h)
                    }.bind(this)), h.load()
                }
                if (this.image_) {
                    var f = this.image_,
                        p = f.getResolution() * e / f.getPixelRatio();
                    this.renderedResolution = p, this.renderedPixelToCoordinateTransform_ = t.pixelToCoordinateTransform.slice(), this.coordinateToVectorPixelTransform_ = Zr(this.coordinateToVectorPixelTransform_, s / 2, u / 2, 1 / p, -1 / p, 0, -n.center[0], -n.center[1])
                }
                return !!this.image_
            }, e.prototype.preRender = function () {}, e.prototype.postRender = function () {}, e.prototype.forEachFeatureAtCoordinate = function (e, n, r, o, i) {
                return this.vectorRenderer_ ? this.vectorRenderer_.forEachFeatureAtCoordinate(e, n, r, o, i) : t.prototype.forEachFeatureAtCoordinate.call(this, e, n, r, o, i)
            }, e
        }(Oc),
        Rc = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Ic = function (t) {
            function e(e) {
                var n = this,
                    r = e || {},
                    o = ue({}, r);
                return delete o.imageRatio, (n = t.call(this, o) || this).imageRatio_ = void 0 !== r.imageRatio ? r.imageRatio : 1, n
            }
            return Rc(e, t), e.prototype.getImageRatio = function () {
                return this.imageRatio_
            }, e.prototype.createRenderer = function () {
                return new Ac(this)
            }, e
        }(Fu);

    function kc(t) {
        return t * t
    }

    function Lc(t) {
        var e, n, r = function (t, e) {
            return t[0] == e[0] ? null : (e[1] - t[1]) / (e[0] - t[0])
        }(t[0], t[1]);
        return {
            m: r,
            b: (e = t[0], null === (n = r) ? e[0] : e[1] - n * e[0])
        }
    }

    function jc(t, e) {
        return kc(t[0] - e[0]) + kc(t[1] - e[1])
    }

    function Mc(t, e) {
        return null === t.m ? [t.b, e] : [e, t.m * e + t.b]
    }

    function Dc(t, e) {
        return null === t.m ? [t.b, e] : [(e - t.b) / t.m, e]
    }

    function Fc(t) {
        return new Promise((function (e, n) {
            var r = new Image;
            r.onload = function () {
                var t = r.width > 0 && r.height > 0;
                e(t)
            }, r.onerror = function () {
                e(!1)
            }, r.src = "data:image/webp;base64," + {
                lossy: "UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",
                lossless: "UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",
                alpha: "UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",
                animation: "UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"
            } [t]
        }))
    }
    var Gc = {
        lossy: Fc("lossy"),
        lossless: Fc("lossless"),
        alpha: Fc("alpha"),
        animation: Fc("animation")
    };
    window.webpSupport = Gc;
    var Nc = void 0;

    function zc(t, e) {
        void 0 === Nc && ((Nc = document.createElement("span")).style.display = "none", document.documentElement.appendChild(Nc)), Nc.style.color = t;
        var n = getComputedStyle(Nc).color,
            r = /rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*(?:.\d+)?)\s*)?\)/.exec(n);
        return r ? "rgba(".concat(r[1], ",").concat(r[2], ",").concat(r[3], ",").concat(e, ")") : t
    }

    function Bc(t, e, n) {
        return Math.min(Math.max(t, e), n)
    }

    function Uc(t, e, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
            o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1,
            i = arguments.length > 5 && void 0 !== arguments[5] && arguments[5],
            a = (t - e) / (n - e) * o + r;
        return i && (a = Bc(a, r, o)), a
    }

    function Xc(t) {
        var e = Math.floor(t / 60),
            n = Math.floor(t % 60);
        return (e > 0 ? "".concat(e, "m") : "") + "".concat(n < 10 ? "0" : "").concat(n, "s")
    }
    var Wc = {
            value: /(Android|webOS|iP(hone|ad|od)|BlackBerry|Windows Phone)/i.test(navigator.userAgent || navigator.vendor)
        },
        Vc = Wc.value || !/Chrome/.test(navigator.userAgent || navigator.vendor) ? "image" : "vector",
        Hc = "image" === Vc ? Ic : Sc,
        Yc = function () {
            function t(e, n) {
                (function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                })(this, t), this._field = 0, void 0 !== e && (this._field = parseInt(e, n))
            }
            return (e = [{
                key: "get",
                value: function (t) {
                    return 0 != (this._field & 1 << t)
                }
            }, {
                key: "set",
                value: function (t) {
                    var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                        n = this.get(t),
                        r = 1 << t,
                        o = ~r,
                        i = this._field & o | (e ? r : 0);
                    return this._field = i, n
                }
            }, {
                key: "toString",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 10;
                    return this._field.toString(t)
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(t.prototype, e), t;
            var e
        }(),
        Zc = (n(113), n(170)),
        qc = n.n(Zc);

    function Kc(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = $c(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function $c(t, e) {
        if (t) {
            if ("string" == typeof t) return Jc(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Jc(t, e) : void 0
        }
    }

    function Jc(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function Qc(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }
    console.log;
    var tl = function () {
        function t(e, n) {
            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "itemswitcher";
            Qc(this, t), this.map = e, this.selectedLayer = new Set, this.id = n, this.switcherClass = r, this.createControl(), e.addControl(this.control)
        }
        var e;
        return (e = [{
            key: "createControl",
            value: function () {
                var t = this;
                this.element = l()('<div id="'.concat(this.id, '"></div>')).addClass(this.switcherClass), this.control = new si({
                    element: this.element.get(0)
                }), this.element.click((function (e) {
                    l()(t.element).addClass("expanded")
                })), this.element.mouseleave((function () {
                    return t.setCloseTimer()
                })), this.element.mouseenter((function () {
                    return t.clearCloseTimer()
                })), this.container = l()('<div class="item-container"></div>'), this.element.append(this.container)
            }
        }, {
            key: "setCloseTimer",
            value: function (t) {
                var e = this;
                this.clearCloseTimer(), this.timerId = setTimeout((function () {
                    l()(e.element).removeClass("expanded")
                }), void 0 === t ? 1e3 : t)
            }
        }, {
            key: "clearCloseTimer",
            value: function () {
                void 0 !== this.timerId && (clearTimeout(this.timerId), this.timerId = void 0)
            }
        }, {
            key: "setVisible",
            value: function (t) {
                this.element.toggleClass("hidden", !t)
            }
        }, {
            key: "clearSelectedStyle",
            value: function () {
                this.container.children(".selected").removeClass("selected")
            }
        }, {
            key: "resetSelectedStyle",
            value: function () {
                var t = this;
                this.clearSelectedStyle(), this.selectedLayer.forEach((function (e) {
                    return t.container.children('[data-id="'.concat(l.a.escapeSelector(e), '"]')).addClass("selected")
                }));
                var e = this.firstSelectedLayer || this.firstLayer;
                this.element.css("backgroundImage", e && "url(".concat(e.imagePath, ")") || "none")
            }
        }, {
            key: "clearSelected",
            value: function () {
                this.selectedLayer.clear(), this.clearSelectedStyle()
            }
        }, {
            key: "setSelected",
            value: function (t) {
                this.selectedLayer.clear(), t instanceof Array || (t = [t]);
                var e, n = Kc(t);
                try {
                    for (n.s(); !(e = n.n()).done;) {
                        var r = e.value;
                        Object.keys(this.layers).includes(r) && this.selectedLayer.add(r)
                    }
                } catch (t) {
                    n.e(t)
                } finally {
                    n.f()
                }
                this.resetSelectedStyle()
            }
        }, {
            key: "addSelected",
            value: function (t) {
                t instanceof Array || (t = [t]);
                var e, n = Kc(t);
                try {
                    for (n.s(); !(e = n.n()).done;) {
                        var r = e.value;
                        Object.keys(this.layers).includes(r) && this.selectedLayer.add(r)
                    }
                } catch (t) {
                    n.e(t)
                } finally {
                    n.f()
                }
                this.resetSelectedStyle()
            }
        }, {
            key: "removeSelected",
            value: function (t) {
                t instanceof Array || (t = [t]);
                var e, n = Kc(t);
                try {
                    for (n.s(); !(e = n.n()).done;) {
                        var r = e.value;
                        this.selectedLayer.delete(r)
                    }
                } catch (t) {
                    n.e(t)
                } finally {
                    n.f()
                }
                this.resetSelectedStyle()
            }
        }, {
            key: "toggleSelected",
            value: function (t) {
                t instanceof Array || (t = [t]);
                var e, n = Kc(t);
                try {
                    for (n.s(); !(e = n.n()).done;) {
                        var r = e.value;
                        this.selectedLayer.has(r) ? this.selectedLayer.delete(r) : Object.keys(this.layers).includes(r) && this.selectedLayer.add(r)
                    }
                } catch (t) {
                    n.e(t)
                } finally {
                    n.f()
                }
                this.resetSelectedStyle()
            }
        }, {
            key: "isSelected",
            value: function (t) {
                return this.selectedLayer.has(t)
            }
        }, {
            key: "setLayers",
            value: function (t) {
                var e = this,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0;
                this.layers = {}, t.forEach((function (t) {
                    return e.layers[t.id] = t
                })), this.rebuildLayers(), this.setSelected(n)
            }
        }, {
            key: "elementClicked",
            value: function (t) {
                this.layers[t], this.resetSelectedStyle(), this.toggleSelected(t), this.clearCloseTimer(), this.emit("select-layer", t, !0)
            }
        }, {
            key: "rebuildLayers",
            value: function () {
                var t, e = this.container,
                    n = this;
                e.children().remove();
                for (var r = 0, o = Object.entries(this.layers); r < o.length; r++) {
                    var i = function (t) {
                            if (Array.isArray(t)) return t
                        }(t = o[r]) || function (t, e) {
                            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) {
                                var n = [],
                                    r = !0,
                                    o = !1,
                                    i = void 0;
                                try {
                                    for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), 2 !== n.length); r = !0);
                                } catch (t) {
                                    o = !0, i = t
                                } finally {
                                    try {
                                        r || null == s.return || s.return()
                                    } finally {
                                        if (o) throw i
                                    }
                                }
                                return n
                            }
                        }(t) || $c(t, 2) || function () {
                            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }(),
                        a = i[0],
                        s = i[1],
                        u = this.isSelected(a),
                        c = {
                            id: a,
                            imagePath: s.imagePath,
                            desc: s.desc,
                            selected: u
                        },
                        h = l()(qc()(c));
                    h.on("click", (function (t) {
                        var e = l()(this).data("id");
                        n.elementClicked(e)
                    })), e.append(h)
                }
            }
        }, {
            key: "selected",
            get: function () {
                return Array.from(this.selectedLayer.values())
            }
        }, {
            key: "firstSelectedLayer",
            get: function () {
                return this.layers[this.selectedLayer.values().next().value]
            }
        }, {
            key: "firstLayer",
            get: function () {
                return Object.values(this.layers)[0]
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(t.prototype, e), t
    }();
    f()(tl.prototype);
    var el = function () {
            function t(e) {
                ! function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this.projection = [8192, 8192], this.dimensions = [8192, 8192], this.gridSize = 1016, this.gridDivisions = 10, this.gridLength = 1e3, this.sizeScale = 1, this.adjustCoords = [0, 0], this.gridRef = {
                    X: "ABCDEFGH",
                    Y: "IJKLMNOP"
                }, e && Object.assign(this, e)
            }
            var e;
            return (e = [{
                key: "c",
                value: function (t) {
                    return [t[0], this.projection[1] - t[1]]
                }
            }, {
                key: "cx",
                value: function (t) {
                    return [t[0] / 100 * (1 / this.sizeScale) + this.adjustCoords[0], this.projection[1] - t[1] / 100 * (1 / this.sizeScale) - this.adjustCoords[1]]
                }
            }, {
                key: "xc",
                value: function (t) {
                    return [100 * t[0] * this.sizeScale, 100 * (this.projection[1] - t[1]) * this.sizeScale]
                }
            }, {
                key: "mc",
                value: function (t) {
                    return [t[0] / this.gridSize * this.gridLength * this.sizeScale, (this.projection[1] - t[1]) / this.gridSize * this.gridLength * this.sizeScale]
                }
            }, {
                key: "cm",
                value: function (t) {
                    return [t[0] / this.gridLength * this.gridSize * (1 / this.sizeScale), (this.projection[1] - t[1]) / this.gridLength * this.gridSize * (1 / this.sizeScale)]
                }
            }, {
                key: "getGridRef",
                value: function (t) {
                    var e = this.gridLength * this.sizeScale,
                        n = [Math.floor(t[0] / e), Math.floor(t[1] / e)];
                    if (n[0] >= 0 && n[0] < this.gridRef.X.length && n[1] >= 0 && n[1] < this.gridRef.Y.length) {
                        var r = [this.gridRef.X[n[0]], this.gridRef.Y[n[1]]];
                        return r[0] += Math.floor(t[0] % e / e * this.gridDivisions), r[1] += Math.floor(t[1] % e / e * this.gridDivisions), r
                    }
                }
            }, {
                key: "toMeters",
                value: function (t) {
                    return t / this.gridSize * this.gridLength * this.sizeScale
                }
            }, {
                key: "fromMeters",
                value: function (t) {
                    return t * this.gridSize / this.gridLength / this.sizeScale
                }
            }, {
                key: "toGameUnits",
                value: function (t) {
                    return 100 * t * this.sizeScale
                }
            }, {
                key: "extent",
                get: function () {
                    return [0, this.projection[1] - this.dimensions[1], this.dimensions[0], this.projection[1]]
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(t.prototype, e), t
        }(),
        nl = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        rl = function (t) {
            function e(e) {
                var n = e || {};
                return t.call(this, n) || this
            }
            return nl(e, t), e
        }(hi),
        ol = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        il = function (t) {
            function e(e) {
                return t.call(this, e) || this
            }
            return ol(e, t), e.prototype.createRenderer = function () {
                return new Oc(this)
            }, e
        }(rl),
        al = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        sl = function (t) {
            function e(e, n, r, o, i, a) {
                var s = this,
                    u = e.getExtent(),
                    c = n.getExtent(),
                    l = c ? Un(r, c) : r,
                    h = Os(e, n, Gn(l), o),
                    f = new Rs(e, n, l, u, .5 * h),
                    p = a(f.calculateSourceExtent(), h, i),
                    d = p ? 0 : 4,
                    y = p ? p.getPixelRatio() : 1;
                return (s = t.call(this, r, o, y, d) || this).targetProj_ = n, s.maxSourceExtent_ = u, s.triangulation_ = f, s.targetResolution_ = o, s.targetExtent_ = r, s.sourceImage_ = p, s.sourcePixelRatio_ = y, s.canvas_ = null, s.sourceListenerKey_ = null, s
            }
            return al(e, t), e.prototype.disposeInternal = function () {
                1 == this.state && this.unlistenSource_(), t.prototype.disposeInternal.call(this)
            }, e.prototype.getImage = function () {
                return this.canvas_
            }, e.prototype.getProjection = function () {
                return this.targetProj_
            }, e.prototype.reproject_ = function () {
                var t = this.sourceImage_.getState();
                if (2 == t) {
                    var e = Vn(this.targetExtent_) / this.targetResolution_,
                        n = Bn(this.targetExtent_) / this.targetResolution_;
                    this.canvas_ = As(e, n, this.sourcePixelRatio_, this.sourceImage_.getResolution(), this.maxSourceExtent_, this.targetResolution_, this.targetExtent_, this.triangulation_, [{
                        extent: this.sourceImage_.getExtent(),
                        image: this.sourceImage_.getImage()
                    }], 0)
                }
                this.state = t, this.changed()
            }, e.prototype.load = function () {
                if (0 == this.state) {
                    this.state = 1, this.changed();
                    var t = this.sourceImage_.getState();
                    2 == t || 3 == t ? this.reproject_() : (this.sourceListenerKey_ = fe(this.sourceImage_, "change", (function (t) {
                        var e = this.sourceImage_.getState();
                        2 != e && 3 != e || (this.unlistenSource_(), this.reproject_())
                    }), this), this.sourceImage_.load())
                }
            }, e.prototype.unlistenSource_ = function () {
                de(this.sourceListenerKey_), this.sourceListenerKey_ = null
            }, e
        }(ys),
        ul = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        cl = function (t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.image = n, r
            }
            return ul(e, t), e
        }(Te);

    function ll(t, e) {
        t.getImage().src = e
    }
    var hl = function (t) {
            function e(e) {
                var n = t.call(this, {
                    attributions: e.attributions,
                    projection: e.projection,
                    state: e.state
                }) || this;
                return n.resolutions_ = void 0 !== e.resolutions ? e.resolutions : null, n.reprojectedImage_ = null, n.reprojectedRevision_ = 0, n
            }
            return ul(e, t), e.prototype.getResolutions = function () {
                return this.resolutions_
            }, e.prototype.findNearestResolution = function (t) {
                if (this.resolutions_) {
                    var e = me(this.resolutions_, t, 0);
                    t = this.resolutions_[e]
                }
                return t
            }, e.prototype.getImage = function (t, e, n, r) {
                var o = this.getProjection();
                if (o && r && !Dr(o, r)) {
                    if (this.reprojectedImage_) {
                        if (this.reprojectedRevision_ == this.getRevision() && Dr(this.reprojectedImage_.getProjection(), r) && this.reprojectedImage_.getResolution() == e && An(this.reprojectedImage_.getExtent(), t)) return this.reprojectedImage_;
                        this.reprojectedImage_.dispose(), this.reprojectedImage_ = null
                    }
                    return this.reprojectedImage_ = new sl(o, r, t, e, n, function (t, e, n) {
                        return this.getImageInternal(t, e, n, o)
                    }.bind(this)), this.reprojectedRevision_ = this.getRevision(), this.reprojectedImage_
                }
                return o && (r = o), this.getImageInternal(t, e, n, r)
            }, e.prototype.getImageInternal = function (t, e, n, r) {
                return ne()
            }, e.prototype.handleImageChange = function (t) {
                var e = t.target;
                switch (e.getState()) {
                    case 1:
                        this.loading = !0, this.dispatchEvent(new cl("imageloadstart", e));
                        break;
                    case 2:
                        this.loading = !1, this.dispatchEvent(new cl("imageloadend", e));
                        break;
                    case 3:
                        this.loading = !1, this.dispatchEvent(new cl("imageloaderror", e))
                }
            }, e
        }(Fs),
        fl = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        pl = function (t) {
            function e(e) {
                var n = this,
                    r = void 0 !== e.crossOrigin ? e.crossOrigin : null,
                    o = void 0 !== e.imageLoadFunction ? e.imageLoadFunction : ll;
                return (n = t.call(this, {
                    attributions: e.attributions,
                    projection: kr(e.projection)
                }) || this).url_ = e.url, n.imageExtent_ = e.imageExtent, n.image_ = new ms(n.imageExtent_, void 0, 1, n.url_, r, o), n.imageSize_ = e.imageSize ? e.imageSize : null, n.image_.addEventListener("change", n.handleImageChange.bind(n)), n
            }
            return fl(e, t), e.prototype.getImageExtent = function () {
                return this.imageExtent_
            }, e.prototype.getImageInternal = function (t, e, n, r) {
                return Hn(t, this.image_.getExtent()) ? this.image_ : null
            }, e.prototype.getUrl = function () {
                return this.url_
            }, e.prototype.handleImageChange = function (e) {
                if (2 == this.image_.getState()) {
                    var n = this.image_.getExtent(),
                        r = this.image_.getImage(),
                        o = void 0,
                        i = void 0;
                    this.imageSize_ ? (o = this.imageSize_[0], i = this.imageSize_[1]) : (o = r.width, i = r.height);
                    var a = Bn(n) / i,
                        s = Math.ceil(Vn(n) / a);
                    if (s != o) {
                        var u = Vo(s, i),
                            c = u.canvas;
                        u.drawImage(r, 0, 0, o, i, 0, 0, c.width, c.height), this.image_.setImage(c)
                    }
                }
                t.prototype.handleImageChange.call(this, e)
            }, e
        }(hl),
        dl = function () {
            function t(e, n) {
                ! function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this.zIndex = e, this.map = n, this.subcategories = new Map, this.P = n.P, this.layer = new ti({
                    visible: !1,
                    zIndex: e
                }), this.zIndex = e
            }
            var e;
            return (e = [{
                key: "onAdd",
                value: function () {
                    this.emit("add")
                }
            }, {
                key: "onRemove",
                value: function () {
                    this.emit("remove")
                }
            }, {
                key: "setVisible",
                value: function () {
                    var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                    this.layer.setVisible(t), this.emit("visible", t)
                }
            }, {
                key: "setOpacity",
                value: function (t) {
                    this.layer.setOpacity(t), this.emit("opacity", t)
                }
            }, {
                key: "addLayer",
                value: function (t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                    this.subcategories.set(t, e), this.layer.getLayers().push(e), void 0 !== this.zIndex && e.setZIndex(this.zIndex + n)
                }
            }, {
                key: "removeLayer",
                value: function (t) {
                    var e = this.subcategories.get(t);
                    e && (this.layer.getLayers().remove(e), this.subcategories.delete(t))
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(t.prototype, e), t
        }();

    function yl(t) {
        return (yl = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function gl(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function vl(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function ml(t, e) {
        return !e || "object" !== yl(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function _l() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function bl(t) {
        return (bl = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function xl(t, e) {
        return (xl = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    f()(dl.prototype);
    var wl = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && xl(t, e)
        }(s, t);
        var e, n, r, o, i, a = (e = s, function () {
            var t, n = bl(e);
            if (_l()) {
                var r = bl(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return ml(this, t)
        });

        function s(t, e) {
            var n;
            return function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, s), (n = a.call(this, t, e)).layerZIndex = 0, n.setVisible(!0), n.clear(), n
        }
        return n = s, (r = [{
            key: "addOverlay",
            value: (o = regeneratorRuntime.mark((function t(e) {
                var n, r, o, i, a, s, u, c, l, h, f;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (!e.format) {
                                t.next = 4;
                                break
                            }
                            t.t0 = e.format, t.next = 12;
                            break;
                        case 4:
                            return t.next = 6, Gc.lossy;
                        case 6:
                            if (!t.sent) {
                                t.next = 10;
                                break
                            }
                            t.t1 = "webp", t.next = 11;
                            break;
                        case 10:
                            t.t1 = "jpg";
                        case 11:
                            t.t0 = t.t1;
                        case 12:
                            if (n = t.t0, "tiles" != e.type && void 0 !== e.type) {
                                t.next = 20;
                                break
                            }
                            return r = "/map/map/".concat(this.map.currentMap.id, "/").concat(e.id, "/{z}/{x}/{y}.").concat(n), o = new hs({
                                source: new Qs({
                                    url: r,
                                    minZoom: e.minZoom || 0,
                                    maxZoom: e.maxZoom,
                                    wrapX: !1,
                                    projection: this.map.projection
                                }),
                                visible: !1 !== e.display
                            }), this.addLayer(e.id, o, this.layerZIndex++), t.abrupt("return", o);
                        case 20:
                            if ("image" != e.type) {
                                t.next = 27;
                                break
                            }
                            for (i = "/map/map/".concat(this.map.currentMap.id, "/").concat(e.id, "/"), a = e.minZoom || 0, s = e.maxZoom || 5, u = [], c = a; c <= s; c++) l = this.map.map.getView().getResolutionForZoom(c), h = new il({
                                minResolution: c == s ? 0 : l,
                                maxResolution: 2 * l,
                                visible: !0,
                                source: new pl({
                                    url: "".concat(i).concat(c, ".").concat(n),
                                    imageExtent: this.P.extent,
                                    projection: this.map.projection
                                }),
                                zIndex: this.zIndex + this.layerZIndex++
                            }), u.push(h);
                            return f = new ti({
                                layers: u
                            }), this.addLayer(e.id, f, this.layerZIndex++), t.abrupt("return", f);
                        case 27:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            })), i = function () {
                var t = this,
                    e = arguments;
                return new Promise((function (n, r) {
                    var i = o.apply(t, e);

                    function a(t) {
                        vl(i, n, r, a, s, "next", t)
                    }

                    function s(t) {
                        vl(i, n, r, a, s, "throw", t)
                    }
                    a(void 0)
                }))
            }, function (t) {
                return i.apply(this, arguments)
            })
        }, {
            key: "clear",
            value: function () {
                var t, e = function (t) {
                    if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
                        if (Array.isArray(t) || (t = function (t, e) {
                                if (t) {
                                    if ("string" == typeof t) return gl(t, void 0);
                                    var n = Object.prototype.toString.call(t).slice(8, -1);
                                    return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? gl(t, void 0) : void 0
                                }
                            }(t))) {
                            var e = 0,
                                n = function () {};
                            return {
                                s: n,
                                n: function () {
                                    return e >= t.length ? {
                                        done: !0
                                    } : {
                                        done: !1,
                                        value: t[e++]
                                    }
                                },
                                e: function (t) {
                                    throw t
                                },
                                f: n
                            }
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }
                    var r, o, i = !0,
                        a = !1;
                    return {
                        s: function () {
                            r = t[Symbol.iterator]()
                        },
                        n: function () {
                            var t = r.next();
                            return i = t.done, t
                        },
                        e: function (t) {
                            a = !0, o = t
                        },
                        f: function () {
                            try {
                                i || null == r.return || r.return()
                            } finally {
                                if (a) throw o
                            }
                        }
                    }
                }(this.subcategories.keys());
                try {
                    for (e.s(); !(t = e.n()).done;) {
                        var n = t.value;
                        this.removeLayer(n)
                    }
                } catch (t) {
                    e.e(t)
                } finally {
                    e.f()
                }
                this.layerZIndex = 0
            }
        }, {
            key: "setOverlayVisible",
            value: function (t) {
                var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                this.subcategories.get(t).setVisible(e)
            }
        }, {
            key: "removeOverlay",
            value: function (t) {
                this.removeLayer(t.id)
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(n.prototype, r), s
    }(dl);

    function Sl(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = function (t, e) {
                    if (t) {
                        if ("string" == typeof t) return Cl(t, void 0);
                        var n = Object.prototype.toString.call(t).slice(8, -1);
                        return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Cl(t, void 0) : void 0
                    }
                }(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function Cl(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function El(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function Tl(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    El(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    El(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }
    var Ol, Pl = [201029, 255880, 315876, 196809, 282172, 270304, 50578, 234400, 331944, 111170];
    ! function (t) {
        t[t.Meters = 0] = "Meters", t[t.GameUnits = 1] = "GameUnits", t[t.MapUnits = 2] = "MapUnits"
    }(Ol || (Ol = {}));
    var Al = function () {
        function t(e, n) {
            var r = this;
            ! function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this.options = {}, this.P = new el, this.layers = new Set, this.interactions = new Set, this.emitViewChange = a()((function () {
                r.emit("viewchange", r.getViewState())
            }), 1500, {
                leading: !0
            }), Object.assign(this.options, n), this.map = new $a({
                view: this.createView(),
                controls: [new _i, new Mu, new Ru, new vi, new Lu({
                    coordinateFormat: function (t) {
                        var e = void 0;
                        switch (r.options.displayCoordinates) {
                            case Ol.Meters:
                                t = r.P.mc(t), e = r.P.getGridRef(t);
                                break;
                            case Ol.GameUnits:
                                t = r.P.xc(t)
                        }
                        var n = "".concat(t[0].toFixed(0), "x").concat(t[1].toFixed(0));
                        return void 0 !== e && (n += ", ".concat(e[0], "x").concat(e[1])), n
                    },
                    projection: void 0
                })],
                target: e,
                renderer: [this.options.renderer, "canvas", "webgl"]
            }), this.layerSwitcher = new tl(this.map, "layer-switcher"), this.layerSwitcher.on("select-layer", function () {
                var t = Tl(regeneratorRuntime.mark((function t(e) {
                    return regeneratorRuntime.wrap((function (t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, r.loadView(e);
                            case 2:
                                r.layerSwitcher.setSelected(e), r.layerSwitcher.setCloseTimer(0);
                            case 4:
                            case "end":
                                return t.stop()
                        }
                    }), t)
                })));
                return function (e) {
                    return t.apply(this, arguments)
                }
            }()), this.map.on("click", (function (t) {
                r.emit("click", r.P.xc(t.coordinate), t)
            })), this.overlays = new wl(100, this), this.map.addLayer(this.overlays.layer)
        }
        var e, n, r, o, i;
        return e = t, (n = [{
            key: "createView",
            value: function () {
                var t, e = this;
                return this.projection = (t = this.P, new ee({
                    code: "hello how are you, i am fine thank you",
                    extent: [0, 0, t.projection[0], t.projection[1]],
                    units: "pixels"
                })), this.view = new Wo({
                    center: void 0 === this.options.center ? [this.P.dimensions[0] / 2, this.P.dimensions[1] / 2] : this.P.cx(this.options.center),
                    zoom: this.options.zoom,
                    projection: this.projection,
                    extent: this.P.extent,
                    rotation: this.options.rotation,
                    maxZoom: 10,
                    constrainRotation: 24,
                    constrainResolution: !1,
                    constrainOnlyCenter: !0
                }), this.view.on("change:resolution", (function (t) {
                    e.adjustOpacity(), e.emitViewChange()
                })), this.view.on("change:center", (function (t) {
                    e.emitViewChange()
                })), this.view.on("change:rotation", (function (t) {
                    e.emitViewChange()
                })), this.view
            }
        }, {
            key: "getViewState",
            value: function () {
                var t = {
                    zoom: this.view.getZoom(),
                    center: this.P.xc(this.view.getCenter()),
                    rotation: this.view.getRotation()
                };
                return this.options.zoom = t.zoom, this.options.center = t.center, this.options.rotation = t.rotation, t
            }
        }, {
            key: "createTileLayer",
            value: (i = Tl(regeneratorRuntime.mark((function t(e) {
                var n, r, o = this,
                    i = arguments;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return n = i.length > 1 && void 0 !== i[1] ? i[1] : "tiles", t.t0 = "/map/map/".concat(e.id, "/").concat(n, "/{z}/{x}/{y}."), t.next = 4, Gc.lossy;
                        case 4:
                            if (!t.sent) {
                                t.next = 8;
                                break
                            }
                            t.t1 = "webp", t.next = 9;
                            break;
                        case 8:
                            t.t1 = "jpg";
                        case 9:
                            t.t2 = t.t1, r = t.t0.concat.call(t.t0, t.t2), this.tiles = new hs({
                                source: new Qs({
                                    url: r,
                                    minZoom: 0,
                                    maxZoom: e.maxZoom,
                                    wrapX: !1,
                                    projection: this.projection
                                }),
                                preload: 2,
                                zIndex: 0
                            }), this.tiles.on("prerender", (function (t) {
                                var e = t.context;
                                !o.options.imageSmoothing && e && (e.imageSmoothingEnabled = o.view.getZoom() < 7), e.filter = o.options.mapFilter
                            }));
                        case 13:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t) {
                return i.apply(this, arguments)
            })
        }, {
            key: "adjustOpacity",
            value: function () {
                var t = this.view.getZoom();
                this.lilGrid && (t >= 3.5 ? (this.lilGrid.setVisible(!0), this.lilGrid.setOpacity(1)) : this.lilGrid.setOpacity(t / 3.5));
                var e = this.overlays;
                if (e) {
                    var n;
                    n = t <= 3.5 ? 1 : 1 - .7 * Math.min(1, (t - 3.5) / 2.5);
                    var r, o = Sl(e.layer.getLayers().getArray());
                    try {
                        for (o.s(); !(r = o.n()).done;) r.value.setOpacity(n)
                    } catch (t) {
                        o.e(t)
                    } finally {
                        o.f()
                    }
                }
            }
        }, {
            key: "createGridLayer",
            value: function (t) {
                for (var e = [], n = [], r = this.P.gridSize / this.P.gridDivisions, o = this.P.dimensions[1] / r, i = 1; i < o; i++) {
                    var a = i * r;
                    i % this.P.gridDivisions == 0 ? (e.push(new cu({
                        geometry: new du([this.P.c([0, a]), this.P.c([this.P.dimensions[0], a])])
                    })), e.push(new cu({
                        geometry: new du([this.P.c([a, 0]), this.P.c([a, this.P.dimensions[1]])])
                    }))) : (n.push(new cu({
                        geometry: new du([this.P.c([0, a]), this.P.c([this.P.dimensions[0], a])])
                    })), n.push(new cu({
                        geometry: new du([this.P.c([a, 0]), this.P.c([a, this.P.dimensions[1]])])
                    })))
                }
                var s = new Ou({
                        stroke: new xu({
                            color: t.gridColor,
                            width: 1.5
                        })
                    }),
                    u = new Ou({
                        stroke: new xu({
                            color: t.smallGridColor,
                            width: .5
                        })
                    });
                this.bigGrid = new Hc({
                    source: new su({
                        features: e
                    }),
                    style: s,
                    updateWhileAnimating: !Wc.value,
                    updateWhileInteracting: !Wc.value,
                    zIndex: 210
                }), this.lilGrid = new Hc({
                    source: new su({
                        features: n
                    }),
                    style: u,
                    updateWhileAnimating: !Wc.value,
                    updateWhileInteracting: !Wc.value,
                    zIndex: 205
                }), this.gridGroup = new ti({
                    layers: [this.bigGrid, this.lilGrid],
                    zIndex: 200
                })
            }
        }, {
            key: "setGridVisible",
            value: function () {
                var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                this.gridGroup && this.gridGroup.setVisible(t)
            }
        }, {
            key: "loadMap",
            value: (o = Tl(regeneratorRuntime.mark((function t(e) {
                var n, r;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return this.currentMap = e, this.P = new el(e.projection), n = Math.sqrt(this.P.dimensions[0] * this.P.dimensions[0] + this.P.dimensions[1] * this.P.dimensions[1]) / 1.8, this.MIN_EXTENT = this.P.dimensions[0] / 2 - n, this.MAX_EXTENT = this.P.dimensions[0] / 2 + n, this.map.setView(this.createView()), this.tiles && this.map.removeLayer(this.tiles), this.gridGroup && this.map.removeLayer(this.gridGroup), this.clearLayers(), this.clearInteractions(), t.next = 12, this.createTileLayer(e, e.view);
                        case 12:
                            return t.next = 14, Gc.lossy;
                        case 14:
                            r = t.sent, this.layerSwitcher.setLayers(Object.entries(this.currentMap.views).map((function (t) {
                                return {
                                    id: t[0],
                                    desc: t[1].desc,
                                    imagePath: "/map/map/".concat(e.id, "/").concat(t[0], "/0/0/0.").concat(r ? "webp" : "jpg")
                                }
                            })), e.view), this.map.addLayer(this.tiles), this.P.gridSize && (this.createGridLayer(e), this.map.addLayer(this.gridGroup)), this.adjustOpacity(), void 0 === this.view.getZoom() && this.zoomExtent();
                        case 20:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t) {
                return o.apply(this, arguments)
            })
        }, {
            key: "clampLine",
            value: function (t) {
                return function (t, e, n) {
                    var r = Mc(t, e),
                        o = Mc(t, n);
                    return r[1] < e && (r = Dc(t, e)), o[1] < e && (o = Dc(t, e)), r[1] > n && (r = Dc(t, n)), o[1] > n && (o = Dc(t, n)), r[0] = Bc(r[0], e, n), o[0] = Bc(o[0], e, n), [r, o]
                }(t, this.MIN_EXTENT, this.MAX_EXTENT)
            }
        }, {
            key: "loadView",
            value: (r = Tl(regeneratorRuntime.mark((function t(e) {
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return this.map.removeLayer(this.tiles), t.next = 3, this.createTileLayer(this.currentMap, e);
                        case 3:
                            this.map.addLayer(this.tiles);
                        case 4:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t) {
                return r.apply(this, arguments)
            })
        }, {
            key: "setCenter",
            value: function (t) {
                this.view.setCenter([t[0], this.P.projection[1] - t[1]])
            }
        }, {
            key: "setZoom",
            value: function (t) {
                this.view.setZoom(t)
            }
        }, {
            key: "zoomExtent",
            value: function () {
                this.view.fit(this.projection.getExtent())
            }
        }, {
            key: "addLayer",
            value: function (t) {
                this.layers.has(t) || (this.layers.add(t), this.map.addLayer(t.layer), t.onAdd())
            }
        }, {
            key: "removeLayer",
            value: function (t) {
                this.layers.has(t) && (this.map.removeLayer(t.layer), this.layers.delete(t), t.onRemove())
            }
        }, {
            key: "clearLayers",
            value: function () {
                var t, e = Sl(this.layers);
                try {
                    for (e.s(); !(t = e.n()).done;) {
                        var n = t.value;
                        this.removeLayer(n)
                    }
                } catch (t) {
                    e.e(t)
                } finally {
                    e.f()
                }
            }
        }, {
            key: "dimLayers",
            value: function (t, e) {
                this.layers.forEach((function (n) {
                    (void 0 === e || e(n)) && n.setOpacity(t)
                })), this.interactions.forEach((function (n) {
                    (void 0 === e || e(n)) && n.setOpacity(t)
                }))
            }
        }, {
            key: "undimLayers",
            value: function () {
                this.dimLayers(1)
            }
        }, {
            key: "addInteraction",
            value: function (t) {
                this.interactions.has(t) || (this.interactions.add(t), t.add())
            }
        }, {
            key: "removeInteraction",
            value: function (t) {
                this.interactions.has(t) && (this.interactions.delete(t), t.remove(), this.interaction == t && (t.disableInteraction(), this.interaction = void 0))
            }
        }, {
            key: "clearInteractions",
            value: function () {
                var t, e = Sl(this.interactions);
                try {
                    for (e.s(); !(t = e.n()).done;) {
                        var n = t.value;
                        this.removeInteraction(n)
                    }
                } catch (t) {
                    e.e(t)
                } finally {
                    e.f()
                }
            }
        }, {
            key: "enableInteraction",
            value: function (t) {
                this.disableInteraction(), this.interaction = t, this.interaction.enableInteraction()
            }
        }, {
            key: "disableInteraction",
            value: function (t) {
                !this.interaction || void 0 !== t && this.interaction != t || this.interaction.disableInteraction()
            }
        }, {
            key: "uncx",
            value: function (t) {
                var e = t.x,
                    n = t.y;
                if (!t.skip) {
                    e = (t.x - 42044) / .788;
                    var r = Math.floor(10 * t.x % 10);
                    n = (t.y - 42044 + Pl[r]) / .788
                }
                return [e, n]
            }
        }, {
            key: "spotIntersects",
            value: function (t, e) {
                return t.intersectsCoordinate(this.P.cx(this.uncx(e)))
            }
        }, {
            key: "formatDistance",
            value: function (t) {
                var e;
                switch (e = "number" == typeof t ? t : t.getLength(), this.options.displayCoordinates) {
                    case Ol.Meters:
                        return (e = this.P.toMeters(e)) > 1e3 ? "".concat((e /= 1e3).toFixed(3), "km") : "".concat(e > 100 ? e.toFixed(0) : e.toFixed(1), "m");
                    case Ol.GameUnits:
                        return e = this.P.toGameUnits(e), "".concat(e.toFixed(1))
                }
                return "".concat(e.toFixed(1))
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(e.prototype, n), t
    }();

    function Rl(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }
    f()(Al.prototype);
    var Il = function () {
        function t(e, n) {
            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1e3;
            Rl(this, t), this.handler = e, this.updateHandler = n, this.updateRate = r
        }
        var e;
        return (e = [{
            key: "start",
            value: function (t) {
                var e = this;
                this.abort(), this.endTime = Date.now() + t;
                var n = this.endTime - Date.now();
                this.updateHandler(n);
                for (var r = arguments.length, o = new Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++) o[i - 1] = arguments[i];
                return this.intervalId = setInterval.apply(void 0, [function () {
                    var t = e.endTime - Date.now();
                    e.updateHandler(t)
                }, this.updateRate].concat(o)), this.timeoutId = setTimeout.apply(void 0, [function () {
                    e._abort(!0), e.handler.apply(e, arguments)
                }, n].concat(o)), this.intervalId
            }
        }, {
            key: "abort",
            value: function () {
                this._abort(!1)
            }
        }, {
            key: "_abort",
            value: function (t) {
                if (void 0 !== this.intervalId) return clearInterval(this.intervalId), t || clearTimeout(this.timeoutId), this.intervalId = void 0, this.timeoutId = void 0, !0
            }
        }, {
            key: "call",
            value: function () {
                return this.handler.apply(this, arguments)
            }
        }, {
            key: "active",
            get: function () {
                return void 0 !== this.intervalId
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(t.prototype, e), t
    }();

    function kl(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function Ll(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    kl(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    kl(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }
    var jl = function () {
        function t(e, n, r) {
            ! function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this.map = e, this.control = n, this.createControl = r, this.enabled = !1, n.find(".control").on("click", this.onClick.bind(this))
        }
        var e, n, r, o;
        return e = t, (n = [{
            key: "removeInteraction",
            value: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                this.control.removeClass("on enabled"), this.interaction && (this.map.removeInteraction(this.interaction), this.interaction = void 0), t || this.emit("removed")
            }
        }, {
            key: "enableInteraction",
            value: function () {
                var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                this.interaction && (this.enabled = t, t ? this.map.enableInteraction(this.interaction) : this.map.disableInteraction(this.interaction))
            }
        }, {
            key: "create",
            value: (o = Ll(regeneratorRuntime.mark((function t() {
                var e, n, r, o = this,
                    i = arguments;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return e = i.length > 0 && void 0 !== i[0] && i[0], n = !(i.length > 1 && void 0 !== i[1]) || i[1], this.interaction && this.removeInteraction(e), t.next = 5, this.createControl();
                        case 5:
                            this.interaction = t.sent, this.interaction.on("enable", (function () {
                                o.control.toggleClass("enabled", !0), o.emit("enabled", !0)
                            })), r = function () {
                                o.control.toggleClass("enabled", !1), o.emit("enabled", !1)
                            }, this.interaction.on("disable", r), this.interaction.on("remove", r), this.map.addInteraction(this.interaction), this.enabled = n, this.enabled && this.map.enableInteraction(this.interaction), this.control.addClass("on"), e || this.emit("created");
                        case 15:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function () {
                return o.apply(this, arguments)
            })
        }, {
            key: "onClick",
            value: (r = Ll(regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (!this.interaction || !this.interaction.enabled) {
                                t.next = 4;
                                break
                            }
                            this.removeInteraction(), t.next = 10;
                            break;
                        case 4:
                            if (!this.interaction || this.interaction.enabled) {
                                t.next = 8;
                                break
                            }
                            this.enableInteraction(), t.next = 10;
                            break;
                        case 8:
                            return t.next = 10, this.create();
                        case 10:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function () {
                return r.apply(this, arguments)
            })
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(e.prototype, n), t
    }();
    f()(jl.prototype);
    var Ml = n(171),
        Dl = n.n(Ml),
        Fl = n(172),
        Gl = n.n(Fl),
        Nl = n(173),
        zl = n.n(Nl),
        Bl = n(174),
        Ul = n.n(Bl),
        Xl = n(175),
        Wl = n.n(Xl),
        Vl = n(176),
        Hl = n.n(Vl);

    function Yl(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }
    n(291);
    var Zl, ql = function () {
            function t(e) {
                ! function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t);
                for (var n = {}, r = 0, o = Object.entries(e); r < o.length; r++) {
                    var i = function (t) {
                            if (Array.isArray(t)) return t
                        }(u = o[r]) || function (t, e) {
                            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) {
                                var n = [],
                                    r = !0,
                                    o = !1,
                                    i = void 0;
                                try {
                                    for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), 2 !== n.length); r = !0);
                                } catch (t) {
                                    o = !0, i = t
                                } finally {
                                    try {
                                        r || null == s.return || s.return()
                                    } finally {
                                        if (o) throw i
                                    }
                                }
                                return n
                            }
                        }(u) || function (t, e) {
                            if (t) {
                                if ("string" == typeof t) return Yl(t, 2);
                                var n = Object.prototype.toString.call(t).slice(8, -1);
                                return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Yl(t, 2) : void 0
                            }
                        }(u) || function () {
                            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }(),
                        a = i[0],
                        s = i[1];
                    n[a] = this.getProperty(a, s)
                }
                var u;
                Object.defineProperties(this, n), Object.seal(this)
            }
            var e;
            return (e = [{
                key: "getProperty",
                value: function (t, e) {
                    var n;
                    return {
                        get: function () {
                            if (void 0 === n) {
                                var r = localStorage[t];
                                n = void 0 !== r ? JSON.parse(r) : e
                            }
                            return n
                        },
                        set: function (e) {
                            n = e, localStorage[t] = JSON.stringify(e)
                        }
                    }
                }
            }, {
                key: "reset",
                value: function (t) {
                    localStorage.removeItem(t)
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(t.prototype, e), t
        }(),
        Kl = ["experimental-webgl", "webgl", "webkit-3d", "moz-webgl"];

    function $l(t, e) {
        for (var n = Kl.length, r = 0; r < n; ++r) try {
            var o = t.getContext(Kl[r], e);
            if (o) return o
        } catch (t) {}
        return null
    }

    function Jl(t) {
        switch (t) {
            case 34962:
                return Float32Array;
            case 34963:
                return Uint32Array;
            default:
                return Float32Array
        }
    }
    var Ql = function () {
        function t(t, e) {
            this.array = null, this.type = t, rn(34962 === t || 34963 === t, 62), this.usage = void 0 !== e ? e : 35044
        }
        return t.prototype.ofSize = function (t) {
            this.array = new(Jl(this.type))(t)
        }, t.prototype.fromArray = function (t) {
            this.array = Jl(this.type).from(t)
        }, t.prototype.fromArrayBuffer = function (t) {
            this.array = new(Jl(this.type))(t)
        }, t.prototype.getType = function () {
            return this.type
        }, t.prototype.getArray = function () {
            return this.array
        }, t.prototype.getUsage = function () {
            return this.usage
        }, t.prototype.getSize = function () {
            return this.array ? this.array.length : 0
        }, t
    }();

    function th(t, e) {
        return t[0] = e[0], t[1] = e[1], t[4] = e[2], t[5] = e[3], t[12] = e[4], t[13] = e[5], t
    }
    var eh = function () {
            function t(t) {
                this.gl_ = t.webGlContext;
                var e = this.gl_;
                this.scaleRatio_ = t.scaleRatio || 1, this.renderTargetTexture_ = e.createTexture(), this.renderTargetTextureSize_ = null, this.frameBuffer_ = e.createFramebuffer();
                var n = e.createShader(e.VERTEX_SHADER);
                e.shaderSource(n, t.vertexShader || "\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"), e.compileShader(n);
                var r = e.createShader(e.FRAGMENT_SHADER);
                e.shaderSource(r, t.fragmentShader || "\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"), e.compileShader(r), this.renderTargetProgram_ = e.createProgram(), e.attachShader(this.renderTargetProgram_, n), e.attachShader(this.renderTargetProgram_, r), e.linkProgram(this.renderTargetProgram_), this.renderTargetVerticesBuffer_ = e.createBuffer(), e.bindBuffer(e.ARRAY_BUFFER, this.renderTargetVerticesBuffer_), e.bufferData(e.ARRAY_BUFFER, new Float32Array([-1, -1, 1, -1, -1, 1, 1, -1, 1, 1, -1, 1]), e.STATIC_DRAW), this.renderTargetAttribLocation_ = e.getAttribLocation(this.renderTargetProgram_, "a_position"), this.renderTargetUniformLocation_ = e.getUniformLocation(this.renderTargetProgram_, "u_screenSize"), this.renderTargetTextureLocation_ = e.getUniformLocation(this.renderTargetProgram_, "u_image"), this.uniforms_ = [], t.uniforms && Object.keys(t.uniforms).forEach(function (n) {
                    this.uniforms_.push({
                        value: t.uniforms[n],
                        location: e.getUniformLocation(this.renderTargetProgram_, n)
                    })
                }.bind(this))
            }
            return t.prototype.getGL = function () {
                return this.gl_
            }, t.prototype.init = function (t) {
                var e = this.getGL(),
                    n = [e.drawingBufferWidth * this.scaleRatio_, e.drawingBufferHeight * this.scaleRatio_];
                if (e.bindFramebuffer(e.FRAMEBUFFER, this.getFrameBuffer()), e.viewport(0, 0, n[0], n[1]), !this.renderTargetTextureSize_ || this.renderTargetTextureSize_[0] !== n[0] || this.renderTargetTextureSize_[1] !== n[1]) {
                    this.renderTargetTextureSize_ = n;
                    var r = e.RGBA,
                        o = e.RGBA,
                        i = e.UNSIGNED_BYTE;
                    e.bindTexture(e.TEXTURE_2D, this.renderTargetTexture_), e.texImage2D(e.TEXTURE_2D, 0, r, n[0], n[1], 0, o, i, null), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, this.renderTargetTexture_, 0)
                }
            }, t.prototype.apply = function (t, e) {
                var n = this.getGL(),
                    r = t.size;
                n.bindFramebuffer(n.FRAMEBUFFER, e ? e.getFrameBuffer() : null), n.activeTexture(n.TEXTURE0), n.bindTexture(n.TEXTURE_2D, this.renderTargetTexture_), n.clearColor(0, 0, 0, 0), n.clear(n.COLOR_BUFFER_BIT), n.enable(n.BLEND), n.blendFunc(n.ONE, n.ONE_MINUS_SRC_ALPHA), n.viewport(0, 0, n.drawingBufferWidth, n.drawingBufferHeight), n.bindBuffer(n.ARRAY_BUFFER, this.renderTargetVerticesBuffer_), n.useProgram(this.renderTargetProgram_), n.enableVertexAttribArray(this.renderTargetAttribLocation_), n.vertexAttribPointer(this.renderTargetAttribLocation_, 2, n.FLOAT, !1, 0, 0), n.uniform2f(this.renderTargetUniformLocation_, r[0], r[1]), n.uniform1i(this.renderTargetTextureLocation_, 0), this.applyUniforms(t), n.drawArrays(n.TRIANGLES, 0, 6)
            }, t.prototype.getFrameBuffer = function () {
                return this.frameBuffer_
            }, t.prototype.applyUniforms = function (t) {
                var e, n = this.getGL(),
                    r = 1;
                this.uniforms_.forEach((function (o) {
                    if ((e = "function" == typeof o.value ? o.value(t) : o.value) instanceof HTMLCanvasElement || e instanceof ImageData) o.texture || (o.texture = n.createTexture()), n.activeTexture(n["TEXTURE" + r]), n.bindTexture(n.TEXTURE_2D, o.texture), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MIN_FILTER, n.LINEAR), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_S, n.CLAMP_TO_EDGE), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_T, n.CLAMP_TO_EDGE), e instanceof ImageData ? n.texImage2D(n.TEXTURE_2D, 0, n.RGBA, n.RGBA, e.width, e.height, 0, n.UNSIGNED_BYTE, new Uint8Array(e.data)) : n.texImage2D(n.TEXTURE_2D, 0, n.RGBA, n.RGBA, n.UNSIGNED_BYTE, e), n.uniform1i(o.location, r++);
                    else if (Array.isArray(e)) switch (e.length) {
                        case 2:
                            return void n.uniform2f(o.location, e[0], e[1]);
                        case 3:
                            return void n.uniform3f(o.location, e[0], e[1], e[2]);
                        case 4:
                            return void n.uniform4f(o.location, e[0], e[1], e[2], e[3]);
                        default:
                            return
                    } else "number" == typeof e && n.uniform1f(o.location, e)
                }))
            }, t
        }(),
        nh = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        rh = {
            UNSIGNED_BYTE: 5121,
            UNSIGNED_SHORT: 5123,
            UNSIGNED_INT: 5125,
            FLOAT: 5126
        };

    function oh(t) {
        switch (t) {
            case rh.UNSIGNED_BYTE:
                return Uint8Array.BYTES_PER_ELEMENT;
            case rh.UNSIGNED_SHORT:
                return Uint16Array.BYTES_PER_ELEMENT;
            case rh.UNSIGNED_INT:
                return Uint32Array.BYTES_PER_ELEMENT;
            case rh.FLOAT:
            default:
                return Float32Array.BYTES_PER_ELEMENT
        }
    }
    var ih = function (t) {
            function e(e) {
                var n = t.call(this) || this,
                    r = e || {};
                n.boundHandleWebGLContextLost_ = n.handleWebGLContextLost.bind(n), n.boundHandleWebGLContextRestored_ = n.handleWebGLContextRestored.bind(n), n.canvas_ = document.createElement("canvas"), n.canvas_.style.position = "absolute", n.canvas_.style.left = "0", n.gl_ = $l(n.canvas_);
                var o = n.getGL();
                if (n.bufferCache_ = {}, n.currentProgram_ = null, rn(ve(function () {
                        if (!Zl) {
                            var t = $l(document.createElement("canvas"));
                            t && (Zl = t.getSupportedExtensions())
                        }
                        return Zl
                    }(), "OES_element_index_uint"), 63), o.getExtension("OES_element_index_uint"), n.canvas_.addEventListener("webglcontextlost", n.boundHandleWebGLContextLost_), n.canvas_.addEventListener("webglcontextrestored", n.boundHandleWebGLContextRestored_), n.offsetRotateMatrix_ = [1, 0, 0, 1, 0, 0], n.offsetScaleMatrix_ = [1, 0, 0, 1, 0, 0], n.tmpMat4_ = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], n.uniformLocations_ = {}, n.attribLocations_ = {}, n.uniforms_ = [], r.uniforms)
                    for (var i in r.uniforms) n.uniforms_.push({
                        name: i,
                        value: r.uniforms[i]
                    });
                return n.postProcessPasses_ = r.postProcesses ? r.postProcesses.map((function (t) {
                    return new eh({
                        webGlContext: o,
                        scaleRatio: t.scaleRatio,
                        vertexShader: t.vertexShader,
                        fragmentShader: t.fragmentShader,
                        uniforms: t.uniforms
                    })
                })) : [new eh({
                    webGlContext: o
                })], n.shaderCompileErrors_ = null, n.startTime_ = Date.now(), n
            }
            return nh(e, t), e.prototype.bindBuffer = function (t) {
                var e = this.getGL(),
                    n = oe(t),
                    r = this.bufferCache_[n];
                r || (r = {
                    buffer: t,
                    webGlBuffer: e.createBuffer()
                }, this.bufferCache_[n] = r), e.bindBuffer(t.getType(), r.webGlBuffer)
            }, e.prototype.flushBufferData = function (t) {
                var e = this.getGL();
                this.bindBuffer(t), e.bufferData(t.getType(), t.getArray(), t.getUsage())
            }, e.prototype.deleteBuffer = function (t) {
                var e = this.getGL(),
                    n = oe(t),
                    r = this.bufferCache_[n];
                e.isContextLost() || e.deleteBuffer(r.buffer), delete this.bufferCache_[n]
            }, e.prototype.disposeInternal = function () {
                this.canvas_.removeEventListener("webglcontextlost", this.boundHandleWebGLContextLost_), this.canvas_.removeEventListener("webglcontextrestored", this.boundHandleWebGLContextRestored_)
            }, e.prototype.prepareDraw = function (t) {
                var e = this.getGL(),
                    n = this.getCanvas(),
                    r = t.size,
                    o = t.pixelRatio;
                n.width = r[0] * o, n.height = r[1] * o, n.style.width = r[0] + "px", n.style.height = r[1] + "px", e.useProgram(this.currentProgram_);
                for (var i = this.postProcessPasses_.length - 1; i >= 0; i--) this.postProcessPasses_[i].init(t);
                e.bindTexture(e.TEXTURE_2D, null), e.clearColor(0, 0, 0, 0), e.clear(e.COLOR_BUFFER_BIT), e.enable(e.BLEND), e.blendFunc(e.ONE, e.ONE_MINUS_SRC_ALPHA), e.useProgram(this.currentProgram_), this.applyFrameState(t), this.applyUniforms(t)
            }, e.prototype.prepareDrawToRenderTarget = function (t, e, n) {
                var r = this.getGL(),
                    o = e.getSize();
                r.bindFramebuffer(r.FRAMEBUFFER, e.getFramebuffer()), r.viewport(0, 0, o[0], o[1]), r.bindTexture(r.TEXTURE_2D, e.getTexture()), r.clearColor(0, 0, 0, 0), r.clear(r.COLOR_BUFFER_BIT), r.enable(r.BLEND), r.blendFunc(r.ONE, n ? r.ZERO : r.ONE_MINUS_SRC_ALPHA), r.useProgram(this.currentProgram_), this.applyFrameState(t), this.applyUniforms(t)
            }, e.prototype.drawElements = function (t, e) {
                var n = this.getGL(),
                    r = n.UNSIGNED_INT,
                    o = e - t,
                    i = 4 * t;
                n.drawElements(n.TRIANGLES, o, r, i)
            }, e.prototype.finalizeDraw = function (t) {
                for (var e = 0; e < this.postProcessPasses_.length; e++) this.postProcessPasses_[e].apply(t, this.postProcessPasses_[e + 1] || null)
            }, e.prototype.getCanvas = function () {
                return this.canvas_
            }, e.prototype.getGL = function () {
                return this.gl_
            }, e.prototype.applyFrameState = function (t) {
                var e = t.size,
                    n = t.viewState.rotation,
                    r = Wr(this.offsetScaleMatrix_);
                ! function (t, e, n) {
                    Vr(t, Hr(Xr, e, 0, 0, n, 0, 0))
                }(r, 2 / e[0], 2 / e[1]);
                var o, i, a, s, u = Wr(this.offsetRotateMatrix_);
                0 !== n && (o = u, i = -n, a = Math.cos(i), s = Math.sin(i), Vr(o, Hr(Xr, a, s, -s, a, 0, 0))), this.setUniformMatrixValue("u_offsetScaleMatrix", th(this.tmpMat4_, r)), this.setUniformMatrixValue("u_offsetRotateMatrix", th(this.tmpMat4_, u)), this.setUniformFloatValue("u_time", .001 * (Date.now() - this.startTime_)), this.setUniformFloatValue("u_zoom", t.viewState.zoom), this.setUniformFloatValue("u_resolution", t.viewState.resolution)
            }, e.prototype.applyUniforms = function (t) {
                var e, n = this.getGL(),
                    r = 0;
                this.uniforms_.forEach(function (o) {
                    if ((e = "function" == typeof o.value ? o.value(t) : o.value) instanceof HTMLCanvasElement || e instanceof HTMLImageElement || e instanceof ImageData) o.texture || (o.texture = n.createTexture()), n.activeTexture(n["TEXTURE" + r]), n.bindTexture(n.TEXTURE_2D, o.texture), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MIN_FILTER, n.LINEAR), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_S, n.CLAMP_TO_EDGE), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_T, n.CLAMP_TO_EDGE), (!(e instanceof HTMLImageElement) || e.complete) && n.texImage2D(n.TEXTURE_2D, 0, n.RGBA, n.RGBA, n.UNSIGNED_BYTE, e), n.uniform1i(this.getUniformLocation(o.name), r++);
                    else if (Array.isArray(e) && 6 === e.length) this.setUniformMatrixValue(o.name, th(this.tmpMat4_, e));
                    else if (Array.isArray(e) && e.length <= 4) switch (e.length) {
                        case 2:
                            return void n.uniform2f(this.getUniformLocation(o.name), e[0], e[1]);
                        case 3:
                            return void n.uniform3f(this.getUniformLocation(o.name), e[0], e[1], e[2]);
                        case 4:
                            return void n.uniform4f(this.getUniformLocation(o.name), e[0], e[1], e[2], e[3]);
                        default:
                            return
                    } else "number" == typeof e && n.uniform1f(this.getUniformLocation(o.name), e)
                }.bind(this))
            }, e.prototype.useProgram = function (t) {
                return t != this.currentProgram_ && (this.getGL().useProgram(t), this.currentProgram_ = t, this.uniformLocations_ = {}, this.attribLocations_ = {}, !0)
            }, e.prototype.compileShader = function (t, e) {
                var n = this.getGL(),
                    r = n.createShader(e);
                return n.shaderSource(r, t), n.compileShader(r), r
            }, e.prototype.getProgram = function (t, e) {
                var n = this.getGL(),
                    r = this.compileShader(t, n.FRAGMENT_SHADER),
                    o = this.compileShader(e, n.VERTEX_SHADER);
                this.shaderCompileErrors_ = null, n.getShaderInfoLog(r) && (this.shaderCompileErrors_ = "Fragment shader compilation failed:\n" + n.getShaderInfoLog(r)), n.getShaderInfoLog(o) && (this.shaderCompileErrors_ = (this.shaderCompileErrors_ || "") + "Vertex shader compilation failed:\n" + n.getShaderInfoLog(o));
                var i = n.createProgram();
                return n.attachShader(i, r), n.attachShader(i, o), n.linkProgram(i), i
            }, e.prototype.getShaderCompileErrors = function () {
                return this.shaderCompileErrors_
            }, e.prototype.getUniformLocation = function (t) {
                return void 0 === this.uniformLocations_[t] && (this.uniformLocations_[t] = this.getGL().getUniformLocation(this.currentProgram_, t)), this.uniformLocations_[t]
            }, e.prototype.getAttributeLocation = function (t) {
                return void 0 === this.attribLocations_[t] && (this.attribLocations_[t] = this.getGL().getAttribLocation(this.currentProgram_, t)), this.attribLocations_[t]
            }, e.prototype.makeProjectionTransform = function (t, e) {
                var n = t.size,
                    r = t.viewState.rotation,
                    o = t.viewState.resolution,
                    i = t.viewState.center;
                return Wr(e), Zr(e, 0, 0, 2 / (o * n[0]), 2 / (o * n[1]), -r, -i[0], -i[1]), e
            }, e.prototype.setUniformFloatValue = function (t, e) {
                this.getGL().uniform1f(this.getUniformLocation(t), e)
            }, e.prototype.setUniformMatrixValue = function (t, e) {
                this.getGL().uniformMatrix4fv(this.getUniformLocation(t), !1, e)
            }, e.prototype.enableAttributeArray_ = function (t, e, n, r, o) {
                var i = this.getAttributeLocation(t);
                i < 0 || (this.getGL().enableVertexAttribArray(i), this.getGL().vertexAttribPointer(i, e, n, !1, r, o))
            }, e.prototype.enableAttributes = function (t) {
                for (var e = function (t) {
                        for (var e = 0, n = 0; n < t.length; n++) {
                            var r = t[n];
                            e += r.size * oh(r.type)
                        }
                        return e
                    }(t), n = 0, r = 0; r < t.length; r++) {
                    var o = t[r];
                    this.enableAttributeArray_(o.name, o.size, o.type || 5126, e, n), n += o.size * oh(o.type)
                }
            }, e.prototype.handleWebGLContextLost = function () {
                ce(this.bufferCache_), this.currentProgram_ = null
            }, e.prototype.handleWebGLContextRestored = function () {}, e.prototype.createTexture = function (t, e, n) {
                var r = this.getGL(),
                    o = n || r.createTexture(),
                    i = r.RGBA,
                    a = r.RGBA,
                    s = r.UNSIGNED_BYTE;
                return r.bindTexture(r.TEXTURE_2D, o), e ? r.texImage2D(r.TEXTURE_2D, 0, i, a, s, e) : r.texImage2D(r.TEXTURE_2D, 0, i, t[0], t[1], 0, a, s, null), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MIN_FILTER, r.LINEAR), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.CLAMP_TO_EDGE), o
            }, e
        }(ye),
        ah = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        sh = function (t) {
            function e(e, n) {
                var r = t.call(this, e) || this,
                    o = n || {};
                return r.helper = new ih({
                    postProcesses: o.postProcesses,
                    uniforms: o.uniforms
                }), r
            }
            return ah(e, t), e.prototype.disposeInternal = function () {
                this.helper.dispose(), t.prototype.disposeInternal.call(this)
            }, e.prototype.getShaderCompileErrors = function () {
                return this.helper.getShaderCompileErrors()
            }, e
        }(os),
        uh = new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'], {
            type: "application/javascript"
        }),
        ch = URL.createObjectURL(uh),
        lh = new Uint8Array(4),
        hh = function () {
            function t(t, e) {
                this.helper_ = t;
                var n = t.getGL();
                this.texture_ = n.createTexture(), this.framebuffer_ = n.createFramebuffer(), this.size_ = e || [1, 1], this.data_ = new Uint8Array(0), this.dataCacheDirty_ = !0, this.updateSize_()
            }
            return t.prototype.setSize = function (t) {
                xe(t, this.size_) || (this.size_[0] = t[0], this.size_[1] = t[1], this.updateSize_())
            }, t.prototype.getSize = function () {
                return this.size_
            }, t.prototype.clearCachedData = function () {
                this.dataCacheDirty_ = !0
            }, t.prototype.readAll = function () {
                if (this.dataCacheDirty_) {
                    var t = this.size_,
                        e = this.helper_.getGL();
                    e.bindFramebuffer(e.FRAMEBUFFER, this.framebuffer_), e.readPixels(0, 0, t[0], t[1], e.RGBA, e.UNSIGNED_BYTE, this.data_), this.dataCacheDirty_ = !1
                }
                return this.data_
            }, t.prototype.readPixel = function (t, e) {
                if (t < 0 || e < 0 || t > this.size_[0] || e >= this.size_[1]) return lh[0] = 0, lh[1] = 0, lh[2] = 0, lh[3] = 0, lh;
                this.readAll();
                var n = Math.floor(t) + (this.size_[1] - Math.floor(e) - 1) * this.size_[0];
                return lh[0] = this.data_[4 * n], lh[1] = this.data_[4 * n + 1], lh[2] = this.data_[4 * n + 2], lh[3] = this.data_[4 * n + 3], lh
            }, t.prototype.getTexture = function () {
                return this.texture_
            }, t.prototype.getFramebuffer = function () {
                return this.framebuffer_
            }, t.prototype.updateSize_ = function () {
                var t = this.size_,
                    e = this.helper_.getGL();
                this.texture_ = this.helper_.createTexture(t, null, this.texture_), e.bindFramebuffer(e.FRAMEBUFFER, this.framebuffer_), e.viewport(0, 0, t[0], t[1]), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, this.texture_, 0), this.data_ = new Uint8Array(t[0] * t[1] * 4)
            }, t
        }(),
        fh = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        ph = function (t) {
            function e(e, n) {
                var r = this,
                    o = n.uniforms || {},
                    i = [1, 0, 0, 1, 0, 0];
                o.u_projectionMatrix = i, (r = t.call(this, e, {
                    uniforms: o,
                    postProcesses: n.postProcesses
                }) || this).sourceRevision_ = -1, r.verticesBuffer_ = new Ql(34962, 35048), r.hitVerticesBuffer_ = new Ql(34962, 35048), r.indicesBuffer_ = new Ql(34963, 35048), r.program_ = r.helper.getProgram(n.fragmentShader, n.vertexShader), r.hitDetectionEnabled_ = !(!n.hitFragmentShader || !n.hitVertexShader), r.hitProgram_ = r.hitDetectionEnabled_ && r.helper.getProgram(n.hitFragmentShader, n.hitVertexShader);
                var a = n.attributes ? n.attributes.map((function (t) {
                    return {
                        name: "a_" + t.name,
                        size: 1,
                        type: rh.FLOAT
                    }
                })) : [];
                r.attributes = [{
                    name: "a_position",
                    size: 2,
                    type: rh.FLOAT
                }, {
                    name: "a_index",
                    size: 1,
                    type: rh.FLOAT
                }].concat(a), r.hitDetectionAttributes = [{
                    name: "a_position",
                    size: 2,
                    type: rh.FLOAT
                }, {
                    name: "a_index",
                    size: 1,
                    type: rh.FLOAT
                }, {
                    name: "a_hitColor",
                    size: 4,
                    type: rh.FLOAT
                }, {
                    name: "a_featureUid",
                    size: 1,
                    type: rh.FLOAT
                }].concat(a), r.customAttributes = n.attributes ? n.attributes : [], r.previousExtent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0], r.currentTransform_ = i, r.renderTransform_ = [1, 0, 0, 1, 0, 0], r.invertRenderTransform_ = [1, 0, 0, 1, 0, 0], r.renderInstructions_ = new Float32Array(0), r.hitRenderInstructions_ = new Float32Array(0), r.hitRenderTarget_ = r.hitDetectionEnabled_ && new hh(r.helper), r.worker_ = new Worker(ch), r.worker_.addEventListener("message", function (t) {
                    var e = t.data;
                    if ("GENERATE_BUFFERS" === e.type) {
                        var n = e.projectionTransform;
                        e.hitDetection ? (this.hitVerticesBuffer_.fromArrayBuffer(e.vertexBuffer), this.helper.flushBufferData(this.hitVerticesBuffer_)) : (this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer), this.helper.flushBufferData(this.verticesBuffer_)), this.indicesBuffer_.fromArrayBuffer(e.indexBuffer), this.helper.flushBufferData(this.indicesBuffer_), this.renderTransform_ = n, qr(this.invertRenderTransform_, this.renderTransform_), e.hitDetection ? this.hitRenderInstructions_ = new Float32Array(t.data.renderInstructions) : this.renderInstructions_ = new Float32Array(t.data.renderInstructions), this.getLayer().changed()
                    }
                }.bind(r)), r.featureCache_ = {}, r.featureCount_ = 0;
                var s = r.getLayer().getSource();
                return r.sourceListenKeys_ = [fe(s, "addfeature", r.handleSourceFeatureAdded_, r), fe(s, "changefeature", r.handleSourceFeatureChanged_, r), fe(s, "removefeature", r.handleSourceFeatureDelete_, r)], s.forEachFeature(function (t) {
                    this.featureCache_[oe(t)] = {
                        feature: t,
                        properties: t.getProperties(),
                        geometry: t.getGeometry()
                    }, this.featureCount_++
                }.bind(r)), r
            }
            return fh(e, t), e.prototype.handleSourceFeatureAdded_ = function (t) {
                var e = t.feature;
                this.featureCache_[oe(e)] = {
                    feature: e,
                    properties: e.getProperties(),
                    geometry: e.getGeometry()
                }, this.featureCount_++
            }, e.prototype.handleSourceFeatureChanged_ = function (t) {
                var e = t.feature;
                this.featureCache_[oe(e)] = {
                    feature: e,
                    properties: e.getProperties(),
                    geometry: e.getGeometry()
                }
            }, e.prototype.handleSourceFeatureDelete_ = function (t) {
                var e = t.feature;
                delete this.featureCache_[oe(e)], this.featureCount_--
            }, e.prototype.renderFrame = function (t) {
                var e = this.indicesBuffer_.getSize();
                this.helper.drawElements(0, e), this.helper.finalizeDraw(t);
                var n = this.helper.getCanvas(),
                    r = t.layerStatesArray[t.layerIndex].opacity;
                return r !== parseFloat(n.style.opacity) && (n.style.opacity = r), this.hitDetectionEnabled_ && (this.renderHitDetection(t), this.hitRenderTarget_.clearCachedData()), n
            }, e.prototype.prepareFrame = function (t) {
                var e = this.getLayer(),
                    n = e.getSource(),
                    r = t.viewState,
                    o = !t.viewHints[0] && !t.viewHints[1],
                    i = !An(this.previousExtent_, t.extent),
                    a = this.sourceRevision_ < n.getRevision();
                if (a && (this.sourceRevision_ = n.getRevision()), o && (i || a)) {
                    var s = r.projection,
                        u = r.resolution,
                        c = e instanceof Fu ? e.getRenderBuffer() : 0,
                        l = mn(t.extent, c * u);
                    n.loadFeatures(l, u, s), this.rebuildBuffers_(t), this.previousExtent_ = t.extent.slice()
                }
                return this.helper.makeProjectionTransform(t, this.currentTransform_), Vr(this.currentTransform_, this.invertRenderTransform_), this.helper.useProgram(this.program_), this.helper.prepareDraw(t), this.helper.bindBuffer(this.verticesBuffer_), this.helper.bindBuffer(this.indicesBuffer_), this.helper.enableAttributes(this.attributes), !0
            }, e.prototype.rebuildBuffers_ = function (t) {
                var e = [1, 0, 0, 1, 0, 0];
                this.helper.makeProjectionTransform(t, e);
                var n, r, o = (2 + this.customAttributes.length) * this.featureCount_;
                if (this.renderInstructions_ && this.renderInstructions_.length === o || (this.renderInstructions_ = new Float32Array(o)), this.hitDetectionEnabled_) {
                    var i = (7 + this.customAttributes.length) * this.featureCount_;
                    this.hitRenderInstructions_ && this.hitRenderInstructions_.length === i || (this.hitRenderInstructions_ = new Float32Array(i))
                }
                var a, s, u, c = [],
                    l = [],
                    h = 0,
                    f = 0;
                for (var p in this.featureCache_)
                    if ((r = (n = this.featureCache_[p]).geometry) && "Point" === r.getType()) {
                        c[0] = r.getFlatCoordinates()[0], c[1] = r.getFlatCoordinates()[1], Yr(e, c), s = f + 6, u = void 0, (u = l || [])[0] = Math.floor(s / 256 / 256 / 256) / 255, u[1] = Math.floor(s / 256 / 256) % 256 / 255, u[2] = Math.floor(s / 256) % 256 / 255, u[3] = s % 256 / 255, a = u, this.renderInstructions_[h++] = c[0], this.renderInstructions_[h++] = c[1], this.hitDetectionEnabled_ && (this.hitRenderInstructions_[f++] = c[0], this.hitRenderInstructions_[f++] = c[1], this.hitRenderInstructions_[f++] = a[0], this.hitRenderInstructions_[f++] = a[1], this.hitRenderInstructions_[f++] = a[2], this.hitRenderInstructions_[f++] = a[3], this.hitRenderInstructions_[f++] = Number(p));
                        for (var d = void 0, y = 0; y < this.customAttributes.length; y++) d = this.customAttributes[y].callback(n.feature, n.properties), this.renderInstructions_[h++] = d, this.hitDetectionEnabled_ && (this.hitRenderInstructions_[f++] = d)
                    } var g = {
                    type: "GENERATE_BUFFERS",
                    renderInstructions: this.renderInstructions_.buffer,
                    customAttributesCount: this.customAttributes.length
                };
                if (g.projectionTransform = e, this.worker_.postMessage(g, [this.renderInstructions_.buffer]), this.renderInstructions_ = null, this.hitDetectionEnabled_) {
                    var v = {
                        type: "GENERATE_BUFFERS",
                        renderInstructions: this.hitRenderInstructions_.buffer,
                        customAttributesCount: 5 + this.customAttributes.length
                    };
                    v.projectionTransform = e, v.hitDetection = !0, this.worker_.postMessage(v, [this.hitRenderInstructions_.buffer]), this.hitRenderInstructions_ = null
                }
            }, e.prototype.forEachFeatureAtCoordinate = function (t, e, n, r, o) {
                if (rn(this.hitDetectionEnabled_, 66), this.hitRenderInstructions_) {
                    var i = Yr(e.coordinateToPixelTransform, t.slice()),
                        a = this.hitRenderTarget_.readPixel(i[0] / 2, i[1] / 2),
                        s = (h = [a[0] / 255, a[1] / 255, a[2] / 255, a[3] / 255], f = 0, f += Math.round(256 * h[0] * 256 * 256 * 255), f += Math.round(256 * h[1] * 256 * 255), (f += Math.round(256 * h[2] * 255)) + Math.round(255 * h[3])),
                        u = this.hitRenderInstructions_[s],
                        c = Math.floor(u).toString(),
                        l = this.getLayer().getSource().getFeatureByUid(c);
                    return l ? r(l, this.getLayer()) : void 0
                }
                var h, f
            }, e.prototype.renderHitDetection = function (t) {
                if (this.hitVerticesBuffer_.getSize()) {
                    this.hitRenderTarget_.setSize([Math.floor(t.size[0] / 2), Math.floor(t.size[1] / 2)]), this.helper.useProgram(this.hitProgram_), this.helper.prepareDrawToRenderTarget(t, this.hitRenderTarget_, !0), this.helper.bindBuffer(this.hitVerticesBuffer_), this.helper.bindBuffer(this.indicesBuffer_), this.helper.enableAttributes(this.hitDetectionAttributes);
                    var e = this.indicesBuffer_.getSize();
                    this.helper.drawElements(0, e)
                }
            }, e.prototype.disposeInternal = function () {
                this.worker_.terminate(), this.layer_ = null, this.sourceListenKeys_.forEach((function (t) {
                    de(t)
                })), this.sourceListenKeys_ = null, t.prototype.disposeInternal.call(this)
            }, e
        }(sh),
        dh = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        yh = ["#00f", "#0ff", "#0f0", "#ff0", "#f00"],
        gh = function (t) {
            function e(e) {
                var n = this,
                    r = e || {},
                    o = ue({}, r);
                delete o.gradient, delete o.radius, delete o.blur, delete o.weight, (n = t.call(this, o) || this).gradient_ = null, n.addEventListener(De("gradient"), n.handleGradientChanged_), n.setGradient(r.gradient ? r.gradient : yh), n.setBlur(void 0 !== r.blur ? r.blur : 15), n.setRadius(void 0 !== r.radius ? r.radius : 8);
                var i = r.weight ? r.weight : "weight";
                return n.weightFunction_ = "string" == typeof i ? function (t) {
                    return t.get(i)
                } : i, n.setRenderOrder(null), n
            }
            return dh(e, t), e.prototype.getBlur = function () {
                return this.get("blur")
            }, e.prototype.getGradient = function () {
                return this.get("gradient")
            }, e.prototype.getRadius = function () {
                return this.get("radius")
            }, e.prototype.handleGradientChanged_ = function () {
                this.gradient_ = function (t) {
                    for (var e = Vo(1, 256), n = e.createLinearGradient(0, 0, 1, 256), r = 1 / (t.length - 1), o = 0, i = t.length; o < i; ++o) n.addColorStop(o * r, t[o]);
                    return e.fillStyle = n, e.fillRect(0, 0, 1, 256), e.canvas
                }(this.getGradient())
            }, e.prototype.setBlur = function (t) {
                this.set("blur", t)
            }, e.prototype.setGradient = function (t) {
                this.set("gradient", t)
            }, e.prototype.setRadius = function (t) {
                this.set("radius", t)
            }, e.prototype.createRenderer = function () {
                return new ph(this, {
                    attributes: [{
                        name: "weight",
                        callback: function (t) {
                            var e = this.weightFunction_(t);
                            return void 0 !== e ? un(e, 0, 1) : 1
                        }.bind(this)
                    }],
                    vertexShader: "\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",
                    fragmentShader: "\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",
                    hitVertexShader: "\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",
                    hitFragmentShader: "\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",
                    uniforms: {
                        u_size: function () {
                            return 2 * (this.get("radius") + this.get("blur"))
                        }.bind(this),
                        u_blurSlope: function () {
                            return this.get("radius") / Math.max(1, this.get("blur"))
                        }.bind(this)
                    },
                    postProcesses: [{
                        fragmentShader: "\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",
                        uniforms: {
                            u_gradientTexture: function () {
                                return this.gradient_
                            }.bind(this)
                        }
                    }]
                })
            }, e
        }(Sc),
        vh = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        mh = function (t) {
            function e(e) {
                var n = t.call(this, {
                    attributions: e.attributions,
                    wrapX: e.wrapX
                }) || this;
                return n.resolution = void 0, n.distance = void 0 !== e.distance ? e.distance : 20, n.features = [], n.geometryFunction = e.geometryFunction || function (t) {
                    var e = t.getGeometry();
                    return rn("Point" == e.getType(), 10), e
                }, n.source = e.source, n.source.addEventListener("change", n.refresh.bind(n)), n
            }
            return vh(e, t), e.prototype.getDistance = function () {
                return this.distance
            }, e.prototype.getSource = function () {
                return this.source
            }, e.prototype.loadFeatures = function (t, e, n) {
                this.source.loadFeatures(t, e, n), e !== this.resolution && (this.clear(), this.resolution = e, this.cluster(), this.addFeatures(this.features))
            }, e.prototype.setDistance = function (t) {
                this.distance = t, this.refresh()
            }, e.prototype.refresh = function () {
                this.clear(), this.cluster(), this.addFeatures(this.features)
            }, e.prototype.cluster = function () {
                if (void 0 !== this.resolution) {
                    this.features.length = 0;
                    for (var t = [1 / 0, 1 / 0, -1 / 0, -1 / 0], e = this.distance * this.resolution, n = this.source.getFeatures(), r = {}, o = 0, i = n.length; o < i; o++) {
                        var a = n[o];
                        if (!(oe(a) in r)) {
                            var s = this.geometryFunction(a);
                            if (s) {
                                On(s.getCoordinates(), t), mn(t, e, t);
                                var u = this.source.getFeaturesInExtent(t);
                                u = u.filter((function (t) {
                                    var e = oe(t);
                                    return !(e in r) && (r[e] = !0, !0)
                                })), this.features.push(this.createCluster(u))
                            }
                        }
                    }
                }
            }, e.prototype.createCluster = function (t) {
                for (var e = [0, 0], n = t.length - 1; n >= 0; --n) {
                    var r = this.geometryFunction(t[n]);
                    r ? tr(e, r.getCoordinates()) : t.splice(n, 1)
                }
                rr(e, 1 / t.length);
                var o = new cu(new Co(e));
                return o.set("features", t), o
            }, e
        }(su),
        _h = function () {
            function t(t) {
                var e = t || {};
                this.font_ = e.font, this.rotation_ = e.rotation, this.rotateWithView_ = e.rotateWithView, this.scale_ = e.scale, this.text_ = e.text, this.textAlign_ = e.textAlign, this.textBaseline_ = e.textBaseline, this.fill_ = void 0 !== e.fill ? e.fill : new bu({
                    color: "#333"
                }), this.maxAngle_ = void 0 !== e.maxAngle ? e.maxAngle : Math.PI / 4, this.placement_ = void 0 !== e.placement ? e.placement : "point", this.overflow_ = !!e.overflow, this.stroke_ = void 0 !== e.stroke ? e.stroke : null, this.offsetX_ = void 0 !== e.offsetX ? e.offsetX : 0, this.offsetY_ = void 0 !== e.offsetY ? e.offsetY : 0, this.backgroundFill_ = e.backgroundFill ? e.backgroundFill : null, this.backgroundStroke_ = e.backgroundStroke ? e.backgroundStroke : null, this.padding_ = void 0 === e.padding ? null : e.padding
            }
            return t.prototype.clone = function () {
                return new t({
                    font: this.getFont(),
                    placement: this.getPlacement(),
                    maxAngle: this.getMaxAngle(),
                    overflow: this.getOverflow(),
                    rotation: this.getRotation(),
                    rotateWithView: this.getRotateWithView(),
                    scale: this.getScale(),
                    text: this.getText(),
                    textAlign: this.getTextAlign(),
                    textBaseline: this.getTextBaseline(),
                    fill: this.getFill() ? this.getFill().clone() : void 0,
                    stroke: this.getStroke() ? this.getStroke().clone() : void 0,
                    offsetX: this.getOffsetX(),
                    offsetY: this.getOffsetY(),
                    backgroundFill: this.getBackgroundFill() ? this.getBackgroundFill().clone() : void 0,
                    backgroundStroke: this.getBackgroundStroke() ? this.getBackgroundStroke().clone() : void 0,
                    padding: this.getPadding()
                })
            }, t.prototype.getOverflow = function () {
                return this.overflow_
            }, t.prototype.getFont = function () {
                return this.font_
            }, t.prototype.getMaxAngle = function () {
                return this.maxAngle_
            }, t.prototype.getPlacement = function () {
                return this.placement_
            }, t.prototype.getOffsetX = function () {
                return this.offsetX_
            }, t.prototype.getOffsetY = function () {
                return this.offsetY_
            }, t.prototype.getFill = function () {
                return this.fill_
            }, t.prototype.getRotateWithView = function () {
                return this.rotateWithView_
            }, t.prototype.getRotation = function () {
                return this.rotation_
            }, t.prototype.getScale = function () {
                return this.scale_
            }, t.prototype.getStroke = function () {
                return this.stroke_
            }, t.prototype.getText = function () {
                return this.text_
            }, t.prototype.getTextAlign = function () {
                return this.textAlign_
            }, t.prototype.getTextBaseline = function () {
                return this.textBaseline_
            }, t.prototype.getBackgroundFill = function () {
                return this.backgroundFill_
            }, t.prototype.getBackgroundStroke = function () {
                return this.backgroundStroke_
            }, t.prototype.getPadding = function () {
                return this.padding_
            }, t.prototype.setOverflow = function (t) {
                this.overflow_ = t
            }, t.prototype.setFont = function (t) {
                this.font_ = t
            }, t.prototype.setMaxAngle = function (t) {
                this.maxAngle_ = t
            }, t.prototype.setOffsetX = function (t) {
                this.offsetX_ = t
            }, t.prototype.setOffsetY = function (t) {
                this.offsetY_ = t
            }, t.prototype.setPlacement = function (t) {
                this.placement_ = t
            }, t.prototype.setRotateWithView = function (t) {
                this.rotateWithView_ = t
            }, t.prototype.setFill = function (t) {
                this.fill_ = t
            }, t.prototype.setRotation = function (t) {
                this.rotation_ = t
            }, t.prototype.setScale = function (t) {
                this.scale_ = t
            }, t.prototype.setStroke = function (t) {
                this.stroke_ = t
            }, t.prototype.setText = function (t) {
                this.text_ = t
            }, t.prototype.setTextAlign = function (t) {
                this.textAlign_ = t
            }, t.prototype.setTextBaseline = function (t) {
                this.textBaseline_ = t
            }, t.prototype.setBackgroundFill = function (t) {
                this.backgroundFill_ = t
            }, t.prototype.setBackgroundStroke = function (t) {
                this.backgroundStroke_ = t
            }, t.prototype.setPadding = function (t) {
                this.padding_ = t
            }, t
        }();

    function bh(t) {
        return (bh = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function xh(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function wh(t, e) {
        return !e || "object" !== bh(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Sh() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function Ch(t) {
        return (Ch = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Eh(t, e) {
        return (Eh = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Th = [201029, 255880, 315876, 196809, 282172, 270304, 50578, 234400, 331944, 111170],
        Oh = function (t) {
            ! function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Eh(t, e)
            }(r, t);
            var e, n = (e = r, function () {
                var t, n = Ch(e);
                if (Sh()) {
                    var r = Ch(this).constructor;
                    t = Reflect.construct(n, arguments, r)
                } else t = n.apply(this, arguments);
                return wh(this, t)
            });

            function r(t, e, o, i) {
                var a, s = i.showHeatmap,
                    u = void 0 === s || s,
                    c = i.weight,
                    l = void 0 === c ? void 0 : c,
                    h = i.color,
                    f = void 0 === h ? "rgba(50,150,255,0.8)" : h,
                    p = i.strokeColor,
                    d = void 0 === p ? "#fff" : p,
                    y = i.textColor,
                    g = void 0 === y ? "#fff" : y,
                    v = i.minAlphaScale,
                    m = void 0 === v ? 0 : v,
                    _ = i.maxAlphaScale,
                    b = void 0 === _ ? void 0 : _,
                    x = i.clusterDistance,
                    w = void 0 === x ? void 0 : x,
                    S = i.radius,
                    C = void 0 === S ? 10 : S;
                ! function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, r), (a = n.call(this, t, e)).spots = o;
                var E = C / 10,
                    T = function (t, e) {
                        return void 0 === b || void 0 === m ? t : zc(t, e = Uc(e, m, b, .25, .85, !0))
                    };
                console.log("Adding ".concat(o.length, " points to layer"));
                var O, P = [],
                    A = function (t) {
                        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
                            if (Array.isArray(t) || (t = function (t, e) {
                                    if (t) {
                                        if ("string" == typeof t) return xh(t, void 0);
                                        var n = Object.prototype.toString.call(t).slice(8, -1);
                                        return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? xh(t, void 0) : void 0
                                    }
                                }(t))) {
                                var e = 0,
                                    n = function () {};
                                return {
                                    s: n,
                                    n: function () {
                                        return e >= t.length ? {
                                            done: !0
                                        } : {
                                            done: !1,
                                            value: t[e++]
                                        }
                                    },
                                    e: function (t) {
                                        throw t
                                    },
                                    f: n
                                }
                            }
                            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }
                        var r, o, i = !0,
                            a = !1;
                        return {
                            s: function () {
                                r = t[Symbol.iterator]()
                            },
                            n: function () {
                                var t = r.next();
                                return i = t.done, t
                            },
                            e: function (t) {
                                a = !0, o = t
                            },
                            f: function () {
                                try {
                                    i || null == r.return || r.return()
                                } finally {
                                    if (a) throw o
                                }
                            }
                        }
                    }(o);
                try {
                    for (A.s(); !(O = A.n()).done;) {
                        var R = O.value,
                            I = (R.x - 42044) / .788,
                            k = Math.floor(10 * R.x % 10),
                            L = (R.y - 42044 + Th[k]) / .788;
                        P.push(new cu({
                            geometry: new Co(a.P.cx([I, L])),
                            spotObject: R
                        }))
                    }
                } catch (t) {
                    A.e(t)
                } finally {
                    A.f()
                }
                var j = new su({
                    features: P
                });
                void 0 === w && (w = a.map.options.clusterDistance, u && (w = 10));
                var M = new mh({
                    distance: w,
                    source: j
                });
                if (u) {
                    var D = new gh({
                        renderMode: Vc,
                        source: M,
                        blur: a.map.options.heatBlur,
                        radius: a.map.options.heatRadius,
                        weight: function (t) {
                            return t.get("features").reduce((function (t, e) {
                                var n = (l ? l(e.get("spotObject")) : e.get("spotObject").weight) || .1;
                                return t + (n *= (a.map.currentMap.heatMult || 1) * a.map.options.heatWeight) / (a.map.view.getResolution() / 4 * 8)
                            }), 0)
                        },
                        visible: !0,
                        zIndex: t
                    });
                    a.addLayer("heatmap", D)
                } else {
                    var F = {},
                        G = new Sc({
                            source: M,
                            style: function (t) {
                                var e = t.get("features"),
                                    n = e.reduce((function (t, e) {
                                        return t + (e.get("spotObject").weight || .1)
                                    }), 0),
                                    r = Number((n *= 10).toFixed(0)),
                                    o = 1 == e.length && e[0].get("spotObject").label || r,
                                    i = F[o];
                                if (!i) {
                                    var s = Math.min(Math.max(r / 250, 0), 1) + .8;
                                    i = new Ou({
                                        image: new _u({
                                            radius: C * s,
                                            stroke: d && new xu({
                                                color: T(d, r)
                                            }),
                                            fill: new bu({
                                                color: T(f, r)
                                            })
                                        }),
                                        text: new _h({
                                            text: 1 == o ? "" : o.toString(),
                                            scale: E * s,
                                            fill: new bu({
                                                color: T(g, r)
                                            })
                                        })
                                    }), r < a.map.options.clusterMin && (i.getImage().setOpacity(0), i.setText(null)), F[o] = i
                                }
                                return i
                            },
                            visible: !0,
                            zIndex: t
                        });
                    a.addLayer("cluster", G)
                }
                return a
            }
            return r
        }(dl);

    function Ph(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
        }
    }

    function Ah(t) {
        return ("0" + t.toString(16)).slice(-2)
    }
    var Rh = function () {
        function t(e, n) {
            ! function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t);
            var r = e;
            r instanceof Object || (r = t.convertHexToRGB(e)), this.r = r.r, this.g = r.g, this.b = r.b, this.a = void 0 !== n ? n : r.a
        }
        var e, n, r;
        return e = t, r = [{
            key: "convertHexToRGB",
            value: function (e) {
                var n = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e);
                return n ? new t({
                    r: parseInt(n[1], 16) / 15 * 255,
                    g: parseInt(n[2], 16) / 15 * 255,
                    b: parseInt(n[3], 16) / 15 * 255,
                    a: 1
                }) : (n = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e)) ? new t({
                    r: parseInt(n[1], 16),
                    g: parseInt(n[2], 16),
                    b: parseInt(n[2], 16),
                    a: 1
                }) : new t((n = /rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+(?:\.\d*)?)\s*\)\s*;?/.exec(e)) ? {
                    r: parseInt(n[1]),
                    g: parseInt(n[2]),
                    b: parseInt(n[3]),
                    a: parseFloat(n[4])
                } : {
                    r: 0,
                    g: 0,
                    b: 0,
                    a: 0
                })
            }
        }, {
            key: "lerp",
            value: function (e, n, r) {
                for (var o = {}, i = 0, a = ["r", "g", "b"]; i < a.length; i++) {
                    var s = a[i];
                    o[s] = Math.round(e[s] + (n[s] - e[s]) * r)
                }
                return new t(o)
            }
        }, {
            key: "scale",
            value: function (t, e) {
                if (t < e[0][0] || 1 == e.length) return e[0][1];
                for (var n, r = 1; r < e.length; r++) {
                    var o = (t - (n = e[r - 1][0])) / (e[r][0] - n);
                    if (o >= 0 && o < 1) {
                        var i = e[r - 1][1],
                            a = e[r][1];
                        return this.lerp(i, a, o)
                    }
                }
                return e[e.length - 1][1]
            }
        }, {
            key: "from",
            value: function (e, n) {
                return new t(e, n)
            }
        }], (n = [{
            key: "toString",
            value: function () {
                return "rgba(".concat(this.r, ",").concat(this.g, ",").concat(this.b, ",").concat(this.a, ")")
            }
        }, {
            key: "toHexString",
            value: function () {
                return "#".concat(Ah(this.r)).concat(Ah(this.g)).concat(Ah(this.b))
            }
        }]) && Ph(e.prototype, n), r && Ph(e, r), t
    }();

    function Ih(t) {
        var e = [225, 75, 150, 255],
            n = function (t) {
                return 1 & t | t >> 2 & 2
            };
        return t = 65528 & t | 7 ^ [0, 1, 2, 4, 7, 3, 5, 6][7 & t], Rh.from({
            r: e[n(t)],
            g: e[n(t >> 1)],
            b: e[n(t >> 2)],
            a: 1
        })
    }

    function kh(t) {
        return (kh = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Lh(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = jh(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function jh(t, e) {
        if (t) {
            if ("string" == typeof t) return Mh(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Mh(t, e) : void 0
        }
    }

    function Mh(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function Dh(t, e, n) {
        return (Dh = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {
            var r = function (t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Nh(t)););
                return t
            }(t, e);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function Fh(t, e) {
        return !e || "object" !== kh(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Gh() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function Nh(t) {
        return (Nh = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function zh(t, e) {
        return (zh = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Bh = [201029, 255880, 315876, 196809, 282172, 270304, 50578, 234400, 331944, 111170],
        Uh = function (t) {
            ! function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && zh(t, e)
            }(o, t);
            var e, n, r = (e = o, function () {
                var t, n = Nh(e);
                if (Gh()) {
                    var r = Nh(this).constructor;
                    t = Reflect.construct(n, arguments, r)
                } else t = n.apply(this, arguments);
                return Fh(this, t)
            });

            function o(t, e) {
                var n;
                return function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, o), (n = r.call(this, t, e)).vehicles = new Map, n.markers = [], n.onViewChange = function (t) {
                    n.refreshZOrder()
                }, n.listeners = [], n.over = [], n.around = [], n.onPointerMove = function (t) {
                    var e = (n.map.map.getFeaturesAtPixel(t.pixel, {
                        layerFilter: function (t) {
                            return t == n.markerLayer
                        }
                    }) || []).sort((function (t, e) {
                        var n = t.get("rzIndex"),
                            r = t.get("szIndex") || !1,
                            o = e.get("rzIndex"),
                            i = e.get("szIndex") || !1;
                        return r != i ? i - r : n - o
                    }));
                    if (n.over.forEach((function (t) {
                            return t.set("szIndex", void 0)
                        })), n.around.forEach((function (t) {
                            return t.set("sTrans", void 0)
                        })), e.length > 0) {
                        n.over = [e[0]];
                        var r = n.over[0].getGeometry().getFirstCoordinate(),
                            o = n.map.map.getPixelFromCoordinate(r),
                            i = n.getScale(),
                            a = n.map.map.getFeaturesAtPixel(o, {
                                layerFilter: function (t) {
                                    return t == n.markerLayer
                                },
                                hitTolerance: 20 * i
                            }) || [];
                        n.around = a.filter((function (t) {
                            return !n.over.includes(t)
                        })), n.over.forEach((function (t) {
                            return t.set("szIndex", !0)
                        })), n.around.forEach((function (t) {
                            return t.set("sTrans", !0)
                        }))
                    } else n.over = [], n.around = []
                }, n.tryRefresh(), n.markerSource = new su({
                    features: []
                }), n.shadowSource = new su({}), n.markerLayer = new Hc({
                    source: n.markerSource,
                    updateWhileAnimating: !Wc.value,
                    updateWhileInteracting: !Wc.value,
                    zIndex: t,
                    visible: !0
                }), n.shadowLayer = new Hc({
                    source: n.shadowSource,
                    updateWhileAnimating: !Wc.value,
                    updateWhileInteracting: !Wc.value,
                    zIndex: t + -5e3,
                    visible: !0
                }), n.addLayer("marker", n.markerLayer, 0), n.addLayer("shadow", n.shadowLayer, -5e3), n.setEvents(), n
            }
            return (n = [{
                key: "distToBottom",
                value: function (t) {
                    var e, n, r, o = t.getGeometry().getClosestPoint([0, 0]);
                    return 1e4 * (n = o, -(r = (e = this.refLine).m * n[0] - n[1] + e.b) * r / (e.m * e.m + 1)) + o[0]
                }
            }, {
                key: "refreshZOrder",
                value: function () {
                    var t = this,
                        e = this.map.map.getSize(),
                        n = this.map.map.getCoordinateFromPixel([0, 2 * e[1]]),
                        r = this.map.map.getCoordinateFromPixel([e[0], 2 * e[1]]);
                    this.refLine = Lc([n, r]), u()(this.markers, [function (e) {
                        return t.distToBottom(e)
                    }]).forEach((function (t, e) {
                        t.set("rzIndex", e), t.changed()
                    }))
                }
            }, {
                key: "tryRefresh",
                value: function () {
                    this.map.map.isRendered() ? this.refreshZOrder() : this.map.map.once("postrender", this.refreshZOrder.bind(this))
                }
            }, {
                key: "setEvents",
                value: function () {
                    this.map.on("viewchange", this.onViewChange)
                }
            }, {
                key: "removeEvents",
                value: function () {
                    this.map.off("viewchange", this.onViewChange), this.listeners.forEach((function (t) {
                        return Re(t)
                    })), this.listeners = []
                }
            }, {
                key: "onRemove",
                value: function () {
                    this.removeEvents(), Dh(Nh(o.prototype), "onRemove", this).call(this)
                }
            }, {
                key: "getScale",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0;
                    void 0 === t && (t = this.map.view.getResolution());
                    var e = this.map.view.getZoomForResolution(t);
                    return e < 3.25 ? 1.75 / (t / 2) : 1
                }
            }, {
                key: "addVehicles",
                value: function (t, e, n) {
                    var r, o = this;
                    this.removeVehicles(t);
                    var i = new _h({
                            text: n.iconChar,
                            fill: new bu({
                                color: "black"
                            }),
                            stroke: new xu({
                                color: "white"
                            }),
                            font: "19px 'FontAwesome'",
                            textAlign: "center",
                            textBaseline: "top",
                            offsetX: 6,
                            offsetY: -36
                        }),
                        a = new _c({
                            anchor: [.38, .92],
                            color: zc(n.color, 1),
                            opacity: .95,
                            size: [50, 50],
                            crossOrigin: "anonymous",
                            src: "/map/img/square-marker-no-shadow.png"
                        }),
                        s = new Ou({
                            text: i,
                            image: a
                        }),
                        u = new Ou({
                            image: new _c({
                                anchor: [16 / 70, 28 / 33],
                                src: "/map/img/square-marker-shadow.png"
                            })
                        }),
                        c = s.clone();
                    c.getImage().setOpacity(.35);
                    var l = c.getText().getFill(),
                        h = c.getText().getStroke();
                    l.setColor(Rh.from(l.getColor(), .35).toString()), h.setColor(Rh.from(h.getColor(), .35).toString());
                    var f, p, d = function (t, e) {
                            var n = s;
                            if (!g.visible) return null;
                            if (t.get("sTrans") && (n = c), o.map.options.markerZOrder || void 0 === o.map.options.markerZOrder) {
                                var r = t.get("szIndex"),
                                    i = t.get("rzIndex");
                                void 0 !== r && (i = 1e5 - i), n.setZIndex(i)
                            }
                            var a = o.getScale(e);
                            return n.getImage().setScale(1 * a), n.getText().setScale(a), n.getText().setOffsetX(6 * a), n.getText().setOffsetY(-36 * a), n
                        },
                        y = function (t, e) {
                            if (!g.visible) return null;
                            var n = o.getScale(e);
                            return u.getImage().setScale(1 * n), u
                        },
                        g = {
                            markers: [],
                            shadows: [],
                            visible: void 0 === n.display || n.display
                        },
                        v = Lh(e);
                    try {
                        for (v.s(); !(f = v.n()).done;) {
                            var m = f.value,
                                _ = (m.x - 42044) / .788,
                                b = Math.floor(10 * m.x % 10),
                                x = (m.y - 42044 + Bh[b]) / .788,
                                w = new Co(this.P.cx([_, x])),
                                S = new cu({
                                    geometry: w,
                                    styleFunction: d,
                                    spotObject: m
                                });
                            S.setStyle(d), g.markers.push(S);
                            var C = new cu({
                                geometry: w,
                                styleFunction: y,
                                spotObject: m
                            });
                            C.setStyle(y), g.shadows.push(C)
                        }
                    } catch (t) {
                        v.e(t)
                    } finally {
                        v.f()
                    }(r = this.markers).push.apply(r, function (t) {
                        if (Array.isArray(t)) return Mh(t)
                    }(p = g.markers) || function (t) {
                        if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t)
                    }(p) || jh(p) || function () {
                        throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }()), this.vehicles.set(t, g), this.markerSource.addFeatures(g.markers), this.shadowSource.addFeatures(g.shadows), this.tryRefresh()
                }
            }, {
                key: "removeVehicles",
                value: function (t) {
                    if (this.vehicles.has(t)) {
                        var e, n = this.vehicles.get(t),
                            r = Lh(n.markers);
                        try {
                            for (r.s(); !(e = r.n()).done;) {
                                var o = e.value;
                                this.markerSource.removeFeature(o)
                            }
                        } catch (t) {
                            r.e(t)
                        } finally {
                            r.f()
                        }
                        var i, a = Lh(n.shadows);
                        try {
                            for (a.s(); !(i = a.n()).done;) {
                                var s = i.value;
                                this.shadowSource.removeFeature(s)
                            }
                        } catch (t) {
                            a.e(t)
                        } finally {
                            a.f()
                        }
                    }
                }
            }, {
                key: "setVehiclesVisible",
                value: function (t) {
                    var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                        n = this.getVehicles(t);
                    if (n) {
                        n.visible = e;
                        var r, o = Lh(n.markers);
                        try {
                            for (o.s(); !(r = o.n()).done;) {
                                var i = r.value;
                                i.changed()
                            }
                        } catch (t) {
                            o.e(t)
                        } finally {
                            o.f()
                        }
                        var a, s = Lh(n.shadows);
                        try {
                            for (s.s(); !(a = s.n()).done;) {
                                var u = a.value;
                                u.changed()
                            }
                        } catch (t) {
                            s.e(t)
                        } finally {
                            s.f()
                        }
                    }
                }
            }, {
                key: "getVehicles",
                value: function (t) {
                    if (this.vehicles.has(t)) return this.vehicles.get(t)
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(o.prototype, n), o
        }(dl),
        Xh = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        Wh = function (t) {
            function e(e, n, r) {
                var o = t.call(this) || this;
                if (void 0 !== r && void 0 === n) o.setFlatCoordinates(r, e);
                else {
                    var i = n || 0;
                    o.setCenterAndRadius(e, i, r)
                }
                return o
            }
            return Xh(e, t), e.prototype.clone = function () {
                return new e(this.flatCoordinates.slice(), void 0, this.layout)
            }, e.prototype.closestPointXY = function (t, e, n, r) {
                var o = this.flatCoordinates,
                    i = t - o[0],
                    a = e - o[1],
                    s = i * i + a * a;
                if (s < r) {
                    if (0 === s)
                        for (var u = 0; u < this.stride; ++u) n[u] = o[u];
                    else {
                        var c = this.getRadius() / Math.sqrt(s);
                        for (n[0] = o[0] + c * i, n[1] = o[1] + c * a, u = 2; u < this.stride; ++u) n[u] = o[u]
                    }
                    return n.length = this.stride, s
                }
                return r
            }, e.prototype.containsXY = function (t, e) {
                var n = this.flatCoordinates,
                    r = t - n[0],
                    o = e - n[1];
                return r * r + o * o <= this.getRadiusSquared_()
            }, e.prototype.getCenter = function () {
                return this.flatCoordinates.slice(0, this.stride)
            }, e.prototype.computeExtent = function (t) {
                var e = this.flatCoordinates,
                    n = e[this.stride] - e[0];
                return En(e[0] - n, e[1] - n, e[0] + n, e[1] + n, t)
            }, e.prototype.getRadius = function () {
                return Math.sqrt(this.getRadiusSquared_())
            }, e.prototype.getRadiusSquared_ = function () {
                var t = this.flatCoordinates[this.stride] - this.flatCoordinates[0],
                    e = this.flatCoordinates[this.stride + 1] - this.flatCoordinates[1];
                return t * t + e * e
            }, e.prototype.getType = function () {
                return "Circle"
            }, e.prototype.intersectsExtent = function (t) {
                if (Hn(t, this.getExtent())) {
                    var e = this.getCenter();
                    return t[0] <= e[0] && t[2] >= e[0] || t[1] <= e[1] && t[3] >= e[1] || jn(t, this.intersectsCoordinate.bind(this))
                }
                return !1
            }, e.prototype.setCenter = function (t) {
                var e = this.stride,
                    n = this.flatCoordinates[e] - this.flatCoordinates[0],
                    r = t.slice();
                r[e] = r[0] + n;
                for (var o = 1; o < e; ++o) r[e + o] = t[o];
                this.setFlatCoordinates(this.layout, r), this.changed()
            }, e.prototype.setCenterAndRadius = function (t, e, n) {
                this.setLayout(n, t, 0), this.flatCoordinates || (this.flatCoordinates = []);
                var r = this.flatCoordinates,
                    o = lo(r, 0, t, this.stride);
                r[o++] = r[0] + e;
                for (var i = 1, a = this.stride; i < a; ++i) r[o++] = r[i];
                r.length = o, this.changed()
            }, e.prototype.getCoordinates = function () {
                return null
            }, e.prototype.setCoordinates = function (t, e) {}, e.prototype.setRadius = function (t) {
                this.flatCoordinates[this.stride] = this.flatCoordinates[0] + t, this.changed()
            }, e.prototype.rotate = function (t, e) {
                var n = this.getCenter(),
                    r = this.getStride();
                this.setCenter(cr(n, 0, n.length, r, t, e, n)), this.changed()
            }, e.prototype.translate = function (t, e) {
                var n = this.getCenter(),
                    r = this.getStride();
                this.setCenter(lr(n, 0, n.length, r, t, e, n)), this.changed()
            }, e
        }(no);
    Wh.prototype.transform;
    var Vh = Wh;

    function Hh(t) {
        return (Hh = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Yh(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function Zh(t, e, n) {
        return (Zh = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {
            var r = function (t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = $h(t)););
                return t
            }(t, e);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function qh(t, e) {
        return !e || "object" !== Hh(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Kh() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function $h(t) {
        return ($h = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Jh(t, e) {
        return (Jh = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Qh = function (t) {
            ! function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Jh(t, e)
            }(o, t);
            var e, n, r = (e = o, function () {
                var t, n = $h(e);
                if (Kh()) {
                    var r = $h(this).constructor;
                    t = Reflect.construct(n, arguments, r)
                } else t = n.apply(this, arguments);
                return qh(this, t)
            });

            function o(t, e, n) {
                var i;
                ! function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, o), (i = r.call(this, t, e)).spots = n;
                var a, s = [],
                    u = function (t) {
                        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
                            if (Array.isArray(t) || (t = function (t, e) {
                                    if (t) {
                                        if ("string" == typeof t) return Yh(t, void 0);
                                        var n = Object.prototype.toString.call(t).slice(8, -1);
                                        return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Yh(t, void 0) : void 0
                                    }
                                }(t))) {
                                var e = 0,
                                    n = function () {};
                                return {
                                    s: n,
                                    n: function () {
                                        return e >= t.length ? {
                                            done: !0
                                        } : {
                                            done: !1,
                                            value: t[e++]
                                        }
                                    },
                                    e: function (t) {
                                        throw t
                                    },
                                    f: n
                                }
                            }
                            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }
                        var r, o, i = !0,
                            a = !1;
                        return {
                            s: function () {
                                r = t[Symbol.iterator]()
                            },
                            n: function () {
                                var t = r.next();
                                return i = t.done, t
                            },
                            e: function (t) {
                                a = !0, o = t
                            },
                            f: function () {
                                try {
                                    i || null == r.return || r.return()
                                } finally {
                                    if (a) throw o
                                }
                            }
                        }
                    }(n);
                try {
                    for (u.s(); !(a = u.n()).done;) {
                        var c = a.value,
                            l = void 0;
                        switch (c.type) {
                            case "circle":
                                l = new Vh(i.P.cx([c.x, c.y]), i.P.cx([c.radius, 0])[0]);
                                break;
                            case "rectangle":
                                var h = c.width / 2,
                                    f = c.height / 2;
                                l = new No([
                                    [i.P.cx([c.x - h, c.y - f]), i.P.cx([c.x + h, c.y - f]), i.P.cx([c.x + h, c.y + f]), i.P.cx([c.x - h, c.y + f])]
                                ])
                        }
                        var p = new cu({
                            geometry: l,
                            spotObject: c
                        });
                        p.set("displayType", c.displayType || 0), s.push(p)
                    }
                } catch (t) {
                    u.e(t)
                } finally {
                    u.f()
                }
                console.log("".concat(n.length, " areas"));
                var d = new su({
                        features: s
                    }),
                    y = {},
                    g = new Sc({
                        source: d,
                        style: function (t) {
                            var e = t.get("spotObject"),
                                n = t.get("hover") || !1,
                                r = t.get("displayType"),
                                o = "".concat(r).concat(n ? e.title : ""),
                                i = y[o];
                            if (!i) {
                                var a = Ih(r + 51);
                                i = y[o] = new Ou({
                                    fill: new bu({
                                        color: Rh.from(a, .2).toString()
                                    }),
                                    stroke: new xu({
                                        color: Rh.from(a, .8).toString(),
                                        width: 1
                                    })
                                }), n && i.setText(new _h({
                                    font: "10px Roboto, sans-serif",
                                    text: e.title || "",
                                    fill: new bu({
                                        color: "white"
                                    }),
                                    stroke: new xu({
                                        color: "black",
                                        width: 1
                                    })
                                }))
                            }
                            return i
                        },
                        zIndex: t
                    });
                i.addLayer("circ", g);
                var v = [];
                return i.moveListener = i.map.map.on("pointermove", (function (t) {
                    var e = i.map.map.getFeaturesAtPixel(t.pixel, {
                        layerFilter: function (t) {
                            return g == t
                        }
                    });
                    v.forEach((function (t) {
                        t.set("hover", !1), t.changed()
                    })), e && e.length ? (e.forEach((function (t) {
                        t.set("hover", !0), t.changed()
                    })), v = e) : v.length && (v = [])
                })), i
            }
            return (n = [{
                key: "removeEvents",
                value: function () {
                    Re(this.moveListener)
                }
            }, {
                key: "onRemove",
                value: function () {
                    this.removeEvents(), Zh($h(o.prototype), "onRemove", this).call(this)
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(o.prototype, n), o
        }(dl),
        tf = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        ef = function (t) {
            function e(e) {
                var n = t.call(this) || this;
                return n.options = e, n.id = e.id, n.insertFirst = void 0 === e.insertFirst || e.insertFirst, n.stopEvent = void 0 === e.stopEvent || e.stopEvent, n.element = document.createElement("div"), n.element.className = void 0 !== e.className ? e.className : "ol-overlay-container ol-selectable", n.element.style.position = "absolute", n.autoPan = void 0 !== e.autoPan && e.autoPan, n.autoPanAnimation = e.autoPanAnimation || {}, n.autoPanMargin = void 0 !== e.autoPanMargin ? e.autoPanMargin : 20, n.rendered = {
                    bottom_: "",
                    left_: "",
                    right_: "",
                    top_: "",
                    visible: !0
                }, n.mapPostrenderListenerKey = null, n.addEventListener(De("element"), n.handleElementChanged), n.addEventListener(De("map"), n.handleMapChanged), n.addEventListener(De("offset"), n.handleOffsetChanged), n.addEventListener(De("position"), n.handlePositionChanged), n.addEventListener(De("positioning"), n.handlePositioningChanged), void 0 !== e.element && n.setElement(e.element), n.setOffset(void 0 !== e.offset ? e.offset : [0, 0]), n.setPositioning(void 0 !== e.positioning ? e.positioning : "top-left"), void 0 !== e.position && n.setPosition(e.position), n
            }
            return tf(e, t), e.prototype.getElement = function () {
                return this.get("element")
            }, e.prototype.getId = function () {
                return this.id
            }, e.prototype.getMap = function () {
                return this.get("map")
            }, e.prototype.getOffset = function () {
                return this.get("offset")
            }, e.prototype.getPosition = function () {
                return this.get("position")
            }, e.prototype.getPositioning = function () {
                return this.get("positioning")
            }, e.prototype.handleElementChanged = function () {
                Ko(this.element);
                var t = this.getElement();
                t && this.element.appendChild(t)
            }, e.prototype.handleMapChanged = function () {
                this.mapPostrenderListenerKey && (qo(this.element), de(this.mapPostrenderListenerKey), this.mapPostrenderListenerKey = null);
                var t = this.getMap();
                if (t) {
                    this.mapPostrenderListenerKey = fe(t, "postrender", this.render, this), this.updatePixelPosition();
                    var e = this.stopEvent ? t.getOverlayContainerStopEvent() : t.getOverlayContainer();
                    this.insertFirst ? e.insertBefore(this.element, e.childNodes[0] || null) : e.appendChild(this.element)
                }
            }, e.prototype.render = function () {
                this.updatePixelPosition()
            }, e.prototype.handleOffsetChanged = function () {
                this.updatePixelPosition()
            }, e.prototype.handlePositionChanged = function () {
                this.updatePixelPosition(), this.get("position") && this.autoPan && this.panIntoView()
            }, e.prototype.handlePositioningChanged = function () {
                this.updatePixelPosition()
            }, e.prototype.setElement = function (t) {
                this.set("element", t)
            }, e.prototype.setMap = function (t) {
                this.set("map", t)
            }, e.prototype.setOffset = function (t) {
                this.set("offset", t)
            }, e.prototype.setPosition = function (t) {
                this.set("position", t)
            }, e.prototype.panIntoView = function () {
                var t = this.getMap();
                if (t && t.getTargetElement()) {
                    var e = this.getRect(t.getTargetElement(), t.getSize()),
                        n = this.getElement(),
                        r = this.getRect(n, [Ho(n), Yo(n)]),
                        o = this.autoPanMargin;
                    if (!wn(e, r)) {
                        var i = r[0] - e[0],
                            a = e[2] - r[2],
                            s = r[1] - e[1],
                            u = e[3] - r[3],
                            c = [0, 0];
                        if (i < 0 ? c[0] = i - o : a < 0 && (c[0] = Math.abs(a) + o), s < 0 ? c[1] = s - o : u < 0 && (c[1] = Math.abs(u) + o), 0 !== c[0] || 0 !== c[1]) {
                            var l = t.getView().getCenterInternal(),
                                h = t.getPixelFromCoordinateInternal(l),
                                f = [h[0] + c[0], h[1] + c[1]];
                            t.getView().animateInternal({
                                center: t.getCoordinateFromPixelInternal(f),
                                duration: this.autoPanAnimation.duration,
                                easing: this.autoPanAnimation.easing
                            })
                        }
                    }
                }
            }, e.prototype.getRect = function (t, e) {
                var n = t.getBoundingClientRect(),
                    r = n.left + window.pageXOffset,
                    o = n.top + window.pageYOffset;
                return [r, o, r + e[0], o + e[1]]
            }, e.prototype.setPositioning = function (t) {
                this.set("positioning", t)
            }, e.prototype.setVisible = function (t) {
                this.rendered.visible !== t && (this.element.style.display = t ? "" : "none", this.rendered.visible = t)
            }, e.prototype.updatePixelPosition = function () {
                var t = this.getMap(),
                    e = this.getPosition();
                if (t && t.isRendered() && e) {
                    var n = t.getPixelFromCoordinate(e),
                        r = t.getSize();
                    this.updateRenderedPosition(n, r)
                } else this.setVisible(!1)
            }, e.prototype.updateRenderedPosition = function (t, e) {
                var n = this.element.style,
                    r = this.getOffset(),
                    o = this.getPositioning();
                this.setVisible(!0);
                var i = r[0],
                    a = r[1];
                if ("bottom-right" == o || "center-right" == o || "top-right" == o) {
                    "" !== this.rendered.left_ && (this.rendered.left_ = "", n.left = "");
                    var s = Math.round(e[0] - t[0] - i) + "px";
                    this.rendered.right_ != s && (this.rendered.right_ = s, n.right = s)
                } else {
                    "" !== this.rendered.right_ && (this.rendered.right_ = "", n.right = ""), "bottom-center" != o && "center-center" != o && "top-center" != o || (i -= this.element.offsetWidth / 2);
                    var u = Math.round(t[0] + i) + "px";
                    this.rendered.left_ != u && (this.rendered.left_ = u, n.left = u)
                }
                if ("bottom-left" == o || "bottom-center" == o || "bottom-right" == o) {
                    "" !== this.rendered.top_ && (this.rendered.top_ = "", n.top = "");
                    var c = Math.round(e[1] - t[1] - a) + "px";
                    this.rendered.bottom_ != c && (this.rendered.bottom_ = c, n.bottom = c)
                } else {
                    "" !== this.rendered.bottom_ && (this.rendered.bottom_ = "", n.bottom = ""), "center-left" != o && "center-center" != o && "center-right" != o || (a -= this.element.offsetHeight / 2);
                    var l = Math.round(t[1] + a) + "px";
                    this.rendered.top_ != l && (this.rendered.top_ = "top", n.top = l)
                }
            }, e.prototype.getOptions = function () {
                return this.options
            }, e
        }(Fe),
        nf = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        rf = function (t) {
            function e(e, n, r) {
                var o = t.call(this) || this;
                if (o.ends_ = [], o.maxDelta_ = -1, o.maxDeltaRevision_ = -1, Array.isArray(e[0])) o.setCoordinates(e, n);
                else if (void 0 !== n && r) o.setFlatCoordinates(n, e), o.ends_ = r;
                else {
                    for (var i = o.getLayout(), a = e, s = [], u = [], c = 0, l = a.length; c < l; ++c) {
                        var h = a[c];
                        0 === c && (i = h.getLayout()), be(s, h.getFlatCoordinates()), u.push(s.length)
                    }
                    o.setFlatCoordinates(i, s), o.ends_ = u
                }
                return o
            }
            return nf(e, t), e.prototype.appendLineString = function (t) {
                this.flatCoordinates ? be(this.flatCoordinates, t.getFlatCoordinates().slice()) : this.flatCoordinates = t.getFlatCoordinates().slice(), this.ends_.push(this.flatCoordinates.length), this.changed()
            }, e.prototype.clone = function () {
                return new e(this.flatCoordinates.slice(), this.layout, this.ends_.slice())
            }, e.prototype.closestPointXY = function (t, e, n, r) {
                return r < bn(this.getExtent(), t, e) ? r : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(so(this.flatCoordinates, 0, this.ends_, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), co(this.flatCoordinates, 0, this.ends_, this.stride, this.maxDelta_, !1, t, e, n, r))
            }, e.prototype.getCoordinateAtM = function (t, e, n) {
                if ("XYM" != this.layout && "XYZM" != this.layout || 0 === this.flatCoordinates.length) return null;
                var r = void 0 !== e && e,
                    o = void 0 !== n && n;
                return function (t, e, n, r, o, i, a) {
                    if (a) return hu(t, e, n[n.length - 1], r, o, i);
                    var s;
                    if (o < t[r - 1]) return i ? ((s = t.slice(0, r))[r - 1] = o, s) : null;
                    if (t[t.length - 1] < o) return i ? ((s = t.slice(t.length - r))[r - 1] = o, s) : null;
                    for (var u = 0, c = n.length; u < c; ++u) {
                        var l = n[u];
                        if (e != l) {
                            if (o < t[e + r - 1]) return null;
                            if (o <= t[l - 1]) return hu(t, e, l, r, o, !1);
                            e = l
                        }
                    }
                    return null
                }(this.flatCoordinates, 0, this.ends_, this.stride, t, r, o)
            }, e.prototype.getCoordinates = function () {
                return yo(this.flatCoordinates, 0, this.ends_, this.stride)
            }, e.prototype.getEnds = function () {
                return this.ends_
            }, e.prototype.getLineString = function (t) {
                return t < 0 || this.ends_.length <= t ? null : new du(this.flatCoordinates.slice(0 === t ? 0 : this.ends_[t - 1], this.ends_[t]), this.layout)
            }, e.prototype.getLineStrings = function () {
                for (var t = this.flatCoordinates, e = this.ends_, n = this.layout, r = [], o = 0, i = 0, a = e.length; i < a; ++i) {
                    var s = e[i],
                        u = new du(t.slice(o, s), n);
                    r.push(u), o = s
                }
                return r
            }, e.prototype.getFlatMidpoints = function () {
                for (var t = [], e = this.flatCoordinates, n = 0, r = this.ends_, o = this.stride, i = 0, a = r.length; i < a; ++i) {
                    var s = r[i];
                    be(t, lu(e, n, s, o, .5)), n = s
                }
                return t
            }, e.prototype.getSimplifiedGeometryInternal = function (t) {
                var n = [],
                    r = [];
                return n.length = function (t, e, n, r, o, i, a, s) {
                    for (var u = 0, c = n.length; u < c; ++u) {
                        var l = n[u];
                        a = vo(t, e, l, r, o, i, a), s.push(a), e = l
                    }
                    return a
                }(this.flatCoordinates, 0, this.ends_, this.stride, t, n, 0, r), new e(n, "XY", r)
            }, e.prototype.getType = function () {
                return "MultiLineString"
            }, e.prototype.intersectsExtent = function (t) {
                return function (t, e, n, r, o) {
                    for (var i = 0, a = n.length; i < a; ++i) {
                        if (Ro(t, e, n[i], r, o)) return !0;
                        e = n[i]
                    }
                    return !1
                }(this.flatCoordinates, 0, this.ends_, this.stride, t)
            }, e.prototype.setCoordinates = function (t, e) {
                this.setLayout(e, t, 2), this.flatCoordinates || (this.flatCoordinates = []);
                var n = fo(this.flatCoordinates, 0, t, this.stride, this.ends_);
                this.flatCoordinates.length = 0 === n.length ? 0 : n[n.length - 1], this.changed()
            }, e
        }(no),
        of = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        af = function (t) {
            function e(e, n) {
                var r = t.call(this) || this;
                return n && !Array.isArray(e[0]) ? r.setFlatCoordinates(n, e) : r.setCoordinates(e, n), r
            }
            return of(e, t), e.prototype.appendPoint = function (t) {
                this.flatCoordinates ? be(this.flatCoordinates, t.getFlatCoordinates()) : this.flatCoordinates = t.getFlatCoordinates().slice(), this.changed()
            }, e.prototype.clone = function () {
                return new e(this.flatCoordinates.slice(), this.layout)
            }, e.prototype.closestPointXY = function (t, e, n, r) {
                if (r < bn(this.getExtent(), t, e)) return r;
                for (var o = this.flatCoordinates, i = this.stride, a = 0, s = o.length; a < s; a += i) {
                    var u = hn(t, e, o[a], o[a + 1]);
                    if (u < r) {
                        r = u;
                        for (var c = 0; c < i; ++c) n[c] = o[a + c];
                        n.length = i
                    }
                }
                return r
            }, e.prototype.getCoordinates = function () {
                return po(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride)
            }, e.prototype.getPoint = function (t) {
                var e = this.flatCoordinates ? this.flatCoordinates.length / this.stride : 0;
                return t < 0 || e <= t ? null : new Co(this.flatCoordinates.slice(t * this.stride, (t + 1) * this.stride), this.layout)
            }, e.prototype.getPoints = function () {
                for (var t = this.flatCoordinates, e = this.layout, n = this.stride, r = [], o = 0, i = t.length; o < i; o += n) {
                    var a = new Co(t.slice(o, o + n), e);
                    r.push(a)
                }
                return r
            }, e.prototype.getType = function () {
                return "MultiPoint"
            }, e.prototype.intersectsExtent = function (t) {
                for (var e = this.flatCoordinates, n = this.stride, r = 0, o = e.length; r < o; r += n)
                    if (Sn(t, e[r], e[r + 1])) return !0;
                return !1
            }, e.prototype.setCoordinates = function (t, e) {
                this.setLayout(e, t, 1), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = ho(this.flatCoordinates, 0, t, this.stride), this.changed()
            }, e
        }(no),
        sf = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        uf = function (t) {
            function e(e, n, r) {
                var o = t.call(this) || this;
                if (o.endss_ = [], o.flatInteriorPointsRevision_ = -1, o.flatInteriorPoints_ = null, o.maxDelta_ = -1, o.maxDeltaRevision_ = -1, o.orientedRevision_ = -1, o.orientedFlatCoordinates_ = null, !r && !Array.isArray(e[0])) {
                    for (var i = o.getLayout(), a = e, s = [], u = [], c = 0, l = a.length; c < l; ++c) {
                        var h = a[c];
                        0 === c && (i = h.getLayout());
                        for (var f = s.length, p = h.getEnds(), d = 0, y = p.length; d < y; ++d) p[d] += f;
                        be(s, h.getFlatCoordinates()), u.push(p)
                    }
                    n = i, e = s, r = u
                }
                return void 0 !== n && r ? (o.setFlatCoordinates(n, e), o.endss_ = r) : o.setCoordinates(e, n), o
            }
            return sf(e, t), e.prototype.appendPolygon = function (t) {
                var e;
                if (this.flatCoordinates) {
                    var n = this.flatCoordinates.length;
                    be(this.flatCoordinates, t.getFlatCoordinates());
                    for (var r = 0, o = (e = t.getEnds().slice()).length; r < o; ++r) e[r] += n
                } else this.flatCoordinates = t.getFlatCoordinates().slice(), e = t.getEnds().slice(), this.endss_.push();
                this.endss_.push(e), this.changed()
            }, e.prototype.clone = function () {
                for (var t = this.endss_.length, n = new Array(t), r = 0; r < t; ++r) n[r] = this.endss_[r].slice();
                return new e(this.flatCoordinates.slice(), this.layout, n)
            }, e.prototype.closestPointXY = function (t, e, n, r) {
                return r < bn(this.getExtent(), t, e) ? r : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(function (t, e, n, r, o) {
                    for (var i = 0, a = n.length; i < a; ++i) {
                        var s = n[i];
                        o = so(t, e, s, r, o), e = s[s.length - 1]
                    }
                    return o
                }(this.flatCoordinates, 0, this.endss_, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), function (t, e, n, r, o, i, a, s, u, c, l) {
                    for (var h = [NaN, NaN], f = 0, p = n.length; f < p; ++f) {
                        var d = n[f];
                        c = co(t, e, d, r, o, !0, a, s, u, c, h), e = d[d.length - 1]
                    }
                    return c
                }(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, this.maxDelta_, 0, t, e, n, r))
            }, e.prototype.containsXY = function (t, e) {
                return function (t, e, n, r, o, i) {
                    if (0 === n.length) return !1;
                    for (var a = 0, s = n.length; a < s; ++a) {
                        var u = n[a];
                        if (Oo(t, e, u, r, o, i)) return !0;
                        e = u[u.length - 1]
                    }
                    return !1
                }(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, t, e)
            }, e.prototype.getArea = function () {
                return function (t, e, n, r) {
                    for (var o = 0, i = 0, a = n.length; i < a; ++i) {
                        var s = n[i];
                        o += oo(t, e, s, r), e = s[s.length - 1]
                    }
                    return o
                }(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride)
            }, e.prototype.getCoordinates = function (t) {
                var e;
                return void 0 !== t ? Do(e = this.getOrientedFlatCoordinates().slice(), 0, this.endss_, this.stride, t) : e = this.flatCoordinates, go(e, 0, this.endss_, this.stride)
            }, e.prototype.getEndss = function () {
                return this.endss_
            }, e.prototype.getFlatInteriorPoints = function () {
                if (this.flatInteriorPointsRevision_ != this.getRevision()) {
                    var t = function (t, e, n, r) {
                        for (var o = [], i = [1 / 0, 1 / 0, -1 / 0, -1 / 0], a = 0, s = n.length; a < s; ++a) {
                            var u = n[a];
                            i = Pn(t, e, u[0], r), o.push((i[0] + i[2]) / 2, (i[1] + i[3]) / 2), e = u[u.length - 1]
                        }
                        return o
                    }(this.flatCoordinates, 0, this.endss_, this.stride);
                    this.flatInteriorPoints_ = function (t, e, n, r, o) {
                        for (var i = [], a = 0, s = n.length; a < s; ++a) {
                            var u = n[a];
                            i = Po(t, e, u, r, o, 2 * a, i), e = u[u.length - 1]
                        }
                        return i
                    }(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, t), this.flatInteriorPointsRevision_ = this.getRevision()
                }
                return this.flatInteriorPoints_
            }, e.prototype.getInteriorPoints = function () {
                return new af(this.getFlatInteriorPoints().slice(), "XYM")
            }, e.prototype.getOrientedFlatCoordinates = function () {
                if (this.orientedRevision_ != this.getRevision()) {
                    var t = this.flatCoordinates;
                    ! function (t, e, n, r, o) {
                        for (var i = 0, a = n.length; i < a; ++i) {
                            var s = n[i];
                            if (!jo(t, e, s, r, void 0)) return !1;
                            s.length && (e = s[s.length - 1])
                        }
                        return !0
                    }(t, 0, this.endss_, this.stride) ? (this.orientedFlatCoordinates_ = t.slice(), this.orientedFlatCoordinates_.length = Do(this.orientedFlatCoordinates_, 0, this.endss_, this.stride)) : this.orientedFlatCoordinates_ = t, this.orientedRevision_ = this.getRevision()
                }
                return this.orientedFlatCoordinates_
            }, e.prototype.getSimplifiedGeometryInternal = function (t) {
                var n = [],
                    r = [];
                return n.length = function (t, e, n, r, o, i, a, s) {
                    for (var u = 0, c = n.length; u < c; ++u) {
                        var l = n[u],
                            h = [];
                        a = bo(t, e, l, r, o, i, a, h), s.push(h), e = l[l.length - 1]
                    }
                    return a
                }(this.flatCoordinates, 0, this.endss_, this.stride, Math.sqrt(t), n, 0, r), new e(n, "XY", r)
            }, e.prototype.getPolygon = function (t) {
                if (t < 0 || this.endss_.length <= t) return null;
                var e;
                if (0 === t) e = 0;
                else {
                    var n = this.endss_[t - 1];
                    e = n[n.length - 1]
                }
                var r = this.endss_[t].slice(),
                    o = r[r.length - 1];
                if (0 !== e)
                    for (var i = 0, a = r.length; i < a; ++i) r[i] -= e;
                return new No(this.flatCoordinates.slice(e, o), this.layout, r)
            }, e.prototype.getPolygons = function () {
                for (var t = this.layout, e = this.flatCoordinates, n = this.endss_, r = [], o = 0, i = 0, a = n.length; i < a; ++i) {
                    var s = n[i].slice(),
                        u = s[s.length - 1];
                    if (0 !== o)
                        for (var c = 0, l = s.length; c < l; ++c) s[c] -= o;
                    var h = new No(e.slice(o, u), t, s);
                    r.push(h), o = u
                }
                return r
            }, e.prototype.getType = function () {
                return "MultiPolygon"
            }, e.prototype.intersectsExtent = function (t) {
                return function (t, e, n, r, o) {
                    for (var i = 0, a = n.length; i < a; ++i) {
                        var s = n[i];
                        if (Io(t, e, s, r, o)) return !0;
                        e = s[s.length - 1]
                    }
                    return !1
                }(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, t)
            }, e.prototype.setCoordinates = function (t, e) {
                this.setLayout(e, t, 3), this.flatCoordinates || (this.flatCoordinates = []);
                var n = function (t, e, n, r, o) {
                    for (var i = o || [], a = 0, s = 0, u = n.length; s < u; ++s) {
                        var c = fo(t, e, n[s], r, i[a]);
                        i[a++] = c, e = c[c.length - 1]
                    }
                    return i.length = a, i
                }(this.flatCoordinates, 0, t, this.stride, this.endss_);
                if (0 === n.length) this.flatCoordinates.length = 0;
                else {
                    var r = n[n.length - 1];
                    this.flatCoordinates.length = 0 === r.length ? 0 : r[r.length - 1]
                }
                this.changed()
            }, e
        }(no),
        cf = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        lf = function (t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.feature = n, r
            }
            return cf(e, t), e
        }(Te),
        hf = function (t) {
            function e(e) {
                var n, r, o = this,
                    i = e;
                i.stopDown || (i.stopDown = Se), (o = t.call(this, i) || this).shouldHandle_ = !1, o.downPx_ = null, o.downTimeout_, o.lastDragTime_, o.freehand_ = !1, o.source_ = e.source ? e.source : null, o.features_ = e.features ? e.features : null, o.snapTolerance_ = e.snapTolerance ? e.snapTolerance : 12, o.type_ = e.type, o.mode_ = ("Point" === (n = o.type_) || "MultiPoint" === n ? r = "Point" : "LineString" === n || "MultiLineString" === n ? r = "LineString" : "Polygon" === n || "MultiPolygon" === n ? r = "Polygon" : "Circle" === n && (r = "Circle"), r), o.stopClick_ = !!e.stopClick, o.minPoints_ = e.minPoints ? e.minPoints : "Polygon" === o.mode_ ? 3 : 2, o.maxPoints_ = e.maxPoints ? e.maxPoints : 1 / 0, o.finishCondition_ = e.finishCondition ? e.finishCondition : we;
                var a, s = e.geometryFunction;
                if (!s)
                    if ("Circle" === o.type_) s = function (t, e, n) {
                        var r, o, i, a, s = e || new Vh([NaN, NaN]),
                            u = zr(t[0]),
                            c = (r = u, o = zr(t[1]), (i = r[0] - o[0]) * i + (a = r[1] - o[1]) * a);
                        return s.setCenterAndRadius(u, Math.sqrt(c)), s
                    };
                    else {
                        var u, c = o.mode_;
                        "Point" === c ? u = Co : "LineString" === c ? u = du : "Polygon" === c && (u = No), s = function (t, e, n) {
                            var r = e;
                            return r ? "Polygon" === c ? t[0].length ? r.setCoordinates([t[0].concat([t[0][0]])]) : r.setCoordinates([]) : r.setCoordinates(t) : r = new u(t), r
                        }
                    } return o.geometryFunction_ = s, o.dragVertexDelay_ = void 0 !== e.dragVertexDelay ? e.dragVertexDelay : 500, o.finishCoordinate_ = null, o.sketchFeature_ = null, o.sketchPoint_ = null, o.sketchCoords_ = null, o.sketchLine_ = null, o.sketchLineCoords_ = null, o.squaredClickTolerance_ = e.clickTolerance ? e.clickTolerance * e.clickTolerance : 36, o.overlay_ = new Sc({
                    source: new su({
                        useSpatialIndex: !1,
                        wrapX: !!e.wrapX && e.wrapX
                    }),
                    style: e.style ? e.style : (a = Eu(), function (t, e) {
                        return a[t.getGeometry().getType()]
                    }),
                    updateWhileInteracting: !0
                }), o.geometryName_ = e.geometryName, o.condition_ = e.condition ? e.condition : ji, o.freehandCondition_, e.freehand ? o.freehandCondition_ = Ai : o.freehandCondition_ = e.freehandCondition ? e.freehandCondition : Mi, o.addEventListener(De("active"), o.updateState_), o
            }
            return cf(e, t), e.prototype.setMap = function (e) {
                t.prototype.setMap.call(this, e), this.updateState_()
            }, e.prototype.getOverlay = function () {
                return this.overlay_
            }, e.prototype.handleEvent = function (e) {
                "contextmenu" === e.originalEvent.type && e.preventDefault(), this.freehand_ = "Point" !== this.mode_ && this.freehandCondition_(e);
                var n = e.type === Je.POINTERMOVE,
                    r = !0;
                return !this.freehand_ && this.lastDragTime_ && e.type === Je.POINTERDRAG && (Date.now() - this.lastDragTime_ >= this.dragVertexDelay_ ? (this.downPx_ = e.pixel, this.shouldHandle_ = !this.freehand_, n = !0) : this.lastDragTime_ = void 0, this.shouldHandle_ && void 0 !== this.downTimeout_ && (clearTimeout(this.downTimeout_), this.downTimeout_ = void 0)), this.freehand_ && e.type === Je.POINTERDRAG && null !== this.sketchFeature_ ? (this.addToDrawing_(e.coordinate), r = !1) : this.freehand_ && e.type === Je.POINTERDOWN ? r = !1 : n ? (r = e.type === Je.POINTERMOVE) && this.freehand_ ? r = this.handlePointerMove_(e) : ("mouse" == e.pointerEvent.pointerType || e.type === Je.POINTERDRAG && void 0 === this.downTimeout_) && this.handlePointerMove_(e) : e.type === Je.DBLCLICK && (r = !1), t.prototype.handleEvent.call(this, e) && r
            }, e.prototype.handleDownEvent = function (t) {
                return this.shouldHandle_ = !this.freehand_, this.freehand_ ? (this.downPx_ = t.pixel, this.finishCoordinate_ || this.startDrawing_(t), !0) : this.condition_(t) ? (this.lastDragTime_ = Date.now(), this.downTimeout_ = setTimeout(function () {
                    this.handlePointerMove_(new tn(Je.POINTERMOVE, t.map, t.pointerEvent, !1, t.frameState))
                }.bind(this), this.dragVertexDelay_), this.downPx_ = t.pixel, !0) : (this.lastDragTime_ = void 0, !1)
            }, e.prototype.handleUpEvent = function (t) {
                var e = !0;
                this.downTimeout_ && (clearTimeout(this.downTimeout_), this.downTimeout_ = void 0), this.handlePointerMove_(t);
                var n = "Circle" === this.mode_;
                return this.shouldHandle_ ? (this.finishCoordinate_ ? this.freehand_ || n ? this.finishDrawing() : this.atFinish_(t) ? this.finishCondition_(t) && this.finishDrawing() : this.addToDrawing_(t.coordinate) : (this.startDrawing_(t), "Point" === this.mode_ && this.finishDrawing()), e = !1) : this.freehand_ && (this.finishCoordinate_ = null, this.abortDrawing_()), !e && this.stopClick_ && t.stopPropagation(), e
            }, e.prototype.handlePointerMove_ = function (t) {
                if (this.downPx_ && (!this.freehand_ && this.shouldHandle_ || this.freehand_ && !this.shouldHandle_)) {
                    var e = this.downPx_,
                        n = t.pixel,
                        r = e[0] - n[0],
                        o = e[1] - n[1],
                        i = r * r + o * o;
                    if (this.shouldHandle_ = this.freehand_ ? i > this.squaredClickTolerance_ : i <= this.squaredClickTolerance_, !this.shouldHandle_) return !0
                }
                return this.finishCoordinate_ ? this.modifyDrawing_(t) : this.createOrUpdateSketchPoint_(t), !0
            }, e.prototype.atFinish_ = function (t) {
                var e = !1;
                if (this.sketchFeature_) {
                    var n = !1,
                        r = [this.finishCoordinate_];
                    if ("LineString" === this.mode_) n = this.sketchCoords_.length > this.minPoints_;
                    else if ("Polygon" === this.mode_) {
                        var o = this.sketchCoords_;
                        n = o[0].length > this.minPoints_, r = [o[0][0], o[0][o[0].length - 2]]
                    }
                    if (n)
                        for (var i = t.map, a = 0, s = r.length; a < s; a++) {
                            var u = r[a],
                                c = i.getPixelFromCoordinate(u),
                                l = t.pixel,
                                h = l[0] - c[0],
                                f = l[1] - c[1],
                                p = this.freehand_ ? 1 : this.snapTolerance_;
                            if (e = Math.sqrt(h * h + f * f) <= p) {
                                this.finishCoordinate_ = u;
                                break
                            }
                        }
                }
                return e
            }, e.prototype.createOrUpdateSketchPoint_ = function (t) {
                var e = t.coordinate.slice();
                this.sketchPoint_ ? this.sketchPoint_.getGeometry().setCoordinates(e) : (this.sketchPoint_ = new cu(new Co(e)), this.updateSketchFeatures_())
            }, e.prototype.startDrawing_ = function (t) {
                var e = t.coordinate,
                    n = t.map.getView().getProjection();
                this.finishCoordinate_ = e, "Point" === this.mode_ ? this.sketchCoords_ = e.slice() : "Polygon" === this.mode_ ? (this.sketchCoords_ = [
                    [e.slice(), e.slice()]
                ], this.sketchLineCoords_ = this.sketchCoords_[0]) : this.sketchCoords_ = [e.slice(), e.slice()], this.sketchLineCoords_ && (this.sketchLine_ = new cu(new du(this.sketchLineCoords_)));
                var r = this.geometryFunction_(this.sketchCoords_, void 0, n);
                this.sketchFeature_ = new cu, this.geometryName_ && this.sketchFeature_.setGeometryName(this.geometryName_), this.sketchFeature_.setGeometry(r), this.updateSketchFeatures_(), this.dispatchEvent(new lf("drawstart", this.sketchFeature_))
            }, e.prototype.modifyDrawing_ = function (t) {
                var e, n, r, o = t.coordinate,
                    i = this.sketchFeature_.getGeometry(),
                    a = t.map.getView().getProjection();
                if ("Point" === this.mode_ ? n = this.sketchCoords_ : "Polygon" === this.mode_ ? (n = (e = this.sketchCoords_[0])[e.length - 1], this.atFinish_(t) && (o = this.finishCoordinate_.slice())) : n = (e = this.sketchCoords_)[e.length - 1], n[0] = o[0], n[1] = o[1], this.geometryFunction_(this.sketchCoords_, i, a), this.sketchPoint_ && this.sketchPoint_.getGeometry().setCoordinates(o), "Polygon" == i.getType() && "Polygon" !== this.mode_) {
                    this.sketchLine_ || (this.sketchLine_ = new cu);
                    var s = i.getLinearRing(0);
                    (r = this.sketchLine_.getGeometry()) ? (r.setFlatCoordinates(s.getLayout(), s.getFlatCoordinates()), r.changed()) : (r = new du(s.getFlatCoordinates(), s.getLayout()), this.sketchLine_.setGeometry(r))
                } else this.sketchLineCoords_ && (r = this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);
                this.updateSketchFeatures_()
            }, e.prototype.addToDrawing_ = function (t) {
                var e, n, r = this.sketchFeature_.getGeometry(),
                    o = this.getMap().getView().getProjection();
                "LineString" === this.mode_ ? (this.finishCoordinate_ = t.slice(), (n = this.sketchCoords_).length >= this.maxPoints_ && (this.freehand_ ? n.pop() : e = !0), n.push(t.slice()), this.geometryFunction_(n, r, o)) : "Polygon" === this.mode_ && ((n = this.sketchCoords_[0]).length >= this.maxPoints_ && (this.freehand_ ? n.pop() : e = !0), n.push(t.slice()), e && (this.finishCoordinate_ = n[0]), this.geometryFunction_(this.sketchCoords_, r, o)), this.updateSketchFeatures_(), e && this.finishDrawing()
            }, e.prototype.removeLastPoint = function () {
                if (this.sketchFeature_) {
                    var t, e = this.sketchFeature_.getGeometry(),
                        n = this.getMap().getView().getProjection();
                    "LineString" === this.mode_ ? ((t = this.sketchCoords_).splice(-2, 1), this.geometryFunction_(t, e, n), t.length >= 2 && (this.finishCoordinate_ = t[t.length - 2].slice())) : "Polygon" === this.mode_ && ((t = this.sketchCoords_[0]).splice(-2, 1), this.sketchLine_.getGeometry().setCoordinates(t), this.geometryFunction_(this.sketchCoords_, e, n)), 0 === t.length && (this.finishCoordinate_ = null), this.updateSketchFeatures_()
                }
            }, e.prototype.finishDrawing = function () {
                var t = this.abortDrawing_();
                if (t) {
                    var e = this.sketchCoords_,
                        n = t.getGeometry(),
                        r = this.getMap().getView().getProjection();
                    "LineString" === this.mode_ ? (e.pop(), this.geometryFunction_(e, n, r)) : "Polygon" === this.mode_ && (e[0].pop(), this.geometryFunction_(e, n, r), e = n.getCoordinates()), "MultiPoint" === this.type_ ? t.setGeometry(new af([e])) : "MultiLineString" === this.type_ ? t.setGeometry(new rf([e])) : "MultiPolygon" === this.type_ && t.setGeometry(new uf([e])), this.dispatchEvent(new lf("drawend", t)), this.features_ && this.features_.push(t), this.source_ && this.source_.addFeature(t)
                }
            }, e.prototype.abortDrawing_ = function () {
                this.finishCoordinate_ = null;
                var t = this.sketchFeature_;
                return this.sketchFeature_ = null, this.sketchPoint_ = null, this.sketchLine_ = null, this.overlay_.getSource().clear(!0), t
            }, e.prototype.appendCoordinates = function (t) {
                var e = this.mode_,
                    n = [];
                "LineString" === e ? n = this.sketchCoords_ : "Polygon" === e && (n = this.sketchCoords_ && this.sketchCoords_.length ? this.sketchCoords_[0] : []);
                for (var r = n.pop(), o = 0; o < t.length; o++) this.addToDrawing_(t[o]);
                this.addToDrawing_(r)
            }, e.prototype.extend = function (t) {
                var e = t.getGeometry();
                this.sketchFeature_ = t, this.sketchCoords_ = e.getCoordinates();
                var n = this.sketchCoords_[this.sketchCoords_.length - 1];
                this.finishCoordinate_ = n.slice(), this.sketchCoords_.push(n.slice()), this.updateSketchFeatures_(), this.dispatchEvent(new lf("drawstart", this.sketchFeature_))
            }, e.prototype.updateSketchFeatures_ = function () {
                var t = [];
                this.sketchFeature_ && t.push(this.sketchFeature_), this.sketchLine_ && t.push(this.sketchLine_), this.sketchPoint_ && t.push(this.sketchPoint_);
                var e = this.overlay_.getSource();
                e.clear(!0), e.addFeatures(t)
            }, e.prototype.updateState_ = function () {
                var t = this.getMap(),
                    e = this.getActive();
                t && e || this.abortDrawing_(), this.overlay_.setMap(e ? t : null)
            }, e
        }(zi),
        ff = n(177),
        pf = n.n(ff),
        df = function () {
            function t(e, n) {
                ! function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this.zIndex = e, this.map = n, this.enabled = !1, this.P = n.P
            }
            var e;
            return (e = [{
                key: "enableInteraction",
                value: function () {
                    this.enabled = !0, this.emit("enable")
                }
            }, {
                key: "disableInteraction",
                value: function () {
                    this.enabled = !1, this.emit("disable")
                }
            }, {
                key: "add",
                value: function () {
                    this.emit("add")
                }
            }, {
                key: "remove",
                value: function () {
                    this.emit("remove")
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(t.prototype, e), t
        }();

    function yf(t) {
        return (yf = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function gf(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function vf(t, e, n) {
        return (vf = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {
            var r = function (t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Sf(t)););
                return t
            }(t, e);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function mf(t, e) {
        return !e || "object" !== yf(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function _f(t) {
        var e = "function" == typeof Map ? new Map : void 0;
        return (_f = function (t) {
            if (null === t || (n = t, -1 === Function.toString.call(n).indexOf("[native code]"))) return t;
            var n;
            if ("function" != typeof t) throw new TypeError("Super expression must either be null or a function");
            if (void 0 !== e) {
                if (e.has(t)) return e.get(t);
                e.set(t, r)
            }

            function r() {
                return bf(t, arguments, Sf(this).constructor)
            }
            return r.prototype = Object.create(t.prototype, {
                constructor: {
                    value: r,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), wf(r, t)
        })(t)
    }

    function bf(t, e, n) {
        return (bf = xf() ? Reflect.construct : function (t, e, n) {
            var r = [null];
            r.push.apply(r, e);
            var o = new(Function.bind.apply(t, r));
            return n && wf(o, n.prototype), o
        }).apply(null, arguments)
    }

    function xf() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function wf(t, e) {
        return (wf = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Sf(t) {
        return (Sf = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }
    f()(df.prototype), n(292);
    var Cf = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && wf(t, e)
        }(o, t);
        var e, n, r = (e = o, function () {
            var t, n = Sf(e);
            if (xf()) {
                var r = Sf(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return mf(this, t)
        });

        function o(t) {
            var e;
            return function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, o), (e = r.call(this)).olmap = t, e
        }
        return (n = [{
            key: "push",
            value: function () {
                for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
                for (var r = 0, i = e; r < i.length; r++) {
                    var a = i[r];
                    vf(Sf(o.prototype), "push", this).call(this, a), this.olmap.map.addOverlay(a)
                }
                return this.length
            }
        }, {
            key: "pop",
            value: function () {
                var t = vf(Sf(o.prototype), "pop", this).call(this);
                return this.olmap.map.removeOverlay(t), t
            }
        }, {
            key: "unshift",
            value: function () {
                for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
                for (var r = 0, i = e; r < i.length; r++) {
                    var a = i[r];
                    vf(Sf(o.prototype), "unshift", this).call(this, a), this.olmap.map.addOverlay(a)
                }
                return this.length
            }
        }, {
            key: "shift",
            value: function () {
                var t = vf(Sf(o.prototype), "shift", this).call(this);
                return this.olmap.map.removeOverlay(t), t
            }
        }, {
            key: "remove",
            value: function (t) {
                for (var e = this, n = function () {
                        return e.findIndex((function (e) {
                            return t == e
                        }))
                    }, r = n(); - 1 != r;) this.olmap.map.removeOverlay(this[r]), this.splice(r, 1), r = n()
            }
        }, {
            key: "clear",
            value: function () {
                var t, e = function (t) {
                    if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
                        if (Array.isArray(t) || (t = function (t, e) {
                                if (t) {
                                    if ("string" == typeof t) return gf(t, void 0);
                                    var n = Object.prototype.toString.call(t).slice(8, -1);
                                    return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? gf(t, void 0) : void 0
                                }
                            }(t))) {
                            var e = 0,
                                n = function () {};
                            return {
                                s: n,
                                n: function () {
                                    return e >= t.length ? {
                                        done: !0
                                    } : {
                                        done: !1,
                                        value: t[e++]
                                    }
                                },
                                e: function (t) {
                                    throw t
                                },
                                f: n
                            }
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }
                    var r, o, i = !0,
                        a = !1;
                    return {
                        s: function () {
                            r = t[Symbol.iterator]()
                        },
                        n: function () {
                            var t = r.next();
                            return i = t.done, t
                        },
                        e: function (t) {
                            a = !0, o = t
                        },
                        f: function () {
                            try {
                                i || null == r.return || r.return()
                            } finally {
                                if (a) throw o
                            }
                        }
                    }
                }(this);
                try {
                    for (e.s(); !(t = e.n()).done;) {
                        var n = t.value;
                        this.olmap.map.removeOverlay(n)
                    }
                } catch (t) {
                    e.e(t)
                } finally {
                    e.f()
                }
                vf(Sf(o.prototype), "splice", this).call(this, 0, this.length)
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(o.prototype, n), o
    }(_f(Array));

    function Ef(t) {
        return (Ef = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Tf(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function Of(t, e, n) {
        return (Of = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {
            var r = function (t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Rf(t)););
                return t
            }(t, e);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function Pf(t, e) {
        return !e || "object" !== Ef(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Af() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function Rf(t) {
        return (Rf = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function If(t, e) {
        return (If = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var kf = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && If(t, e)
        }(o, t);
        var e, n, r = (e = o, function () {
            var t, n = Rf(e);
            if (Af()) {
                var r = Rf(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return Pf(this, t)
        });

        function o(t, e) {
            var n, i;
            ! function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, o), (n = r.call(this, t, e)).source = new su, n.layer = new Hc({
                source: n.source,
                style: new Ou({
                    stroke: new xu({
                        color: "rgba(255,255,255,1.0)",
                        width: 2
                    }),
                    fill: new bu({
                        color: "black"
                    })
                }),
                zIndex: t,
                visible: !0
            }), n.measureTooltips = new Cf(n.map), n.interaction = new hf({
                source: n.source,
                style: new Ou({
                    stroke: new xu({
                        color: "rgba(255,255,255,0.5)",
                        lineDash: [10, 5],
                        width: 2
                    }),
                    image: new _u({
                        radius: 5,
                        stroke: new xu({
                            color: "rgba(0,0,0,0.7)"
                        }),
                        fill: new bu({
                            color: "rgba(255,255,255,0.2)"
                        })
                    })
                }),
                type: "LineString",
                maxPoints: 2
            });
            var a = function (t, e, r) {
                var o = e ? n.P.toMeters(e.getLength()) : void 0;
                t.getElement().innerHTML = pf()({
                    distance: e ? n.map.formatDistance(e) : "",
                    close: r,
                    sprintTime: e ? Xc(o / 6) : void 0,
                    driveSpeed: e ? 85 : void 0,
                    driveTime: e ? Xc(o / (85 / 3.6)) : void 0
                });
                var i = t.getElement().querySelector(".close-tooltip");
                i && i.addEventListener("click", (function (e) {
                    var r = t.get("feature");
                    n.source.removeFeature(r), n.measureTooltips.remove(t)
                })), void 0 !== e && t.setPosition(e.getLastCoordinate())
            };
            return n.interaction.on("drawstart", (function (t) {
                n.measureSketch = t.feature;
                var e = function (t) {
                    var e = document.createElement("div");
                    e.className = "tooltip-overlay measure tail";
                    var n = new ef({
                        insertFirst: !1,
                        stopEvent: !0,
                        element: e,
                        offset: [0, -14],
                        positioning: "bottom-center"
                    });
                    return n.set("feature", t), a(n), n
                }(n.measureSketch);
                n.measureTooltip = e, n.measureTooltips.push(e), i = n.measureSketch.getGeometry().on("change", (function (t) {
                    var n = t.target;
                    a(e, n)
                }))
            })), n.interaction.on("drawend", (function () {
                var t = n.measureSketch.getGeometry();
                a(n.measureTooltip, t, !0), n.emit("measure", t), n.measureSketch = void 0, Re(i)
            })), n
        }
        return (n = [{
            key: "setOpacity",
            value: function (t) {
                this.layer && this.layer.setOpacity(t);
                var e, n = function (t) {
                    if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
                        if (Array.isArray(t) || (t = function (t, e) {
                                if (t) {
                                    if ("string" == typeof t) return Tf(t, void 0);
                                    var n = Object.prototype.toString.call(t).slice(8, -1);
                                    return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Tf(t, void 0) : void 0
                                }
                            }(t))) {
                            var e = 0,
                                n = function () {};
                            return {
                                s: n,
                                n: function () {
                                    return e >= t.length ? {
                                        done: !0
                                    } : {
                                        done: !1,
                                        value: t[e++]
                                    }
                                },
                                e: function (t) {
                                    throw t
                                },
                                f: n
                            }
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }
                    var r, o, i = !0,
                        a = !1;
                    return {
                        s: function () {
                            r = t[Symbol.iterator]()
                        },
                        n: function () {
                            var t = r.next();
                            return i = t.done, t
                        },
                        e: function (t) {
                            a = !0, o = t
                        },
                        f: function () {
                            try {
                                i || null == r.return || r.return()
                            } finally {
                                if (a) throw o
                            }
                        }
                    }
                }(this.measureTooltips);
                try {
                    for (n.s(); !(e = n.n()).done;) e.value.getElement().style.opacity = "".concat(t)
                } catch (t) {
                    n.e(t)
                } finally {
                    n.f()
                }
            }
        }, {
            key: "add",
            value: function () {
                this.map.map.addLayer(this.layer), Of(Rf(o.prototype), "add", this).call(this)
            }
        }, {
            key: "remove",
            value: function () {
                this.map.map.removeLayer(this.layer), this.measureTooltips.clear(), Of(Rf(o.prototype), "remove", this).call(this)
            }
        }, {
            key: "enableInteraction",
            value: function () {
                this.map.map.addInteraction(this.interaction), Of(Rf(o.prototype), "enableInteraction", this).call(this)
            }
        }, {
            key: "disableInteraction",
            value: function () {
                this.map.map.removeInteraction(this.interaction), this.measureSketch && (this.measureSketch = void 0, this.measureTooltips.pop()), Of(Rf(o.prototype), "disableInteraction", this).call(this)
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(o.prototype, n), o
    }(df);

    function Lf(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = function (t, e) {
                    if (t) {
                        if ("string" == typeof t) return jf(t, void 0);
                        var n = Object.prototype.toString.call(t).slice(8, -1);
                        return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? jf(t, void 0) : void 0
                    }
                }(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function jf(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }
    n(293);
    var Mf = Math.sqrt;

    function Df(t) {
        return t * t
    }

    function Ff(t, e) {
        return n = t, r = function (t) {
            return [t.x, t.y]
        }(e), Df(n[0] - r[0]) + Df(n[1] - r[1]) <= Df(e.radius);
        var n, r
    }

    function Gf(t, e, n) {
        var r, o = Lf(n);
        try {
            for (o.s(); !(r = o.n()).done;) {
                var i = r.value;
                if (i != e && Ff(t, i)) return !0
            }
        } catch (t) {
            o.e(t)
        } finally {
            o.f()
        }
        return !1
    }

    function Nf(t, e, n, r, o) {
        var i = 1 + Df(r),
            a = 2 * -e + r * (o - n) * 2,
            s = Df(e) + Df(o - n) - Df(t),
            u = Df(a) - 4 * i * s;
        if (u >= 0) {
            var c = [(-a + Mf(Df(a) - 4 * i * s)) / (2 * i), (-a - Mf(Df(a) - 4 * i * s)) / (2 * i)];
            return 0 == u ? [c[0]] : c
        }
        return []
    }

    function zf(t, e) {
        return e.m * t + e.b
    }

    function Bf(t, e) {
        var n, r = [],
            o = Lf(t);
        try {
            for (o.s(); !(n = o.n()).done;) {
                var i, a = n.value,
                    s = Lf(Nf(a.radius, a.x, a.y, e.m, e.b));
                try {
                    for (s.s(); !(i = s.n()).done;) {
                        var u = i.value,
                            c = [u, zf(u, e)];
                        Gf(c, a, t) || r.push(c)
                    }
                } catch (t) {
                    s.e(t)
                } finally {
                    s.f()
                }
            }
        } catch (t) {
            o.e(t)
        } finally {
            o.f()
        }
        return r
    }
    var Uf = {
        Savage: [1200],
        DihorOtok: [1025],
        Erangel: [925],
        Baltic: [925],
        Desert: [925],
        Tiger: [925],
        Summerland: [425],
        Chimera: [425]
    };

    function Xf(t, e) {
        return Uf[t] || 925
    }
    var Wf = {
        default: [
            ["#0f0", "#0ff", 6, .1],
            ["#0ff", "#00f", 6, .1],
            ["#f80", "#ff0", 2, .1],
            ["#77f", "#f0f", 4, .1],
            ["#f00", "#f00", 1, 1]
        ],
        Summerland: [
            ["#0ff", "#00f", 4, .1],
            ["#f80", "#ff0", 3, .1],
            ["#77f", "#f0f", 5, .1]
        ],
        Chimera: [
            ["#0ff", "#00f", 6, .1],
            ["#f80", "#ff0", 3, .1],
            ["#77f", "#f0f", 5, .1]
        ]
    };

    function Vf(t) {
        return (Vf = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Hf(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = Yf(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function Yf(t, e) {
        if (t) {
            if ("string" == typeof t) return Zf(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Zf(t, e) : void 0
        }
    }

    function Zf(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function qf(t, e, n) {
        return (qf = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {
            var r = function (t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Jf(t)););
                return t
            }(t, e);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function Kf(t, e) {
        return !e || "object" !== Vf(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function $f() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function Jf(t) {
        return (Jf = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Qf(t, e) {
        return (Qf = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var tp = Xf,
        ep = {
            OPACITY: .1,
            STROKE_COLOR: Rh.from("rgba(50,50,50,0.35)"),
            LINE_COLOR: Rh.from("rgba(255,255,255,1.0)"),
            DEFAULT_FILL: Rh.from("rgba(0,0,0,0.6)"),
            START_END_COLOR: Rh.from("rgba(255,200,200,1.0)"),
            REAL_START_END_COLOR: Rh.from("rgba(255,80,80,1.0)"),
            DRAW_LINE_COLOR: Rh.from("rgba(255,255,255,0.5)"),
            DRAW_LINE_DASH: [10, 5],
            LINE_WIDTH: 5,
            DISTANCE_LINE_COLOR: Rh.from("rgba(255,255,255,0.5)"),
            DISTANCE_LINE_STROKE_COLOR: Rh.from("rgba(255,255,255,0.85)"),
            DISTANCE_LINE_TEXT_COLOR: Rh.from("rgba(0,0,0,1)"),
            DISTANCE_LINE_WIDTH: 5 / 4,
            TOOL_IMAGE: new _u({
                radius: 5,
                stroke: new xu({
                    color: "rgba(0,0,0,0.7)"
                }),
                fill: new bu({
                    color: "rgba(255,255,255,0.2)"
                })
            }),
            LINE_DISTANCE: tp,
            LINE_DISTANCE_CUTOFF: 1100,
            FADE_DELAY: 15e3,
            FADE_AMOUNT: .004,
            FADE_INTERVAL: 50
        },
        np = ep;
    window.PlanePathOptions = ep;
    var rp = function (t) {
            ! function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Qf(t, e)
            }(o, t);
            var e, n, r = (e = o, function () {
                var t, n = Jf(e);
                if ($f()) {
                    var r = Jf(this).constructor;
                    t = Reflect.construct(n, arguments, r)
                } else t = n.apply(this, arguments);
                return Kf(this, t)
            });

            function o(t, e, n) {
                var i;
                ! function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, o), (i = r.call(this, t, e)).spots = n, i.handlers = [], i.longDistanceLines = [], i.jumpPoints = [], i.wantDim = !1, i.colorStops = [], i.gridSize = i.P.gridSize;
                var s, u, c = function (t, e, n) {
                        for (var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : .1, o = 1 == n ? 1 : n - 1, a = 0; a < n; a++) i.colorStops.push({
                            color: Rh.from(Rh.lerp(t, e, a / o), np.OPACITY).toString(),
                            size: r
                        })
                    },
                    l = Hf((u = i.map.currentMap.id, void 0 === Wf[u] && (u = "default"), Wf[u]));
                try {
                    for (l.s(); !(s = l.n()).done;) {
                        var h = s.value;
                        c(Rh.from(h[0]), Rh.from(h[1]), h[2], h[3])
                    }
                } catch (t) {
                    l.e(t)
                } finally {
                    l.f()
                }
                var f = new Ou({
                        image: new _u({
                            fill: new bu({
                                color: np.START_END_COLOR.toString()
                            }),
                            radius: 1.35 * np.LINE_WIDTH
                        }),
                        zIndex: 200
                    }),
                    p = new Ou({
                        image: new _u({
                            fill: new bu({
                                color: np.REAL_START_END_COLOR.toString()
                            }),
                            radius: np.LINE_WIDTH / 2
                        }),
                        zIndex: 199
                    }),
                    d = new vu({
                        fill: new bu({
                            color: np.START_END_COLOR.toString()
                        }),
                        radius: 2 * np.LINE_WIDTH,
                        points: 3,
                        angle: Math.PI,
                        rotateWithView: !0
                    }),
                    y = new Ou({
                        image: d,
                        zIndex: 200
                    }),
                    g = p,
                    v = new xu({
                        color: np.DISTANCE_LINE_STROKE_COLOR.toString(),
                        width: 3
                    }),
                    m = new bu({
                        color: np.DISTANCE_LINE_TEXT_COLOR.toString()
                    }),
                    _ = new xu({
                        color: np.DISTANCE_LINE_COLOR.toString(),
                        width: np.DISTANCE_LINE_WIDTH
                    }),
                    b = new Ou({
                        stroke: _,
                        text: new _h({
                            stroke: v,
                            fill: m,
                            font: "12pt Roboto, sans-serif",
                            text: "555m",
                            textAlign: "center",
                            textBaseline: "bottom",
                            placement: "line"
                        }),
                        fill: new bu({
                            color: np.DEFAULT_FILL.toString()
                        }),
                        zIndex: 100
                    }),
                    x = b.getText(),
                    w = new Ou({
                        stroke: new xu({
                            color: np.LINE_COLOR.toString(),
                            width: np.LINE_WIDTH
                        }),
                        fill: new bu({
                            color: np.DEFAULT_FILL.toString()
                        }),
                        zIndex: 100
                    }),
                    S = {},
                    C = function (t) {
                        if (S[t]) return S[t];
                        var e = new Ou({
                            fill: new bu({
                                color: t
                            }),
                            stroke: new xu({
                                color: np.STROKE_COLOR.toString(),
                                width: 1
                            }),
                            zIndex: 0
                        });
                        return S[t] = e, e
                    };
                i.source = new su, i.layer = new Hc({
                    source: i.source,
                    style: function (t) {
                        if (!t.get("hidden")) return t.getStyle() || t.get("style") || w
                    },
                    extent: i.P.extent,
                    visible: !0,
                    zIndex: t
                });
                var E = new Ou({
                        stroke: new xu({
                            color: np.DRAW_LINE_COLOR.toString(),
                            lineDash: np.DRAW_LINE_DASH,
                            width: np.LINE_WIDTH
                        }),
                        image: np.TOOL_IMAGE
                    }),
                    T = function (t, e) {
                        var n = t.m,
                            r = t.b,
                            o = Math.sqrt(e * e * (n * n + 1)),
                            a = {
                                m: n,
                                b: r + o
                            },
                            s = {
                                m: n,
                                b: r - o
                            };
                        return [i.map.clampLine(a), i.map.clampLine(s)]
                    },
                    O = [],
                    P = [],
                    A = new Co([-1e3, -1e3]),
                    R = new cu(A),
                    I = new Co([-1e3, -1e3]),
                    k = new cu(I),
                    L = new Co([-1e3, -1e3]),
                    j = new cu(L),
                    M = new du([
                        [-1e5, -1e5],
                        [-1e5, -1e5]
                    ]);
                i.perpDistanceLine = new cu(M);
                for (var D = 0; D < i.colorStops.length; D++) {
                    var F = C(i.colorStops[D].color),
                        G = new No([
                            [
                                [-1e3, -1e3],
                                [-1e3, -1001],
                                [-1001, -1001],
                                [-1001, -1e3]
                            ]
                        ]),
                        N = new cu({
                            geometry: G
                        }),
                        z = new No([
                            [
                                [-1e3, -1e3],
                                [-1e3, -1001],
                                [-1001, -1001],
                                [-1001, -1e3]
                            ]
                        ]),
                        B = new cu({
                            geometry: z
                        });
                    N.set("style", F), B.set("style", F), O.push([N, B]), P.push([G, z]), N.set("color", i.colorStops[D].color), B.set("color", i.colorStops[D].color), N.set("hidden", !0), B.set("hidden", !0)
                }
                R.set("style", f), k.set("style", y), j.set("style", g), i.perpDistanceLine.set("style", b);
                var U = np.LINE_DISTANCE(i.map.currentMap.id, 0);
                i.createDistanceLines(U.length);
                var X = n || [];
                n = [];
                var W, V = Hf(X);
                try {
                    for (V.s(); !(W = V.n()).done;) {
                        var H = W.value,
                            Y = i.P.cx([H.x, H.y]),
                            Z = i.P.cx([H.radius, 0])[0];
                        n.push({
                            exportName: H.exportName,
                            type: H.type,
                            x: Y[0],
                            y: Y[1],
                            z: 0,
                            radius: Z
                        })
                    }
                } catch (t) {
                    V.e(t)
                } finally {
                    V.f()
                }
                var q, K, $ = a()((function (t) {
                    if (i.source.getFeatures().includes(i.planeFeatures[0])) try {
                        for (var e = [i.map.clampLine(t), i.map.clampLine(t)], n = 0, r = 0; r < i.colorStops.length; r++) {
                            for (var o = i.colorStops[r].size * i.gridSize, a = T(t, n += o), s = P[r], u = 0; u < 2; u++) {
                                var c = [e[u][0], e[u][1], a[u][1], a[u][0]];
                                try {
                                    s[u].setCoordinates([c])
                                } catch (t) {
                                    console.error(t)
                                }
                            }
                            e = a
                        }
                    } catch (t) {
                        console.error(t)
                    }
                }), 0);
                i.planeFeatures = O.reduce((function (t, e) {
                    return t.push.apply(t, function (t) {
                        if (Array.isArray(t)) return Zf(t)
                    }(n = e) || function (t) {
                        if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t)
                    }(n) || Yf(n) || function () {
                        throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }()), t;
                    var n
                }), []), i.source.addFeatures([R]), i.interaction = new hf({
                    source: i.source,
                    style: E,
                    type: "LineString",
                    geometryFunction: function (t, e) {
                        q = t[0];
                        var r = e;
                        if (e ? r.setCoordinates(t) : r = new du(t), t[0][0] != t[1][0] || t[0][1] != t[1][1]) {
                            var o = Lc(t);
                            K = o, null === o.m && (o.m = 9999, o.b = 0 - o.m * t[0][0]), r.setCoordinates(i.map.clampLine(o)),
                                function (t, e, r) {
                                    var o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                                    if (o || i.measureSketch) {
                                        for (var a = i.planeFeatures.concat([k, j]), s = 0; s < a.length; s++) i.source.getFeatures().includes(a[s]) || i.source.addFeature(a[s]);
                                        if (!(e.length < 2 || e.find((function (t) {
                                                return isNaN(t[0]) || isNaN(t[1])
                                            })))) {
                                            if (A.setCoordinates(e[0]), i.source.getFeatures().includes(k)) {
                                                var u = e[1][0] != e[0][0] ? Math.sign(e[1][0] - e[0][0]) : Math.sign(e[1][1] - e[0][1]),
                                                    c = Bf(n, t);
                                                if (2 == c.length) {
                                                    var l = Math.sign(c[1][0] - c[0][0]);
                                                    if (l != u) {
                                                        var h = c[0];
                                                        c[0] = c[1], c[1] = h
                                                    }
                                                    var f = 280,
                                                        p = 30,
                                                        y = c[0][0],
                                                        g = c[1][0],
                                                        v = c[0][1],
                                                        m = c[1][1],
                                                        _ = g - y,
                                                        b = m - v,
                                                        x = Math.sqrt(_ * _ + b * b),
                                                        w = y - p * (y - g) / x,
                                                        S = g - f * (g - y) / x,
                                                        C = (Mc(t, w), Mc(t, S));
                                                    A.setCoordinates(c[0]), I.setCoordinates(c[1]), L.setCoordinates(C), r.setCoordinates(c)
                                                } else I.setCoordinates(e[1]), L.setCoordinates(e[1]);
                                                var E = e[1][1] - e[0][1],
                                                    T = e[1][0] - e[0][0];
                                                d.setRotation((E < 0 ? 0 : Math.PI) + Math.atan(T / E) || 0)
                                            }
                                            $(t)
                                        }
                                    }
                                }(o, t, r)
                        }
                        return r
                    },
                    maxPoints: 2
                }), Object.values(i.interaction).filter((function (t) {
                    return t instanceof Fu
                })).forEach((function (t) {
                    return t.setExtent(i.P.extent)
                }));
                var J, Q = !1;
                return i.interaction.on("drawstart", (function (t) {
                    J && i.source.removeFeature(J), J = t.feature, i.measureSketch = t.feature, i.source.getFeatures().includes(i.planeFeatures[0]) && i.planeFeatures.concat([k, j]).forEach((function (t) {
                        return i.source.removeFeature(t)
                    })), A.setCoordinates(q), Q = !0, i.emit("plane-path-start"), i.removeDistanceFeatures(), i.dim()
                })), i.interaction.on("drawend", (function () {
                    var t = i.measureSketch.getGeometry();
                    i.measureSketch = void 0, Q = !1, i.emit("plane-path-end", t), i.undim()
                })), i.handlers.push(i.map.map.on("pointermove", (function (t) {
                    i.enabled && !Q && function (t) {
                        if (K) {
                            var e = -1 / K.m,
                                n = e,
                                r = (t[1] - e * t[0] - K.b) / (K.m - n),
                                o = Mc(K, r);
                            M.setCoordinates([t, o]);
                            var a = i.P.toMeters(M.getLength()),
                                s = Rh.from(np.DISTANCE_LINE_COLOR),
                                u = Rh.from(np.DISTANCE_LINE_TEXT_COLOR),
                                c = Rh.from(np.DISTANCE_LINE_STROKE_COLOR),
                                l = Rh.from(np.START_END_COLOR, .8);
                            ! function (e) {
                                for (var n = 0; n < e.length; n++) {
                                    var h = e[n];
                                    if (a > h) i.removeDistance(i.longDistanceLines[n]), i.removeDistance(i.jumpPoints[n]);
                                    else {
                                        var f = Math.sqrt(h * h - a * a),
                                            p = i.P.fromMeters(f),
                                            d = A.getFirstCoordinate(),
                                            y = d[0],
                                            g = Math.sign(y - o[0]),
                                            v = r + g * (p / Math.sqrt(1 + K.m * K.m)),
                                            m = Mc(K, v);
                                        jc(o, d) < jc(o, m) && (m = d);
                                        var _ = i.longDistanceLines[n],
                                            b = i.jumpPoints[n],
                                            x = _.getGeometry(),
                                            w = _.getStyle(),
                                            S = b.getGeometry(),
                                            C = b.getStyle();
                                        x.setCoordinates([t, m]), w.getStroke().setColor(s.toString()), w.getText().getFill().setColor(u.toString()), w.getText().getStroke().setColor(c.toString()), C.getImage().getFill().setColor(l.toString()), w.getText().setText(i.map.formatDistance(x)), S.setCoordinates(m), i.addDistance(_), i.addDistance(b)
                                    }
                                }
                            }(np.LINE_DISTANCE(i.map.currentMap.id, a)), void 0 !== i.fadeTimer && (clearInterval(i.fadeTimer), i.fadeTimer = void 0), void 0 !== i.fadeStartTimer && (clearTimeout(i.fadeStartTimer), i.fadeStartTimer = void 0);
                            var h = 1 - Uc(a, 2e3, 3600, .1, .5, !0),
                                f = 1 - Uc(a, 2e3, 3600, .5, .75, !0),
                                p = Rh.from(np.DISTANCE_LINE_COLOR),
                                d = Rh.from(np.DISTANCE_LINE_TEXT_COLOR),
                                y = Rh.from(np.DISTANCE_LINE_STROKE_COLOR);
                            p.a = f, d.a = h, y.a = h, _.setColor(p.toString()), m.setColor(d.toString()), v.setColor(y.toString()), x.setText(i.map.formatDistance(M)), i.addDistance(i.perpDistanceLine), i.fadeStartTimer = setTimeout((function () {
                                i.fadeTimer = setInterval((function () {
                                    for (var t = 0, e = 0, n = [s, u, c, p, d, y, l]; e < n.length; e++) {
                                        var r = n[e];
                                        r.a > .1 && (r.a -= np.FADE_AMOUNT, t++)
                                    }
                                    0 == t && (clearInterval(i.fadeTimer), i.fadeTimer = void 0), _.setColor(p.toString()), m.setColor(d.toString()), v.setColor(y.toString()), i.longDistanceLines.forEach((function (t) {
                                        var e = t.getStyle();
                                        e.getStroke().setColor(s.toString()), e.getText().getFill().setColor(u.toString()), e.getText().getStroke().setColor(c.toString())
                                    })), i.jumpPoints.forEach((function (t) {
                                        t.getStyle().getImage().getFill().setColor(l.toString())
                                    })), i.perpDistanceLine.changed(), i.longDistanceLines.forEach((function (t) {
                                        return t.changed()
                                    })), i.jumpPoints.forEach((function (t) {
                                        return t.changed()
                                    }))
                                }), np.FADE_INTERVAL)
                            }), np.FADE_DELAY)
                        }
                    }(t.coordinate)
                }))), i
            }
            return (n = [{
                key: "setOpacity",
                value: function (t) {
                    this.layer && this.layer.setOpacity(t)
                }
            }, {
                key: "createDistanceLines",
                value: function (t) {
                    var e = this;
                    if (this.longDistanceLines.length !== t) {
                        this.longDistanceLines.forEach((function (t) {
                            return e.removeDistance(t)
                        })), this.jumpPoints.forEach((function (t) {
                            return e.removeDistance(t)
                        })), this.longDistanceLines = [], this.jumpPoints = [];
                        for (var n = 0; n < t; n++) {
                            var r = new du([
                                    [-1e5, -1e5],
                                    [-1e5, -1e5]
                                ]),
                                o = new Co([-1e3, -1e3]);
                            this.longDistanceLines[n] = new cu(r), this.jumpPoints[n] = new cu(o);
                            var i = new xu({
                                    color: np.DISTANCE_LINE_STROKE_COLOR.toString(),
                                    width: 3
                                }),
                                a = new bu({
                                    color: np.DISTANCE_LINE_TEXT_COLOR.toString()
                                }),
                                s = new xu({
                                    color: np.DISTANCE_LINE_COLOR.toString(),
                                    width: np.DISTANCE_LINE_WIDTH
                                }),
                                u = new Ou({
                                    stroke: s,
                                    text: new _h({
                                        stroke: i,
                                        fill: a,
                                        font: "9pt Roboto, sans-serif",
                                        text: "555m",
                                        textAlign: "center",
                                        textBaseline: "bottom",
                                        placement: "line"
                                    }),
                                    fill: new bu({
                                        color: np.DEFAULT_FILL.toString()
                                    }),
                                    zIndex: 100
                                }),
                                c = (u.getText(), new bu({
                                    color: Rh.from(np.START_END_COLOR, .8).toString()
                                })),
                                l = new Ou({
                                    image: new _u({
                                        fill: c,
                                        radius: 1.5 * np.LINE_WIDTH
                                    }),
                                    zIndex: 200
                                });
                            this.longDistanceLines[n].setStyle(u), this.jumpPoints[n].setStyle(l), this.longDistanceLines[n].set("style", u), this.jumpPoints[n].set("style", l)
                        }
                    }
                }
            }, {
                key: "addDistance",
                value: function (t) {
                    this.source.getFeatures().includes(t) || this.source.addFeature(t)
                }
            }, {
                key: "removeDistance",
                value: function (t) {
                    this.source.getFeatures().includes(t) && this.source.removeFeature(t)
                }
            }, {
                key: "removeDistanceFeatures",
                value: function () {
                    var t = this;
                    this.removeDistance(this.perpDistanceLine), this.longDistanceLines.forEach((function (e) {
                        return t.removeDistance(e)
                    })), this.jumpPoints.forEach((function (e) {
                        return t.removeDistance(e)
                    }))
                }
            }, {
                key: "hasGoop",
                value: function () {
                    return this.source && this.planeFeatures && this.source.getFeatures().includes(this.planeFeatures[0]) && !this.planeFeatures[0].get("hidden")
                }
            }, {
                key: "addGoop",
                value: function () {
                    this.planeFeatures && this.planeFeatures.forEach((function (t) {
                        return t.set("hidden", !1)
                    }))
                }
            }, {
                key: "clearGoop",
                value: function () {
                    this.planeFeatures && this.planeFeatures.forEach((function (t) {
                        return t.set("hidden", !0)
                    }))
                }
            }, {
                key: "add",
                value: function () {
                    this.map.map.addLayer(this.layer), qf(Jf(o.prototype), "add", this).call(this)
                }
            }, {
                key: "remove",
                value: function () {
                    this.map.map.removeLayer(this.layer), this.handlers.forEach((function (t) {
                        return Re(t)
                    })), this.handlers = [], qf(Jf(o.prototype), "remove", this).call(this)
                }
            }, {
                key: "dim",
                value: function () {
                    this.wantDim = !0, this.enabled && this.doDim()
                }
            }, {
                key: "undim",
                value: function () {
                    this.doUndim(), this.wantDim = !1
                }
            }, {
                key: "doDim",
                value: function () {
                    var t = this;
                    this.wantDim && this.map.dimLayers(1 / 3, (function (e) {
                        return e != t
                    }))
                }
            }, {
                key: "doUndim",
                value: function () {
                    this.wantDim && this.map.undimLayers()
                }
            }, {
                key: "enableInteraction",
                value: function () {
                    this.map.map.addInteraction(this.interaction), qf(Jf(o.prototype), "enableInteraction", this).call(this), this.doDim()
                }
            }, {
                key: "disableInteraction",
                value: function () {
                    this.removeDistanceFeatures(), this.map.map.removeInteraction(this.interaction), qf(Jf(o.prototype), "disableInteraction", this).call(this), this.doUndim()
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(o.prototype, n), o
        }(df),
        op = function () {
            var t = function (e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function (t, e) {
                        t.__proto__ = e
                    } || function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(e, n)
            };
            return function (e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        ip = function (t) {
            function e(e, n, r, o) {
                var i = t.call(this, e) || this;
                return i.selected = n, i.deselected = r, i.mapBrowserEvent = o, i
            }
            return op(e, t), e
        }(Te);

    function ap(t) {
        if (!this.condition_(t)) return !0;
        var e = this.addCondition_(t),
            n = this.removeCondition_(t),
            r = this.toggleCondition_(t),
            o = !e && !n && !r,
            i = t.map,
            a = this.getFeatures(),
            s = [],
            u = [];
        if (o) {
            ce(this.featureLayerAssociation_), i.forEachFeatureAtPixel(t.pixel, function (t, e) {
                if (this.filter_(t, e)) return u.push(t), this.addFeatureLayerAssociation_(t, e), !this.multi_
            }.bind(this), {
                layerFilter: this.layerFilter_,
                hitTolerance: this.hitTolerance_
            });
            for (var c = a.getLength() - 1; c >= 0; --c) {
                var l = a.item(c),
                    h = u.indexOf(l);
                h > -1 ? u.splice(h, 1) : (a.remove(l), s.push(l))
            }
            0 !== u.length && a.extend(u)
        } else {
            i.forEachFeatureAtPixel(t.pixel, function (t, o) {
                if (this.filter_(t, o)) return !e && !r || ve(a.getArray(), t) ? (n || r) && ve(a.getArray(), t) && (s.push(t), this.removeFeatureLayerAssociation_(t)) : (u.push(t), this.addFeatureLayerAssociation_(t, o)), !this.multi_
            }.bind(this), {
                layerFilter: this.layerFilter_,
                hitTolerance: this.hitTolerance_
            });
            for (var f = s.length - 1; f >= 0; --f) a.remove(s[f]);
            a.extend(u)
        }
        return (u.length > 0 || s.length > 0) && this.dispatchEvent(new ip("select", u, s, t)), !0
    }
    var sp = function (t) {
        function e(e) {
            var n, r, o = t.call(this, {
                    handleEvent: ap
                }) || this,
                i = e || {};
            if (o.condition_ = i.condition ? i.condition : Li, o.addCondition_ = i.addCondition ? i.addCondition : ki, o.removeCondition_ = i.removeCondition ? i.removeCondition : ki, o.toggleCondition_ = i.toggleCondition ? i.toggleCondition : Mi, o.multi_ = !!i.multi && i.multi, o.filter_ = i.filter ? i.filter : we, o.hitTolerance_ = i.hitTolerance ? i.hitTolerance : 0, o.style_ = void 0 !== i.style ? i.style : (be((n = Eu()).Polygon, n.LineString), be(n.GeometryCollection, n.LineString), function (t) {
                    return t.getGeometry() ? n[t.getGeometry().getType()] : null
                }), o.featureStyleAssociation_ = {}, o.features_ = i.features || new ze, i.layers)
                if ("function" == typeof i.layers) r = i.layers;
                else {
                    var a = i.layers;
                    r = function (t) {
                        return ve(a, t)
                    }
                }
            else r = we;
            o.layerFilter_ = r, o.featureLayerAssociation_ = {};
            var s = o.getFeatures();
            return s.addEventListener("add", o.addFeature_.bind(o)), s.addEventListener("remove", o.removeFeature_.bind(o)), o
        }
        return op(e, t), e.prototype.addFeatureLayerAssociation_ = function (t, e) {
            this.featureLayerAssociation_[oe(t)] = e
        }, e.prototype.getFeatures = function () {
            return this.features_
        }, e.prototype.getHitTolerance = function () {
            return this.hitTolerance_
        }, e.prototype.getLayer = function (t) {
            return this.featureLayerAssociation_[oe(t)]
        }, e.prototype.setHitTolerance = function (t) {
            this.hitTolerance_ = t
        }, e.prototype.setMap = function (e) {
            this.getMap() && this.style_ && this.features_.forEach(this.removeSelectedStyle_.bind(this)), t.prototype.setMap.call(this, e), e && this.style_ && this.features_.forEach(this.giveSelectedStyle_.bind(this))
        }, e.prototype.addFeature_ = function (t) {
            var e = t.element;
            this.style_ && this.giveSelectedStyle_(e)
        }, e.prototype.removeFeature_ = function (t) {
            var e = t.element;
            this.style_ && this.removeSelectedStyle_(e)
        }, e.prototype.giveSelectedStyle_ = function (t) {
            var e = oe(t);
            this.featureStyleAssociation_[e] = t.getStyle(), t.setStyle(this.style_)
        }, e.prototype.removeSelectedStyle_ = function (t) {
            var e = oe(t);
            t.setStyle(this.featureStyleAssociation_[e]), delete this.featureStyleAssociation_[e]
        }, e.prototype.removeFeatureLayerAssociation_ = function (t) {
            delete this.featureLayerAssociation_[oe(t)]
        }, e
    }(Si);

    function up(t) {
        return (up = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function cp(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = function (t, e) {
                    if (t) {
                        if ("string" == typeof t) return lp(t, void 0);
                        var n = Object.prototype.toString.call(t).slice(8, -1);
                        return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? lp(t, void 0) : void 0
                    }
                }(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function lp(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function hp(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function fp(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    hp(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    hp(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }

    function pp(t, e, n) {
        return (pp = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {
            var r = function (t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = gp(t)););
                return t
            }(t, e);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function dp(t, e) {
        return !e || "object" !== up(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function yp() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function gp(t) {
        return (gp = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function vp(t, e) {
        return (vp = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var mp = function (t) {
            ! function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && vp(t, e)
            }(s, t);
            var e, n, r, o, i, a = (e = s, function () {
                var t, n = gp(e);
                if (yp()) {
                    var r = gp(this).constructor;
                    t = Reflect.construct(n, arguments, r)
                } else t = n.apply(this, arguments);
                return dp(this, t)
            });

            function s(t, e, n, r, o) {
                var i;
                ! function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, s), (i = a.call(this, t, e)).geomEnum = r, i.getDesc = o, i.handlers = [], i.source = new su({
                    features: null == n ? [] : n.map((function (t) {
                        return new cu(new No(t))
                    }))
                });
                var u = new _h({
                        font: "bold 10pt Roboto, sans-serif",
                        fill: new bu({
                            color: "rgba(0,0,0,1)"
                        }),
                        stroke: new xu({
                            color: "rgba(255,255,255,0.6)",
                            width: 3
                        })
                    }),
                    c = new _h({
                        font: "bold 16pt Roboto, sans-serif",
                        fill: new bu({
                            color: "rgba(0,0,155,1)"
                        }),
                        stroke: new xu({
                            color: "rgba(255,255,255,0.6)",
                            width: 3
                        }),
                        overflow: !0
                    }),
                    l = new Ou({
                        stroke: new xu({
                            color: "rgba(205,89,255,0.75)",
                            width: 2
                        }),
                        fill: new bu({
                            color: "rgba(100,200,100,0.2)"
                        }),
                        text: u
                    });
                i.layer = new Hc({
                    source: i.source,
                    style: l,
                    zIndex: t,
                    visible: !0
                }), i.baseStyle = i.layer.getStyle(), i.drawInteraction = new hf({
                    source: i.source,
                    style: new Ou({
                        stroke: new xu({
                            color: "rgba(255,255,255,0.5)",
                            lineDash: [10, 5],
                            width: 2
                        }),
                        image: new _u({
                            radius: 5,
                            stroke: new xu({
                                color: "rgba(0,0,0,0.7)"
                            }),
                            fill: new bu({
                                color: "rgba(255,255,255,0.2)"
                            })
                        })
                    }),
                    type: "Polygon",
                    condition: function (t) {
                        var e = t;
                        return e.pointerEvent && 0 !== e.pointerEvent.button ? (i.abortDrawing(), !1) : ji(t)
                    }
                }), i.selectInteraction = new sp({
                    layers: [i.layer],
                    condition: Ri,
                    style: new Ou({
                        stroke: new xu({
                            color: "rgba(205,89,255,1)",
                            width: 3
                        }),
                        fill: new bu({
                            color: "rgba(150,250,150,0.3)"
                        })
                    })
                }), i.selectInteraction.on("select", (function (t) {
                    if (t.deselected.length > 0 && i.tooltip && (i.map.map.removeOverlay(i.tooltip), i.tooltip = void 0), t.selected.length > 0) {
                        var e = i.measureSketch,
                            n = e && e.getGeometry();
                        if ((n && n.getCoordinates() && n.getCoordinates()[0] && n.getCoordinates()[0].length || 0) > 3) return void i.selectInteraction.getFeatures().clear();
                        i.abortDrawing();
                        var r = t.selected[0];
                        i.tooltip = function (t) {
                            var e = document.createElement("div");
                            e.innerHTML = '\n            <div class="close-tooltip" title="close"><i class="fa fa-times-circle fa-1"></i></div>\n            <div class="delete-tooltip" title="delete"><i class="fa fa-minus-circle fa-1"></i></div>\n            <div class="description"></div>\n            ', e.className = "tooltip-overlay bltail";
                            var n = new ef({
                                insertFirst: !1,
                                stopEvent: !0,
                                element: e,
                                offset: [0, -14],
                                positioning: "bottom-left"
                            });
                            return n.set("feature", t), n.setPosition(function (t) {
                                return t.getGeometry().getClosestPoint([10 * i.P.dimensions[0], 10 * i.P.dimensions[1]])
                            }(t)), n
                        }(r), i.map.map.addOverlay(i.tooltip), i.tooltip.getElement().querySelector(".delete-tooltip").addEventListener("click", (function () {
                            i.emit("compcart-remove", r.getGeometry()), i.source.removeFeature(r), i.selectInteraction.getFeatures().clear(), i.map.map.removeOverlay(i.tooltip), i.tooltip = void 0
                        })), i.tooltip.getElement().querySelector(".close-tooltip").addEventListener("click", (function () {
                            i.selectInteraction.getFeatures().clear(), i.map.map.removeOverlay(i.tooltip), i.tooltip = void 0
                        })), i.emit("compcart-select", r.getGeometry(), i.tooltip.getElement().querySelector(".description"))
                    }
                })), i.drawInteraction.on("drawstart", (function (t) {
                    i.measureSketch = t.feature, i.emit("compcart-start"), i.addFeature = !0
                })), i.drawInteraction.on("drawend", (function () {
                    var t = i.measureSketch.getGeometry();
                    i.setStyle(i.measureSketch), i.addFeature && i.emit("compcart-end", t), i.measureSketch = void 0
                }));
                var h = [];
                return i.handlers.push(i.map.map.on("pointermove", (function (t) {
                    requestAnimationFrame((function () {
                        var e = i.source.getFeaturesAtCoordinate(t.coordinate),
                            n = function (t, e) {
                                var n = t.getStyle();
                                if (n.getText()) {
                                    var r = n.getText().getText();
                                    n.setText(e.clone()), n.getText().setText(r), t.changed()
                                }
                            };
                        h.filter((function (t) {
                            return !e.includes(t)
                        })).forEach((function (t) {
                            n(t, u)
                        })), e.forEach((function (t) {
                            n(t, c)
                        })), h = e
                    }))
                }))), i.setStyles(), i
            }
            return n = s, (r = [{
                key: "setOpacity",
                value: function (t) {
                    this.layer && this.layer.setOpacity(t)
                }
            }, {
                key: "abortDrawing",
                value: function () {
                    var t = this.measureSketch;
                    return this.addFeature = !1, this.drawInteraction.finishDrawing(), t && this.source.removeFeature(t), !!t
                }
            }, {
                key: "setStyle",
                value: (i = fp(regeneratorRuntime.mark((function t(e) {
                    var n, r;
                    return regeneratorRuntime.wrap((function (t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, this.getDesc(e.getGeometry());
                            case 2:
                                n = t.sent, (r = this.baseStyle.clone()).getText().setText(n.desc), r.getFill().setColor(n.bgColor), e.setStyle(r);
                            case 7:
                            case "end":
                                return t.stop()
                        }
                    }), t, this)
                }))), function (t) {
                    return i.apply(this, arguments)
                })
            }, {
                key: "setStyles",
                value: (o = fp(regeneratorRuntime.mark((function t() {
                    var e, n, r;
                    return regeneratorRuntime.wrap((function (t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                if (!this.getDesc) {
                                    t.next = 21;
                                    break
                                }
                                if (!this.geomEnum) {
                                    t.next = 4;
                                    break
                                }
                                return t.next = 4, this.geomEnum(this.source.getFeatures().map((function (t) {
                                    return t.getGeometry()
                                })));
                            case 4:
                                e = cp(this.source.getFeatures()), t.prev = 5, e.s();
                            case 7:
                                if ((n = e.n()).done) {
                                    t.next = 13;
                                    break
                                }
                                return r = n.value, t.next = 11, this.setStyle(r);
                            case 11:
                                t.next = 7;
                                break;
                            case 13:
                                t.next = 18;
                                break;
                            case 15:
                                t.prev = 15, t.t0 = t.catch(5), e.e(t.t0);
                            case 18:
                                return t.prev = 18, e.f(), t.finish(18);
                            case 21:
                            case "end":
                                return t.stop()
                        }
                    }), t, this, [
                        [5, 15, 18, 21]
                    ])
                }))), function () {
                    return o.apply(this, arguments)
                })
            }, {
                key: "clearTooltip",
                value: function () {
                    this.tooltip && (this.map.map.removeOverlay(this.tooltip), this.tooltip = void 0)
                }
            }, {
                key: "add",
                value: function () {
                    this.map.map.addLayer(this.layer), pp(gp(s.prototype), "add", this).call(this)
                }
            }, {
                key: "remove",
                value: function () {
                    this.map.map.removeLayer(this.layer), this.handlers.forEach((function (t) {
                        return Re(t)
                    })), this.handlers = [], this.clearTooltip(), pp(gp(s.prototype), "remove", this).call(this)
                }
            }, {
                key: "enableInteraction",
                value: function () {
                    this.map.map.addInteraction(this.drawInteraction), this.map.map.addInteraction(this.selectInteraction), pp(gp(s.prototype), "enableInteraction", this).call(this)
                }
            }, {
                key: "disableInteraction",
                value: function () {
                    this.map.map.removeInteraction(this.drawInteraction), this.map.map.removeInteraction(this.selectInteraction), this.clearTooltip(), pp(gp(s.prototype), "disableInteraction", this).call(this)
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(n.prototype, r), s
        }(df),
        _p = n(58),
        bp = n.n(_p);
    n(301);
    var xp = function t(e, n, r) {
            ! function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this.fetchFunction = e, this.map = n, this.baseMap = r
        },
        wp = [
            [0, Rh.from("#aaf")],
            [.5, Rh.from("#afa")],
            [1, Rh.from("#faa")]
        ];

    function Sp(t, e) {
        var n = Math.log10(10 * t) / Math.log10(10 * e);
        return isFinite(n) || (n = 0), Rh.scale(n, wp)
    }

    function Cp(t) {
        return (Cp = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ep(t, e) {
        return function (t) {
            if (Array.isArray(t)) return t
        }(t) || function (t, e) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) {
                var n = [],
                    r = !0,
                    o = !1,
                    i = void 0;
                try {
                    for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); r = !0);
                } catch (t) {
                    o = !0, i = t
                } finally {
                    try {
                        r || null == s.return || s.return()
                    } finally {
                        if (o) throw i
                    }
                }
                return n
            }
        }(t, e) || Op(t, e) || function () {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function Tp(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = Op(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function Op(t, e) {
        if (t) {
            if ("string" == typeof t) return Pp(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Pp(t, e) : void 0
        }
    }

    function Pp(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function Ap(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function Rp(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    Ap(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    Ap(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }

    function Ip(t, e) {
        return !e || "object" !== Cp(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function kp() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function Lp(t) {
        return (Lp = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function jp(t, e) {
        return (jp = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Mp = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && jp(t, e)
        }(c, t);
        var e, n, r, o, i, a, s, u = (e = c, function () {
            var t, n = Lp(e);
            if (kp()) {
                var r = Lp(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return Ip(this, t)
        });

        function c(t, e, n) {
            var r;
            return function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, c), (r = u.call(this, t, e, n)).lootCache = new Map, r.lootMax = 1, r.selectedType = void 0, r
        }
        return n = c, (r = [{
            key: "getLoot",
            value: (s = Rp(regeneratorRuntime.mark((function t(e) {
                var n, r, o = this;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (!this.lootCache.has(e)) {
                                t.next = 2;
                                break
                            }
                            return t.abrupt("return", this.lootCache.get(e));
                        case 2:
                            return t.next = 4, this.fetchFunction();
                        case 4:
                            return n = t.sent.filter((function (t) {
                                return o.map.spotIntersects(e, t)
                            })), r = bp()(n, (function (t) {
                                return t.groupType.slice(-1) + t.type.slice(-1)
                            })), this.lootCache.set(e, [n, r]), t.abrupt("return", [n, r]);
                        case 8:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t) {
                return s.apply(this, arguments)
            })
        }, {
            key: "enumGeom",
            value: (a = Rp(regeneratorRuntime.mark((function t(e) {
                var n, r, o, i, a, s;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return this.lootMax = 1, t.next = 3, this.fetchFunction();
                        case 3:
                            n = Tp(e), t.prev = 4, n.s();
                        case 6:
                            if ((r = n.n()).done) {
                                t.next = 16;
                                break
                            }
                            return o = r.value, t.next = 10, this.getLoot(o);
                        case 10:
                            i = t.sent, a = Ep(i, 1), (s = a[0]).length > this.lootMax && (this.lootMax = s.length);
                        case 14:
                            t.next = 6;
                            break;
                        case 16:
                            t.next = 21;
                            break;
                        case 18:
                            t.prev = 18, t.t0 = t.catch(4), n.e(t.t0);
                        case 21:
                            return t.prev = 21, n.f(), t.finish(21);
                        case 24:
                        case "end":
                            return t.stop()
                    }
                }), t, this, [
                    [4, 18, 21, 24]
                ])
            }))), function (t) {
                return a.apply(this, arguments)
            })
        }, {
            key: "getDesc",
            value: (i = Rp(regeneratorRuntime.mark((function t(e) {
                var n, r, o, i, a;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, this.getLoot(e);
                        case 2:
                            return n = t.sent, r = Ep(n, 2), o = r[0], i = r[1], this.selectedType && "all" != this.selectedType && (o = i[this.selectedType] || []), (a = Sp(o.length, this.lootMax)).a = .3, t.abrupt("return", {
                                desc: o.length.toString(),
                                bgColor: a.toString()
                            });
                        case 10:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t) {
                return i.apply(this, arguments)
            })
        }, {
            key: "setDescription",
            value: (o = Rp(regeneratorRuntime.mark((function t(e, n) {
                var r, o, i, a, s, u, c, l, h, f, p;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, this.getLoot(e);
                        case 2:
                            for (r = t.sent, o = Ep(r, 2), i = o[0], a = o[1], s = 'Loot:<table class="loot">', u = 0, c = Object.entries(a); u < c.length; u++) l = Ep(c[u], 2), h = l[0], f = l[1], p = $('label[for="loot-'.concat(h, '"]')).first().text(), s += "<tr><td>".concat(p || h, "</td><td>").concat(f.length, "</td></tr>");
                            s += '<tr class="total"><td>Total</td><td>'.concat(i.length, "</td></tr>\n        </table>"), n.innerHTML = s;
                        case 10:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t, e) {
                return o.apply(this, arguments)
            })
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(n.prototype, r), c
    }(xp);

    function Dp(t) {
        return (Dp = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Fp(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = Gp(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function Gp(t, e) {
        if (t) {
            if ("string" == typeof t) return Np(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Np(t, e) : void 0
        }
    }

    function Np(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function zp(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function Bp(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    zp(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    zp(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }

    function Up(t, e) {
        return !e || "object" !== Dp(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Xp() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function Wp(t) {
        return (Wp = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Vp(t, e) {
        return (Vp = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Hp = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Vp(t, e)
        }(c, t);
        var e, n, r, o, i, a, s, u = (e = c, function () {
            var t, n = Wp(e);
            if (Xp()) {
                var r = Wp(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return Up(this, t)
        });

        function c(t, e, n) {
            var r;
            return function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, c), (r = u.call(this, t, e, n)).buildingCache = new Map, r.buildingMax = 1, r
        }
        return n = c, (r = [{
            key: "getBuildings",
            value: (s = Bp(regeneratorRuntime.mark((function t(e) {
                var n, r, o = this;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (!this.buildingCache.has(e)) {
                                t.next = 2;
                                break
                            }
                            return t.abrupt("return", this.buildingCache.get(e));
                        case 2:
                            return t.next = 4, this.fetchFunction();
                        case 4:
                            return n = t.sent, r = n.filter((function (t) {
                                return o.map.spotIntersects(e, t)
                            })), this.buildingCache.set(e, r), t.abrupt("return", r);
                        case 8:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t) {
                return s.apply(this, arguments)
            })
        }, {
            key: "enumGeom",
            value: (a = Bp(regeneratorRuntime.mark((function t(e) {
                var n, r, o, i;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            this.buildingMax = 1, n = Fp(e), t.prev = 2, n.s();
                        case 4:
                            if ((r = n.n()).done) {
                                t.next = 12;
                                break
                            }
                            return o = r.value, t.next = 8, this.getBuildings(o);
                        case 8:
                            (i = t.sent).length > this.buildingMax && (this.buildingMax = i.length);
                        case 10:
                            t.next = 4;
                            break;
                        case 12:
                            t.next = 17;
                            break;
                        case 14:
                            t.prev = 14, t.t0 = t.catch(2), n.e(t.t0);
                        case 17:
                            return t.prev = 17, n.f(), t.finish(17);
                        case 20:
                        case "end":
                            return t.stop()
                    }
                }), t, this, [
                    [2, 14, 17, 20]
                ])
            }))), function (t) {
                return a.apply(this, arguments)
            })
        }, {
            key: "getDesc",
            value: (i = Bp(regeneratorRuntime.mark((function t(e) {
                var n, r;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, this.getBuildings(e);
                        case 2:
                            return n = t.sent, (r = Sp(n.length, this.buildingMax)).a = .3, t.abrupt("return", {
                                desc: n.length.toString(),
                                bgColor: r.toString()
                            });
                        case 6:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t) {
                return i.apply(this, arguments)
            })
        }, {
            key: "setDescription",
            value: (o = Bp(regeneratorRuntime.mark((function t(e, n) {
                var r, o, i, a, s, u, c, l, h;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, this.getBuildings(e);
                        case 2:
                            r = t.sent, o = bp()(r, (function (t) {
                                return t.type
                            })), i = 'Buildings:<table class="loot">', a = Fp(Object.entries(o).sort((function (t, e) {
                                return e[1].length - t[1].length
                            })));
                            try {
                                for (a.s(); !(s = a.n()).done;) f = s.value, u = function (t) {
                                    if (Array.isArray(t)) return t
                                }(f) || function (t, e) {
                                    if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) {
                                        var n = [],
                                            r = !0,
                                            o = !1,
                                            i = void 0;
                                        try {
                                            for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), 2 !== n.length); r = !0);
                                        } catch (t) {
                                            o = !0, i = t
                                        } finally {
                                            try {
                                                r || null == s.return || s.return()
                                            } finally {
                                                if (o) throw i
                                            }
                                        }
                                        return n
                                    }
                                }(f) || Gp(f, 2) || function () {
                                    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                                }(), c = u[0], l = u[1], h = $('label[for="loot-'.concat(c, '"]')).first().text(), i += "<tr><td>".concat(h || c, "</td><td>").concat(l.length, "</td></tr>")
                            } catch (t) {
                                a.e(t)
                            } finally {
                                a.f()
                            }
                            i += '<tr class="total"><td>Total</td><td>'.concat(r.length, "</td></tr>\n        </table>"), n.innerHTML = i;
                        case 9:
                        case "end":
                            return t.stop()
                    }
                    var f
                }), t, this)
            }))), function (t, e) {
                return o.apply(this, arguments)
            })
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(n.prototype, r), c
    }(xp);

    function Yp(t) {
        return (Yp = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Zp(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = Kp(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function qp(t, e) {
        return function (t) {
            if (Array.isArray(t)) return t
        }(t) || function (t, e) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) {
                var n = [],
                    r = !0,
                    o = !1,
                    i = void 0;
                try {
                    for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); r = !0);
                } catch (t) {
                    o = !0, i = t
                } finally {
                    try {
                        r || null == s.return || s.return()
                    } finally {
                        if (o) throw i
                    }
                }
                return n
            }
        }(t, e) || Kp(t, e) || function () {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function Kp(t, e) {
        if (t) {
            if ("string" == typeof t) return $p(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? $p(t, e) : void 0
        }
    }

    function $p(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function Jp(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function Qp(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    Jp(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    Jp(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }

    function td(t, e) {
        return !e || "object" !== Yp(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ed() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function nd(t) {
        return (nd = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function rd(t, e) {
        return (rd = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var od = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && rd(t, e)
        }(l, t);
        var e, n, r, o, i, a, s, u, c = (e = l, function () {
            var t, n = nd(e);
            if (ed()) {
                var r = nd(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return td(this, t)
        });

        function l(t, e, n) {
            var r;
            return function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, l), (r = c.call(this, t, e, n)).lootCache = new Map, r.lootMax = 1, r.buildingCache = new Map, r.buildingMax = 1, r.lootBuildMax = .1, r
        }
        return n = l, (r = [{
            key: "getLoot",
            value: (u = Qp(regeneratorRuntime.mark((function t(e) {
                var n, r, o, i, a, s = this;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (!this.lootCache.has(e)) {
                                t.next = 2;
                                break
                            }
                            return t.abrupt("return", this.lootCache.get(e));
                        case 2:
                            return t.next = 4, this.fetchFunction();
                        case 4:
                            return n = t.sent, r = qp(n, 1), o = r[0], i = o.filter((function (t) {
                                return s.map.spotIntersects(e, t)
                            })), a = bp()(i, (function (t) {
                                return t.groupType.slice(-1) + t.type.slice(-1)
                            })), this.lootCache.set(e, [i, a]), t.abrupt("return", [i, a]);
                        case 10:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t) {
                return u.apply(this, arguments)
            })
        }, {
            key: "getBuildings",
            value: (s = Qp(regeneratorRuntime.mark((function t(e) {
                var n, r, o, i, a = this;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (!this.buildingCache.has(e)) {
                                t.next = 2;
                                break
                            }
                            return t.abrupt("return", this.buildingCache.get(e));
                        case 2:
                            return t.next = 4, this.fetchFunction();
                        case 4:
                            return n = t.sent, r = qp(n, 2), o = r[1], i = o.filter((function (t) {
                                return a.map.spotIntersects(e, t)
                            })), this.buildingCache.set(e, i), t.abrupt("return", i);
                        case 10:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t) {
                return s.apply(this, arguments)
            })
        }, {
            key: "enumGeom",
            value: (a = Qp(regeneratorRuntime.mark((function t(e) {
                var n, r, o, i, a, s, u, c;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            this.lootMax = 1, this.buildingMax = 1, this.lootBuildMax = .1, this.lootCache.clear(), this.buildingCache.clear(), n = Zp(e), t.prev = 6, n.s();
                        case 8:
                            if ((r = n.n()).done) {
                                t.next = 24;
                                break
                            }
                            return o = r.value, t.next = 12, this.getLoot(o);
                        case 12:
                            return i = t.sent, a = qp(i, 1), (s = a[0]).length > this.lootMax && (this.lootMax = s.length), t.next = 18, this.getBuildings(o);
                        case 18:
                            (u = t.sent).length > this.buildingMax && (this.buildingMax = u.length), c = s.length / u.length, u.length > 0 && c > this.lootBuildMax && (this.lootBuildMax = c);
                        case 22:
                            t.next = 8;
                            break;
                        case 24:
                            t.next = 29;
                            break;
                        case 26:
                            t.prev = 26, t.t0 = t.catch(6), n.e(t.t0);
                        case 29:
                            return t.prev = 29, n.f(), t.finish(29);
                        case 32:
                        case "end":
                            return t.stop()
                    }
                }), t, this, [
                    [6, 26, 29, 32]
                ])
            }))), function (t) {
                return a.apply(this, arguments)
            })
        }, {
            key: "getDesc",
            value: (i = Qp(regeneratorRuntime.mark((function t(e) {
                var n, r, o, i, a, s;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, this.getLoot(e);
                        case 2:
                            return n = t.sent, r = qp(n, 2), o = r[0], r[1], t.next = 8, this.getBuildings(e);
                        case 8:
                            return i = t.sent, a = 0 == i.length ? 0 : o.length / i.length, (s = Sp(a, this.lootBuildMax)).a = .3, t.abrupt("return", {
                                desc: a.toFixed(2),
                                bgColor: s.toString()
                            });
                        case 13:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t) {
                return i.apply(this, arguments)
            })
        }, {
            key: "setDescription",
            value: (o = Qp(regeneratorRuntime.mark((function t(e, n) {
                var r, o, i, a, s, u, c, l, h, f, p, d, y;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, this.getLoot(e);
                        case 2:
                            return r = t.sent, o = qp(r, 2), i = o[0], a = o[1], t.next = 8, this.getBuildings(e);
                        case 8:
                            for (s = t.sent, u = 0 == s.length ? 0 : i.length / s.length, c = '<table class="loot">\n        <tr><td>Loot/Buildings</td><td>'.concat(u.toFixed(2), "</td></tr>\n        <tr><td colspan=2><hr></td></tr>\n        <tr><td>Loot</td><td>").concat(i.length, "</td></tr>\n        <tr><td>Buildings</td><td>").concat(s.length, "</td></tr>\n        <tr><td colspan=2><hr></td></tr>\n        <tr><td>Loot Max</td><td>").concat(this.lootMax, "</td></tr>\n        <tr><td>Building Max</td><td>").concat(this.buildingMax, "</td></tr>\n        <tr><td colspan=2><hr></td></tr>\n        "), l = 0, h = Object.entries(a); l < h.length; l++) f = qp(h[l], 2), p = f[0], d = f[1], y = $('label[for="loot-'.concat(p, '"]')).first().text(), c += "<tr><td>".concat(y || p, "</td><td>").concat(d.length, "</td></tr>");
                            c += '<tr class="total"><td>Total</td><td>'.concat(i.length, "</td></tr>\n        </table>"), n.innerHTML = c;
                        case 14:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t, e) {
                return o.apply(this, arguments)
            })
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(n.prototype, r), l
    }(xp);

    function id(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function ad(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function sd(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    ad(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    ad(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }

    function ud(t, e) {
        var n, r, o, i = {
                LootInspector: Mp,
                BuildingInspector: Hp,
                LootBuildingInspector: od
            },
            a = {
                LootInspector: (o = sd(regeneratorRuntime.mark((function t() {
                    return regeneratorRuntime.wrap((function (t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, e.loot.load();
                            case 2:
                                return t.abrupt("return", e.loot.spots);
                            case 3:
                            case "end":
                                return t.stop()
                        }
                    }), t)
                }))), function () {
                    return o.apply(this, arguments)
                }),
                BuildingInspector: (r = sd(regeneratorRuntime.mark((function t() {
                    return regeneratorRuntime.wrap((function (t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, e.meshes.get("buildings");
                            case 2:
                                return t.abrupt("return", t.sent);
                            case 3:
                            case "end":
                                return t.stop()
                        }
                    }), t)
                }))), function () {
                    return r.apply(this, arguments)
                }),
                LootBuildingInspector: (n = sd(regeneratorRuntime.mark((function t() {
                    var n, r, o;
                    return regeneratorRuntime.wrap((function (t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, Promise.all([e.loot.load(), e.meshes.get("buildings")]);
                            case 2:
                                return n = t.sent, r = function (t) {
                                    if (Array.isArray(t)) return t
                                }(i = n) || function (t, e) {
                                    if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) {
                                        var n = [],
                                            r = !0,
                                            o = !1,
                                            i = void 0;
                                        try {
                                            for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), 2 !== n.length); r = !0);
                                        } catch (t) {
                                            o = !0, i = t
                                        } finally {
                                            try {
                                                r || null == s.return || s.return()
                                            } finally {
                                                if (o) throw i
                                            }
                                        }
                                        return n
                                    }
                                }(i) || function (t, e) {
                                    if (t) {
                                        if ("string" == typeof t) return id(t, 2);
                                        var n = Object.prototype.toString.call(t).slice(8, -1);
                                        return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? id(t, 2) : void 0
                                    }
                                }(i) || function () {
                                    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                                }(), o = r[1], t.abrupt("return", [e.loot.spots, o]);
                            case 6:
                            case "end":
                                return t.stop()
                        }
                        var i
                    }), t)
                }))), function () {
                    return n.apply(this, arguments)
                })
            };
        if (i[t]) return new i[t](a[t], e.map, e)
    }
    var cd = n(178),
        ld = n.n(cd),
        hd = n(179),
        fd = n.n(hd);

    function pd(t) {
        return (pd = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function dd(t, e) {
        if (t) {
            if ("string" == typeof t) return yd(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? yd(t, e) : void 0
        }
    }

    function yd(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function gd(t, e, n) {
        return (gd = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {
            var r = function (t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = _d(t)););
                return t
            }(t, e);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function vd(t, e) {
        return !e || "object" !== pd(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function md() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function _d(t) {
        return (_d = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function bd(t, e) {
        return (bd = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var xd = [201029, 255880, 315876, 196809, 282172, 270304, 50578, 234400, 331944, 111170],
        wd = function (t) {
            ! function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && bd(t, e)
            }(o, t);
            var e, n, r = (e = o, function () {
                var t, n = _d(e);
                if (md()) {
                    var r = _d(this).constructor;
                    t = Reflect.construct(n, arguments, r)
                } else t = n.apply(this, arguments);
                return vd(this, t)
            });

            function o(t, e, n, i, a) {
                var s;
                ! function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, o), (s = r.call(this, t, e)).spots = n, s.filter = i, s.buildings = {}, s.colorArray = new Array, s.colorIndex = 0, void 0 === i && (s.filter = []);
                for (var u = Rh.from(Ih(s.colorIndex++), .4).toString(), c = 0; c < a.length; c++) {
                    var l = a[c];
                    Ih(s.colorIndex + c).a = .8, s.buildings[l] = {
                        id: l,
                        highlighted: i.includes(l),
                        features: []
                    }
                }
                var h, f = [],
                    p = function (t) {
                        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
                            if (Array.isArray(t) || (t = dd(t))) {
                                var e = 0,
                                    n = function () {};
                                return {
                                    s: n,
                                    n: function () {
                                        return e >= t.length ? {
                                            done: !0
                                        } : {
                                            done: !1,
                                            value: t[e++]
                                        }
                                    },
                                    e: function (t) {
                                        throw t
                                    },
                                    f: n
                                }
                            }
                            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }
                        var r, o, i = !0,
                            a = !1;
                        return {
                            s: function () {
                                r = t[Symbol.iterator]()
                            },
                            n: function () {
                                var t = r.next();
                                return i = t.done, t
                            },
                            e: function (t) {
                                a = !0, o = t
                            },
                            f: function () {
                                try {
                                    i || null == r.return || r.return()
                                } finally {
                                    if (a) throw o
                                }
                            }
                        }
                    }(n);
                try {
                    for (p.s(); !(h = p.n()).done;) {
                        var d = h.value,
                            y = (d.x - 42044) / .788,
                            g = Math.floor(10 * d.x % 10),
                            v = (d.y - 42044 + xd[g]) / .788,
                            m = new cu({
                                geometry: new Co(s.P.cx([y, v])),
                                spotObject: d
                            });
                        f.push(m), s.buildings[d.type].features.push(m)
                    }
                } catch (t) {
                    p.e(t)
                } finally {
                    p.f()
                }
                var _ = new su({
                        features: f
                    }),
                    b = (new mh({
                        source: _,
                        distance: 10
                    }), {}),
                    x = new Ic({
                        source: _,
                        style: function (t) {
                            var e = t.get("spotObject"),
                                n = s.buildings[e.type] || {},
                                r = s.getColor(n),
                                o = s.map.view.getResolution(),
                                i = n.highlighted ? "".concat(r).concat(o) : "none".concat(o),
                                a = (f.length, b[i]);
                            if (!a) {
                                var c = s.getScale(o, n.highlighted),
                                    l = new _h({
                                        scale: c,
                                        fill: new bu({
                                            color: "#fff"
                                        }),
                                        stroke: new xu({
                                            color: "#000",
                                            width: 1
                                        })
                                    });
                                a = n.highlighted ? new Ou({
                                    image: new _u({
                                        radius: 8 * c,
                                        stroke: new xu({
                                            color: "#fff"
                                        }),
                                        fill: new bu({
                                            color: r
                                        })
                                    }),
                                    text: l,
                                    zIndex: 1
                                }) : new Ou({
                                    image: new _u({
                                        radius: 6 * c,
                                        stroke: new xu({
                                            color: "rgba(175,175,175,0.7)"
                                        }),
                                        fill: new bu({
                                            color: u
                                        })
                                    }),
                                    text: l,
                                    zIndex: 0
                                }), b[i] = a
                            }
                            return a
                        },
                        visible: !0,
                        zIndex: t,
                        updateWhileAnimating: !1,
                        updateWhileInteracting: !1
                    });
                return s.layer = x, s.clickListener = function (t, e) {
                    s.closeTooltip();
                    var n = s.map.map.getFeaturesAtPixel(e.pixel, {
                        layerFilter: function (t) {
                            return x == t
                        }
                    });
                    if (n) {
                        var r = n,
                            o = r.map((function (t) {
                                return t.get("spotObject")
                            }));
                        if (r.length) {
                            var i = ld()(r.map((function (t) {
                                    return t.get("spotObject").type
                                }))),
                                a = void 0 !== i.find((function (t) {
                                    return s.buildings[t].highlighted
                                }));
                            i.forEach((function (t) {
                                var e = s.buildings[t];
                                e.highlighted = !a, e.features.forEach((function (t) {
                                    return t.changed()
                                })), a && s.clearColor(e)
                            })), s.updateFilter(Object.values(s.buildings).filter((function (t) {
                                return t.highlighted
                            })).map((function (t) {
                                return t.id
                            })))
                        }
                        s.emit("click", o, r, t, e)
                    }
                }, s
            }
            return (n = [{
                key: "setOpacity",
                value: function (t) {
                    this.layer && this.layer.setOpacity(t)
                }
            }, {
                key: "getColor",
                value: function (t) {
                    var e = 0;
                    return t.highlighted && ((e = this.colorArray.indexOf(t)) < 0 && ((e = this.colorArray.indexOf(void 0)) >= 0 ? this.colorArray[e] = t : (e = this.colorArray.length, this.colorArray.push(t))), e += this.colorIndex), Ih(e).toString()
                }
            }, {
                key: "clearColor",
                value: function (t) {
                    var e = this.colorArray.indexOf(t);
                    e >= 0 && (this.colorArray[e] = void 0)
                }
            }, {
                key: "setFilter",
                value: function (t) {
                    var e = this;
                    this.updateFilter(t), Object.entries(this.buildings).forEach((function (n) {
                        var r, o = function (t) {
                                if (Array.isArray(t)) return t
                            }(r = n) || function (t, e) {
                                if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) {
                                    var n = [],
                                        r = !0,
                                        o = !1,
                                        i = void 0;
                                    try {
                                        for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), 2 !== n.length); r = !0);
                                    } catch (t) {
                                        o = !0, i = t
                                    } finally {
                                        try {
                                            r || null == s.return || s.return()
                                        } finally {
                                            if (o) throw i
                                        }
                                    }
                                    return n
                                }
                            }(r) || dd(r, 2) || function () {
                                throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                            }(),
                            i = o[0],
                            a = o[1],
                            s = t.includes(i);
                        a.highlighted != s && (a.highlighted = s, a.features.forEach((function (t) {
                            return t.changed()
                        }))), s || e.clearColor(a)
                    }))
                }
            }, {
                key: "updateFilter",
                value: function (t) {
                    this.filter = t, this.emit("filterchanged", this.filter)
                }
            }, {
                key: "getScale",
                value: function (t, e) {
                    void 0 === t && (t = this.map.view.getResolution());
                    var n = this.map.view.getZoomForResolution(t),
                        r = 1;
                    return e && (n = Bc(n, 2, Number.MAX_VALUE), t = this.map.view.getResolutionForZoom(n)), r = n < 3.25 ? 1.75 / (t / 2) : n > 5 ? 1 + .5 * (n - 5) : 1, e && (r *= 1.1), r
                }
            }, {
                key: "showTooltip",
                value: function (t, e) {
                    var n = this;
                    this.closeTooltip();
                    var r = document.createElement("div");
                    r.className = "tooltip-overlay buildings tail", r.innerHTML = fd()({
                        content: t
                    });
                    var o = r.querySelector(".close-tooltip");
                    o && o.addEventListener("click", (function (t) {
                        return n.closeTooltip()
                    })), this.tooltip = new ef({
                        insertFirst: !1,
                        stopEvent: !0,
                        element: r,
                        offset: [0, -14],
                        positioning: "bottom-center"
                    }), this.map.map.addOverlay(this.tooltip), this.tooltip.setPosition(this.P.cx(e))
                }
            }, {
                key: "closeTooltip",
                value: function () {
                    this.tooltip && (this.map.map.removeOverlay(this.tooltip), this.tooltip = void 0)
                }
            }, {
                key: "add",
                value: function () {
                    this.map.map.addLayer(this.layer), gd(_d(o.prototype), "add", this).call(this)
                }
            }, {
                key: "remove",
                value: function () {
                    this.map.map.removeLayer(this.layer), gd(_d(o.prototype), "remove", this).call(this)
                }
            }, {
                key: "enableInteraction",
                value: function () {
                    this.map.on("click", this.clickListener), gd(_d(o.prototype), "enableInteraction", this).call(this)
                }
            }, {
                key: "disableInteraction",
                value: function () {
                    this.map.off("click", this.clickListener), this.closeTooltip(), gd(_d(o.prototype), "disableInteraction", this).call(this)
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(o.prototype, n), o
        }(df),
        Sd = n(180);

    function Cd(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = function (t, e) {
                    if (t) {
                        if ("string" == typeof t) return Ed(t, void 0);
                        var n = Object.prototype.toString.call(t).slice(8, -1);
                        return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Ed(t, void 0) : void 0
                    }
                }(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function Ed(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }

    function Td(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function Od(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    Td(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    Td(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }

    function Pd(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }
    var Ad = {
            png: "image/png",
            jpg: "image/jpeg"
        },
        Rd = function () {
            function t(e, n) {
                var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 8192;
                Pd(this, t), this.map = e, this.view = n, this.dim = r
            }
            var e;
            return (e = [{
                key: "export",
                value: function () {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "png";
                    if (!this.map.get("_exporting")) {
                        this.map.set("_exporting", !0);
                        var n = 1 / this.view.getResolution(),
                            r = this.dim * n,
                            o = this.map.getViewport(),
                            i = [o.style.width, o.style.height],
                            a = this.map.getTargetElement(),
                            s = [a.style.width, a.style.height],
                            u = this.map.getSize(),
                            c = this.view.getCenter(),
                            l = a.querySelectorAll("#layer-switcher,.ol-control,.ol-mouse-position");
                        l.forEach((function (t) {
                            return t.style.display = "none"
                        })), console.log("export map of dimension ".concat(r), this.dim, this.view.getResolution());
                        var h = function () {
                            t.map.setSize(u), o.style.width = i[0], o.style.height = i[1], t.view.setCenter(c), a.style.width = s[0], a.style.height = s[1], t.map.set("_exporting", void 0), l.forEach((function (t) {
                                return t.style.display = ""
                            }))
                        };
                        try {
                            this.map.setSize([r, r]), a.style.width = a.style.height = o.style.width = o.style.height = "".concat(r, "px"), this.view.setCenter([this.dim / 2, this.dim / 2]);
                            var f = function () {
                                var t = [];
                                return a.querySelectorAll(".ol-layers canvas").forEach((function (e) {
                                    var n = e.toDataURL("image/png");
                                    if ("data:," !== n) {
                                        var r = new Promise((function (t, r) {
                                            var o = new Image(e.width, e.height);
                                            o.src = n, o.onload = function () {
                                                return t(o)
                                            }, o.onabort = r, o.onerror = r
                                        }));
                                        t.push(r)
                                    }
                                })), t
                            };
                            this.map.once("rendercomplete", (function (n) {
                                console.log("rendercomplete"), t.map.once("postrender", (function (t) {
                                    console.log("postrender");
                                    var n = f();
                                    Od(regeneratorRuntime.mark((function t() {
                                        var r, o, i, a, s, u;
                                        return regeneratorRuntime.wrap((function (t) {
                                            for (;;) switch (t.prev = t.next) {
                                                case 0:
                                                    return t.prev = 0, t.next = 3, Promise.all(n);
                                                case 3:
                                                    r = t.sent, console.log(r), o = document.createElement("canvas"), i = o.getContext("2d"), o.width = r[0].width, o.height = r[0].height, a = Cd(r);
                                                    try {
                                                        for (a.s(); !(s = a.n()).done;) u = s.value, i.drawImage(u, 0, 0)
                                                    } catch (t) {
                                                        a.e(t)
                                                    } finally {
                                                        a.f()
                                                    }
                                                    Object(Sd.saveAs)(o.toDataURL(Ad[e]), "map.".concat(e));
                                                case 12:
                                                    return t.prev = 12, h(), t.finish(12);
                                                case 15:
                                                case "end":
                                                    return t.stop()
                                            }
                                        }), t, null, [
                                            [0, , 12, 15]
                                        ])
                                    })))()
                                })), t.map.changed(), t.map.getView().changed(), t.map.getLayers().forEach((function (t) {
                                    return t.changed()
                                })), requestAnimationFrame((function () {}))
                            }))
                        } catch (t) {
                            throw h(), t
                        }
                    }
                }
            }]) && function (t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                }
            }(t.prototype, e), t
        }();

    function Id(t) {
        return (Id = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function kd(t, e, n) {
        return (kd = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {
            var r = function (t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Md(t)););
                return t
            }(t, e);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function Ld(t, e) {
        return !e || "object" !== Id(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function jd() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
        } catch (t) {
            return !1
        }
    }

    function Md(t) {
        return (Md = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Dd(t, e) {
        return (Dd = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Fd = function (t) {
        ! function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Dd(t, e)
        }(o, t);
        var e, n, r = (e = o, function () {
            var t, n = Md(e);
            if (jd()) {
                var r = Md(this).constructor;
                t = Reflect.construct(n, arguments, r)
            } else t = n.apply(this, arguments);
            return Ld(this, t)
        });

        function o(t, e) {
            var n;
            ! function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, o), (n = r.call(this, t, e)).source = new su;
            var i = new Ou({
                stroke: new xu({
                    width: 1,
                    color: "rgba(255,0,0,0.5)"
                })
            });
            n.layer = new Sc({
                source: n.source,
                style: new Ou({
                    fill: new bu({
                        color: "rgba(255,255,255,0.075)"
                    }),
                    stroke: new xu({
                        width: 2,
                        color: "#f00"
                    }),
                    image: new _u({
                        radius: 3,
                        fill: new bu({
                            color: "rgba(255,0,0,0.7)"
                        }),
                        stroke: new xu({
                            color: "rgba(0,0,0,0.7)",
                            width: 1
                        })
                    })
                }),
                zIndex: t
            });
            var a = e.P.fromMeters(Xf(n.map.currentMap.id)[0]);
            return n.interaction = new hf({
                type: "Point",
                source: n.source,
                geometryFunction: function (t, e) {
                    var n = t;
                    return e ? e.setCenter(n) : e = new Vh(n, a), console.log(e), e
                }
            }), n.interaction.on("drawstart", (function (t) {
                n.source.clear(), console.log("JumpRadius", "drawstart", t)
            })), n.interaction.on("drawend", (function (t) {
                console.log("JumpRadius", "drawend", t);
                var e = t.feature;
                if (e.getGeometry() instanceof Vh) {
                    var r = e.getGeometry().getCenter();
                    n.source.addFeature(new cu(new Co(r)));
                    var o = new cu(new Vh(r, a / 2));
                    o.setStyle(i), n.source.addFeature(o)
                }
            })), n
        }
        return (n = [{
            key: "setOpacity",
            value: function (t) {
                this.layer && this.layer.setOpacity(t)
            }
        }, {
            key: "add",
            value: function () {
                this.map.map.addLayer(this.layer), console.log("JumpRadius", "add"), kd(Md(o.prototype), "add", this).call(this)
            }
        }, {
            key: "remove",
            value: function () {
                this.map.map.removeLayer(this.layer), kd(Md(o.prototype), "remove", this).call(this)
            }
        }, {
            key: "enableInteraction",
            value: function () {
                this.map.map.addInteraction(this.interaction), kd(Md(o.prototype), "enableInteraction", this).call(this)
            }
        }, {
            key: "disableInteraction",
            value: function () {
                this.map.map.removeInteraction(this.interaction), kd(Md(o.prototype), "disableInteraction", this).call(this)
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(o.prototype, n), o
    }(df);

    function Gd(t) {
        return (Gd = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Nd(t) {
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (t = Xd(t))) {
                var e = 0,
                    n = function () {};
                return {
                    s: n,
                    n: function () {
                        return e >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[e++]
                        }
                    },
                    e: function (t) {
                        throw t
                    },
                    f: n
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, o, i = !0,
            a = !1;
        return {
            s: function () {
                r = t[Symbol.iterator]()
            },
            n: function () {
                var t = r.next();
                return i = t.done, t
            },
            e: function (t) {
                a = !0, o = t
            },
            f: function () {
                try {
                    i || null == r.return || r.return()
                } finally {
                    if (a) throw o
                }
            }
        }
    }

    function zd(t, e, n, r, o, i, a) {
        try {
            var s = t[i](a),
                u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, o)
    }

    function Bd(t) {
        return function () {
            var e = this,
                n = arguments;
            return new Promise((function (r, o) {
                var i = t.apply(e, n);

                function a(t) {
                    zd(i, r, o, a, s, "next", t)
                }

                function s(t) {
                    zd(i, r, o, a, s, "throw", t)
                }
                a(void 0)
            }))
        }
    }

    function Ud(t, e) {
        return function (t) {
            if (Array.isArray(t)) return t
        }(t) || function (t, e) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) {
                var n = [],
                    r = !0,
                    o = !1,
                    i = void 0;
                try {
                    for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); r = !0);
                } catch (t) {
                    o = !0, i = t
                } finally {
                    try {
                        r || null == s.return || s.return()
                    } finally {
                        if (o) throw i
                    }
                }
                return n
            }
        }(t, e) || Xd(t, e) || function () {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function Xd(t, e) {
        if (t) {
            if ("string" == typeof t) return Wd(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Array.from(n) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Wd(t, e) : void 0
        }
    }

    function Wd(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r
    }
    var Vd = n.e(1).then(n.bind(null, 309)),
        Hd = n.e(0).then(n.t.bind(null, 308, 3)),
        Yd = function (t, e) {
            return d()(t, e, {
                arrayMerge: function (t, e) {
                    return e
                }
            })
        },
        Zd = {
            Erangel: "Baltic"
        };

    function qd(t) {
        return Zd[t] || t
    }
    var Kd = function () {
        function t() {
            ! function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this.infoCache = {}, this.options = {
                mapId: "Baltic",
                viewId: void 0,
                ol: {
                    center: [409600, 409600],
                    zoom: void 0,
                    rotation: 0,
                    renderer: "canvas",
                    markerZOrder: !0,
                    clusterDistance: 30,
                    heatWeight: 1,
                    displayCoordinates: Ol.Meters,
                    imageSmoothing: !1,
                    heatBlur: 25,
                    heatRadius: 15,
                    clusterMin: 0,
                    mapFilter: ""
                },
                isMobile: Wc.value,
                slurp: !1,
                tweakString: void 0,
                lootItem: void 0,
                vehicles: !0,
                vehicleBitfield: void 0,
                overlayBitfield: void 0,
                overlayMax: void 0,
                loot: void 0,
                lootCluster: !0,
                lootCategory: void 0,
                clusterMinAlpha: 0,
                clusterMaxAlpha: void 0,
                buildingsEnabled: void 0,
                buildingsList: void 0,
                areas: void 0,
                areasFilter: void 0,
                areasSize: void 0,
                displayDisabled: !1,
                clusterMeshes: !0,
                clusterWeight: .1,
                meshes: void 0,
                meshFilter: [],
                matFilter: [],
                insp: "LootInspector",
                export: !1
            }, this.settings = new ql({
                PLANE_PATH_DELAY: 15e4,
                PLANE_PATH_COUNTDOWN: ""
            }), this.loading = !1, this.selectorInitialized = !1, this.interactions = [], this.title = document.title;
            var e = function (t) {
                for (var e = 0, n = Object.entries(t); e < n.length; e++) {
                    var r = Ud(n[e], 2),
                        o = r[0];
                    void 0 === r[1] && delete t[o]
                }
                return t
            }(this.parseQuery(document.location.search || document.location.hash));
            this.options = Yd(this.options, e), this.options.mapId = qd(this.options.mapId), Wc.value = this.options.isMobile, this.options.export && l()("#export-control").addClass("enabled"), Wc.value || l()(document.body).addClass("nm");
            var n = this.getMap(this.options.mapId);
            if (void 0 !== this.options.vehicles && l()("#vehicle-toggle").prop("checked", this.options.vehicles), void 0 !== this.options.vehicleBitfield)
                for (var r = new Yc(this.options.vehicleBitfield), o = 0, i = 0, a = Object.entries(n.vehicleCategories); i < a.length; i++) {
                    var s = Ud(a[i], 2),
                        u = (s[0], s[1]);
                    u.display = r.get(o), u.display && !1 === u.enabled && !this.options.displayDisabled && (u.enabled = !0), o++
                }
            if (void 0 !== this.options.overlayBitfield)
                for (var c = new Yc(this.options.overlayBitfield), h = void 0 === this.options.overlayMax ? 1 : this.options.overlayMax, f = n.overlays, p = 0; p < f.length && p < h; p++) f[p].display = c.get(p);
            void 0 !== this.options.viewId && (n.view = this.options.viewId), void 0 !== this.options.loot && l()("#loot-toggle").prop("checked", this.options.loot), void 0 !== this.options.lootCluster && l()("#loot-cluster").prop("checked", this.options.lootCluster), void 0 !== this.options.areas && l()(zl()({})).insertAfter("#additional-controls"), void 0 !== this.options.meshes && l()(Ul()({})).insertAfter("#additional-controls"), l()("#vehicle-control").toggleClass("disabled", !this.options.vehicles), l()("#loot-control").toggleClass("disabled", !this.options.loot), this.map = new Al("map", this.options.ol), this.createEventHandlers(), this.loadVersion(), this.loadMap(n, this.options.lootCategory, this.options.buildingsList)
        }
        var e, n, r, i, s, c, h, f, p, d, y, g;
        return e = t, (n = [{
            key: "loadInfo",
            value: function (t) {
                this.vehicles && this.vehicles.abort(), this.loot && this.loot.abort(), this.areas && this.areas.abort(), this.meshes && this.meshes.abort(), this.infoCache[t.id] || (this.infoCache[t.id] = {
                    vehicles: new kt(t)
                }), this.vehicles = this.infoCache[t.id].vehicles, this.loot = new _t(t, this.options.slurp), this.areas = new $t(t), this.meshes = new Xt(t)
            }
        }, {
            key: "loadMap",
            value: (g = Bd(regeneratorRuntime.mark((function t(e, n, r) {
                var o, i, a, s;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if ("string" == typeof e && (e = qd(e), e = R.find((function (t) {
                                    return t.id === e
                                }))), e) {
                                t.next = 4;
                                break
                            }
                            throw console.warn(e), new Error("Couldn't find map ".concat(e));
                        case 4:
                            return this.emit("map-loading"), this.loading = !0, o = void 0, void 0 !== this.currentMap && (o = [e.projection.dimensions[0] / 2, e.projection.dimensions[1] / 2]), l()(document.body).removeClass(this.currentMap ? this.currentMap.id : "Nomap").addClass(e.id), this.currentMap = e, t.next = 12, this.map.loadMap(this.currentMap);
                        case 12:
                            this.stopTimer(), this.interactions.forEach((function (t) {
                                return t.removeInteraction()
                            })), this.loadInfo(e), n || (n = l()('input[name="loot-radio"]:checked').val()), e.lootTypes[n] || (n = "all"), l()("#loot-control").html(Hl()({
                                allChecked: !n || "all" == n,
                                lootTypes: Object.entries(e.lootTypes).map((function (t) {
                                    return {
                                        group: t[0],
                                        name: t[1],
                                        checked: t[0] == n
                                    }
                                }))
                            })), this.options.lootCategory = l()('input[name="loot-radio"]:checked').val(), (r || this.options.buildingsEnabled) && (this.currentMap.buildings = r || this.currentMap.buildings || []), this.updateVehicleSelectors(), this.updateOverlaySelectors(), this.map.overlays.clear(), i = Nd(e.overlays);
                            try {
                                for (i.s(); !(a = i.n()).done;) !1 !== (s = a.value).enabled ? this.updateOverlay(s) : !1 !== s.display && !1 === s.enabled && (s.display = !1)
                            } catch (t) {
                                i.e(t)
                            } finally {
                                i.f()
                            }
                            this.updateMapSelectors(), this.loadVehicles(), this.updateLootCount(!1), this.options.loot && this.loadLoot(), l()("#area-toggle").is(":checked") && this.loadAreas(), l()("#object-toggle").is(":checked") && this.loadMeshes(), this.loadEjectionAreas(), document.title = this.title + " - " + this.currentMap.name, o && (this.map.setCenter(o), this.map.zoomExtent()), this.updateQuery(this.map.getViewState()), this.loading = !1, this.emit("map-loaded");
                        case 37:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function (t, e, n) {
                return g.apply(this, arguments)
            })
        }, {
            key: "updateVehicleSelectors",
            value: function () {
                var t = this;
                l()("#vehicle-control").html(Dl()({
                    categories: u()(Object.entries(this.currentMap.vehicleCategories), [function (t) {
                        return t[1].displayIndex
                    }]).filter((function (e) {
                        return t.options.displayDisabled || !1 !== e[1].enabled
                    })).map((function (e) {
                        var n, r, o = t.vehicles.spotCount[e[0]],
                            i = t.vehicles.getRange(e[0]);
                        return void 0 === e[1].ratio && i && o ? n = "â‰ˆ".concat((r = i.avg, Math.round(r / o * 100)), "%") : void 0 !== e[1].ratio && (n = "â‰ˆ".concat(Math.round(100 * e[1].ratio), "%")), Object.assign({}, e[1], {
                            id: e[0],
                            className: !1 === e[1].display ? "unselected" : "",
                            count: o,
                            range: n,
                            countOrRange: o || n
                        })
                    }))
                }))
            }
        }, {
            key: "updateOverlaySelectors",
            value: function () {
                l()("#overlay-control").html(Wl()({
                    overlays: u()(this.currentMap.overlays, [function (t) {
                        return t.displayIndex
                    }]).filter((function (t) {
                        return !1 !== t.enabled
                    })).map((function (t) {
                        return Object.assign({
                            className: !1 === t.display ? "unselected" : ""
                        }, t)
                    }))
                }))
            }
        }, {
            key: "updateMapSelectors",
            value: function () {
                var t = this;
                if (this.selectorInitialized) {
                    var e = this.currentMap.id;
                    l()("#map-selector .map.selected").toggleClass("selected", !1), l()('#map-selector .map[data-id="'.concat(l.a.escapeSelector(e), '"]')).toggleClass("selected", !0)
                } else l()("#map-selector").html(Gl()({
                    maps: R.filter((function (t) {
                        return !1 !== t.displayIcon
                    })).map((function (e) {
                        return Object.assign({}, e, {
                            selected: e == t.currentMap
                        })
                    }))
                })), this.selectorInitialized = !0
            }
        }, {
            key: "updateOverlay",
            value: function (t) {
                var e = t.display || void 0 === t.display;
                t.virt ? "grid" === t.id && this.map.setGridVisible(e) : e ? this.map.overlays.addOverlay(t) : this.map.overlays.removeOverlay(t)
            }
        }, {
            key: "loadBuildings",
            value: (y = Bd(regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (this.meshes) {
                                t.next = 2;
                                break
                            }
                            return t.abrupt("return");
                        case 2:
                            return t.prev = 2, t.next = 5, this.meshes.get("buildings");
                        case 5:
                            this.buildingSpots = t.sent, t.next = 12;
                            break;
                        case 8:
                            t.prev = 8, t.t0 = t.catch(2), t.t0 instanceof B && console.warn(t.t0), console.error("Couldn't load meshes", t.t0);
                        case 12:
                            return t.abrupt("return", this.buildingSpots);
                        case 13:
                        case "end":
                            return t.stop()
                    }
                }), t, this, [
                    [2, 8]
                ])
            }))), function () {
                return y.apply(this, arguments)
            })
        }, {
            key: "createEventHandlers",
            value: function () {
                var t, e = this,
                    n = this;
                this.map.on("viewchange", a()((function (t) {
                    e.updateQuery(t)
                }), 1500, {
                    leading: !0
                })), this.map.layerSwitcher.on("select-layer", (function (t) {
                    t = "" + t, e.currentMap.view = t, e.updateQuery(n.map.getViewState())
                })), l()("#vehicle-control").on("click", "a", (function () {
                    l()(this).toggleClass("unselected"), n.currentMap.vehicleCategories[this.id].display = !l()(this).hasClass("unselected"), n.vehiclesLayer.setVehiclesVisible(this.id, !l()(this).hasClass("unselected")), n.updateQuery(n.map.getViewState())
                })), l()("#overlay-control").on("click", "a", (function () {
                    var t = this;
                    l()(this).toggleClass("unselected");
                    var e = n.currentMap.overlays.find((function (e) {
                        return e.id == t.id
                    }));
                    e && (e.display = !l()(this).hasClass("unselected"), n.updateOverlay(e), n.updateQuery(n.map.getViewState()))
                })), l()("#vehicle-toggle").on("change", (function () {
                    var t = l()(this).is(":checked");
                    n.options.vehicles = t, n.vehiclesLayer.setVisible(t), l()("#vehicle-control").toggleClass("disabled", !t), n.updateQuery(n.map.getViewState())
                })), l()("#loot-toggle").on("change", (function () {
                    var t = l()(this).is(":checked");
                    n.options.loot = t, n.loadLoot(), n.lootLayer && n.lootLayer.setVisible(t), t || n.updateLootCount(!1), l()("#loot-control").toggleClass("disabled", !t), n.updateQuery(n.map.getViewState())
                })), l()("#area-toggle").on("change", (function () {
                    n.loadAreas(), n.areasLayer && n.areasLayer.setVisible(l()("#areas-toggle").is(":checked"))
                })), l()("#object-toggle").on("change", (function () {
                    n.loadMeshes(), n.meshLayer.setVisible(l()("#object-toggle").is(":checked"))
                })), l()("#map-selector").on("click", ".map", (function () {
                    var t = l()(this).data("id");
                    n.loadMap(t)
                })), l()("#loot-control").on("change", 'input[name="loot-radio"]', (function () {
                    var t = l()('input[name="loot-radio"]:checked').val();
                    n.options.lootCategory = t.toString(), n.loot.spots && (n.addLootLayer(), n.updateLootCount()), n.updateQuery(n.map.getViewState())
                })), l()("#loot-cluster").on("change", (function () {
                    var t = l()(this).is(":checked");
                    n.options.lootCluster = t, n.addLootLayer(), n.updateQuery(n.map.getViewState())
                })), l()(window).on("hashchange", (function (t) {
                    document.location.reload(!0)
                }));
                var r = l()("#buildings-control .count"),
                    i = function () {
                        var t = Bd(regeneratorRuntime.mark((function t() {
                            var e, o, i;
                            return regeneratorRuntime.wrap((function (t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        return e = n.currentMap.buildings, t.next = 3, n.loadBuildings();
                                    case 3:
                                        if (t.t0 = t.sent, t.t0) {
                                            t.next = 6;
                                            break
                                        }
                                        t.t0 = [];
                                    case 6:
                                        o = t.t0, i = o.filter((function (t) {
                                            return e.includes(t.type)
                                        })).length, r.text(i);
                                    case 9:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        })));
                        return function () {
                            return t.apply(this, arguments)
                        }
                    }();
                this.buildingsControl = new jl(this.map, l()("#buildings-control"), Bd(regeneratorRuntime.mark((function e() {
                    var r;
                    return regeneratorRuntime.wrap((function (e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, n.loadBuildings();
                            case 2:
                                return r = e.sent, e.t0 = wd, e.t1 = 19999, e.t2 = n.map, e.t3 = r, e.t4 = n.currentMap.buildings, e.next = 10, Hd;
                            case 10:
                                return e.t5 = n.currentMap.id, e.t6 = e.sent[e.t5].map((function (t) {
                                    return t.id
                                })), (t = new e.t0(e.t1, e.t2, e.t3, e.t4, e.t6)).on("filterchanged", (function (t) {
                                    n.currentMap.buildings = t, n.updateQuery(n.map.getViewState()), i()
                                })), i(), e.abrupt("return", t);
                            case 16:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                }))));
                var s = !0;
                this.buildingsControl.on("enabled", (function (t) {
                    e.loading || (s = t)
                })), this.buildingsControl.on("created", (function () {
                    e.options.buildingsEnabled = !0, n.updateQuery(n.map.getViewState())
                })), this.buildingsControl.on("removed", (function () {
                    e.options.buildingsEnabled = !1, i(), n.updateQuery(n.map.getViewState())
                })), this.on("map-loaded", (function () {
                    i(), e.options.buildingsEnabled && e.buildingsControl.create(!0, s)
                })), l()("#buildings-clear").on("click", (function (e) {
                    e.preventDefault(), t.setFilter([])
                }));
                var u, c = new jl(this.map, l()("#distance-control"), (function () {
                    var t = this,
                        e = new kf(6e4, n.map);
                    return e.on("disable", (function () {
                        0 == e.measureTooltips.length && t.removeInteraction()
                    })), e
                }));
                this.interactions.push(c);
                var h = new jl(this.map, l()("#plane-path-control"), (function () {
                    var t = this;
                    (u = new rp(60100, n.map, n.ejectionAreas)).on("plane-path-start", y), u.on("plane-path-end", d);
                    var e = !1;
                    return u.on("plane-path-start", (function () {
                        return e = !1
                    })), u.on("plane-path-end", (function () {
                        return e = !0
                    })), u.on("disable", (function () {
                        e || t.removeInteraction()
                    })), u
                }));
                h.on("removed", (function () {
                    u = void 0, e.stopTimer()
                })), this.interactions.push(h), this.planePathTimer = new Il((function () {
                    u && u.clearGoop(), e.stopTimer()
                }), (function (t) {
                    return e.updatePlanePathCountdown(t)
                })), l()("#plane-path-control .countdown").on("click", (function (t) {
                    var e = prompt("Delay in seconds before the rainbow distance markers disappear leaving only the line.", (n.settings.PLANE_PATH_DELAY / 1e3).toString());
                    null != e && e.length > 0 && (n.settings.PLANE_PATH_DELAY = 1e3 * Math.max(5, parseInt(e)), n.planePathTimer.active && n.startTimer()), t.preventDefault()
                }));
                var f = n.settings.PLANE_PATH_COUNTDOWN.trim();
                f.length > 0 && l()("input[name=plane-path-countdown]#".concat(l.a.escapeSelector(f))).prop("checked", !0), l()("input[name=plane-path-countdown]").on("change", (function (t) {
                    if (n.settings.PLANE_PATH_COUNTDOWN = l()("input[name=plane-path-countdown]:checked").get(0).id, u) switch (n.timerState()) {
                        case "countdown":
                            u.addGoop(), n.startTimer();
                            break;
                        case "enabled":
                            u.addGoop(), n.stopTimer();
                            break;
                        case "disabled":
                            u.clearGoop(), n.stopTimer()
                    }
                }));
                var p = function () {
                        var t = Bd(regeneratorRuntime.mark((function t() {
                            return regeneratorRuntime.wrap((function (t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                    case 1:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        })));
                        return function () {
                            return t.apply(this, arguments)
                        }
                    }(),
                    d = function () {
                        var t = Bd(regeneratorRuntime.mark((function t(n) {
                            return regeneratorRuntime.wrap((function (t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        return e.startTimer(), t.next = 4, p();
                                    case 4:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        })));
                        return function (e) {
                            return t.apply(this, arguments)
                        }
                    }(),
                    y = function () {
                        "disabled" != n.timerState() && u.addGoop(), e.stopTimer()
                    };
                l()(".footnote label").on("click", (function () {
                    console.log(l()(this));
                    var t = l()(this).attr("for");
                    l()("#loot-toggle,#loot-cluster,#".concat(l.a.escapeSelector(t))).prop("checked", !0), l()("#loot-toggle").trigger("change")
                }));
                var g, v, m = {},
                    _ = function () {
                        v instanceof Mp && (v.selectedType = n.options.lootCategory)
                    };
                n.on("map-loaded", (function () {
                    m = {}
                }));
                var b, x = function () {
                        var t = Bd(regeneratorRuntime.mark((function t() {
                            var n, r, o, i, a, s;
                            return regeneratorRuntime.wrap((function (t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        return n = e.currentMap && e.currentMap.id, t.next = 3, Vd;
                                    case 3:
                                        if (t.t1 = n, t.t0 = t.sent.default[t.t1], t.t0) {
                                            t.next = 7;
                                            break
                                        }
                                        t.t0 = {
                                            value: []
                                        };
                                    case 7:
                                        r = t.t0, o = "compcart-coords-version-".concat(n), i = "compcart-coords-".concat(n), a = r.version, n && (s = localStorage[o] && parseInt(JSON.parse(localStorage[o])), a && (isNaN(s) || s < a) && (console.log("Updating map version..."), localStorage.removeItem("compcart-coords-".concat(n)), localStorage[o] = a));
                                        try {
                                            console.log("Load coords for ".concat(n, "... local: ").concat(localStorage.hasOwnProperty(i))), g = JSON.parse(localStorage[i])
                                        } catch (t) {
                                            console.log("Using defaults (version ".concat(a, ")")), g = r.value || []
                                        }
                                        g || (console.log("Using defaults (version ".concat(a, ")")), g = r.value || []), m[e.options.insp] ? v = m[e.options.insp] : (v = ud(e.options.insp, e)) ? m[e.options.insp] = v : console.error("Invalid inspector ".concat(e.options.insp)), _();
                                    case 16:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        })));
                        return function () {
                            return t.apply(this, arguments)
                        }
                    }(),
                    w = function () {
                        return localStorage["compcart-coords-".concat(e.currentMap.id)] = JSON.stringify(g)
                    };
                x(), this.on("map-loaded", (function () {
                    x()
                }));
                var S = l()("#cc-control .control .description .badge"),
                    C = function (t) {
                        t ? S.text("".concat(t.length)) : S.text("")
                    },
                    E = new jl(this.map, l()("#cc-control"), (function () {
                        return x(), b = new mp(60050, n.map, g, (function () {
                            return v && v.enumGeom.apply(v, arguments)
                        }), (function () {
                            return v && v.getDesc.apply(v, arguments)
                        })), C(g), b.on("compcart-end", function () {
                            var t = Bd(regeneratorRuntime.mark((function t(e) {
                                return regeneratorRuntime.wrap((function (t) {
                                    for (;;) switch (t.prev = t.next) {
                                        case 0:
                                            g.push(e.getCoordinates()), w(), C(g);
                                        case 3:
                                        case "end":
                                            return t.stop()
                                    }
                                }), t)
                            })));
                            return function (e) {
                                return t.apply(this, arguments)
                            }
                        }()), b.on("compcart-remove", (function (t) {
                            var e = t.getCoordinates();
                            g = g.filter((function (t) {
                                return !o()(t, e)
                            })), w(), C(g)
                        })), b.on("compcart-select", (function () {
                            v && v.setDescription.apply(v, arguments)
                        })), b
                    }));
                E.on("removed", (function () {
                    b = void 0, C(null)
                })), l()("#cc-control").on("change", 'input[name="cc-selector"]', (function () {
                    var t = this.id.split("-").splice(-1)[0];
                    n.options.insp = t, x(), b && b.setStyles()
                })), l()("#loot-control").on("change", 'input[name="loot-radio"]', (function () {
                    v instanceof Mp && (_(), b && b.setStyles())
                })), this.interactions.push(E);
                var T = new jl(this.map, l()("#jump-circle"), (function () {
                    return new Fd(60105, n.map)
                }));
                T.on("removed", (function () {})), this.interactions.push(T), l()("#export-image").on("click", function () {
                    var t = Bd(regeneratorRuntime.mark((function t(n) {
                        return regeneratorRuntime.wrap((function (t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    n.preventDefault(), new Rd(e.map.map, e.map.view).export();
                                case 3:
                                case "end":
                                    return t.stop()
                            }
                        }), t)
                    })));
                    return function (e) {
                        return t.apply(this, arguments)
                    }
                }()), l()("#export-image-jpg").on("click", function () {
                    var t = Bd(regeneratorRuntime.mark((function t(n) {
                        return regeneratorRuntime.wrap((function (t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    n.preventDefault(), new Rd(e.map.map, e.map.view).export("jpg");
                                case 3:
                                case "end":
                                    return t.stop()
                            }
                        }), t)
                    })));
                    return function (e) {
                        return t.apply(this, arguments)
                    }
                }())
            }
        }, {
            key: "timerState",
            value: function () {
                return l()("input[name=plane-path-countdown]:checked").get(0).id.split("-").slice(-1)[0]
            }
        }, {
            key: "startTimer",
            value: function () {
                "countdown" == this.timerState() && this.planePathTimer.start(this.settings.PLANE_PATH_DELAY)
            }
        }, {
            key: "stopTimer",
            value: function () {
                this.planePathTimer.abort(), this.updatePlanePathCountdown(-1)
            }
        }, {
            key: "updatePlanePathCountdown",
            value: function (t) {
                (t = Math.max(0, t)) > 0 ? l()("#plane-path-control .countdown").text("(".concat(Math.round(t / 1e3), ")")) : l()("#plane-path-control .countdown").text("")
            }
        }, {
            key: "loadEjectionAreas",
            value: (d = Bd(regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (this.ejectionAreas = void 0, this.areas) {
                                t.next = 3;
                                break
                            }
                            return t.abrupt("return");
                        case 3:
                            return t.prev = 3, t.next = 6, this.areas.get("ejectionAreas");
                        case 6:
                            this.ejectionAreas = t.sent, this.emit("ejection-loaded"), t.next = 13;
                            break;
                        case 10:
                            t.prev = 10, t.t0 = t.catch(3), t.t0 instanceof B ? console.warn(t.t0) : console.error("Couldn't load ejection areas", t.t0);
                        case 13:
                        case "end":
                            return t.stop()
                    }
                }), t, this, [
                    [3, 10]
                ])
            }))), function () {
                return d.apply(this, arguments)
            })
        }, {
            key: "getVehicles",
            value: (p = Bd(regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, this.vehicles.load();
                        case 2:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function () {
                return p.apply(this, arguments)
            })
        }, {
            key: "loadVehicles",
            value: (f = Bd(regeneratorRuntime.mark((function t() {
                var e, n, r, o = this;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (this.vehicles) {
                                t.next = 2;
                                break
                            }
                            return t.abrupt("return");
                        case 2:
                            return t.prev = 2, t.next = 5, this.getVehicles();
                        case 5:
                            for (this.map.removeLayer(this.vehiclesLayer), this.vehiclesLayer = new Uh(5e4, this.map), this.map.addLayer(this.vehiclesLayer), e = function () {
                                    var t = Ud(r[n], 2),
                                        e = t[0],
                                        i = t[1];
                                    o.vehiclesLayer.addVehicles(e, o.vehicles.spots.filter((function (t) {
                                        return t.type == e
                                    })), i)
                                }, n = 0, r = Object.entries(this.currentMap.vehicleCategories); n < r.length; n++) e();
                            this.vehiclesLayer.setVisible(this.options.vehicles), this.updateVehicleSelectors(), t.next = 17;
                            break;
                        case 14:
                            t.prev = 14, t.t0 = t.catch(2), t.t0 instanceof B ? console.warn(t.t0) : console.error("Couldn't load vehicles", t.t0);
                        case 17:
                        case "end":
                            return t.stop()
                    }
                }), t, this, [
                    [2, 14]
                ])
            }))), function () {
                return f.apply(this, arguments)
            })
        }, {
            key: "filterLoot",
            value: function (t) {
                var e = this,
                    n = this.options.lootCategory,
                    r = "EItemSpotGroupType::Group".concat(n[0]),
                    o = "EItemSpotType::Type".concat(n[1]);
                return "all" == n && (n = void 0), t.filter((function (t) {
                    return (!n || t.groupType == r && t.type == o) && (!e.options.lootItem || t.loot.itemRatios[e.options.lootItem] > 0)
                }))
            }
        }, {
            key: "addLootLayer",
            value: function () {
                var t = this;
                if (this.loot.spots && this.loot.spots.length > 0) {
                    var e = this.options.lootCategory;
                    "all" == e && (e = void 0);
                    var n = void 0,
                        r = this.options.lootItem;
                    this.options.lootItem && (n = this.loot.max(this.options.lootItem), console.log(n));
                    var o = this.options.loot;
                    o ? (this.map.removeLayer(this.lootLayer), this.lootLayer = new Oh(1e4, this.map, this.filterLoot(this.loot.spots), {
                        showHeatmap: !this.options.lootCluster,
                        weight: function (o) {
                            var i = o;
                            return null == e ? t.options.lootItem && n ? i.weight * (i.loot.itemRatios[r] / n) : i.loot ? i.weight * (i.loot.spotModifier / t.loot.maxRatio) : i.weight : i.weight
                        },
                        minAlphaScale: this.options.clusterMinAlpha,
                        maxAlphaScale: this.options.clusterMaxAlpha
                    }), this.lootLayer.setVisible(o), this.map.addLayer(this.lootLayer)) : (this.map.removeLayer(this.lootLayer), this.lootLayer = null)
                }
            }
        }, {
            key: "getLoot",
            value: (h = Bd(regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, this.loot.load();
                        case 2:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function () {
                return h.apply(this, arguments)
            })
        }, {
            key: "updateLootCount",
            value: function () {
                var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
                    e = l()("#loot-count");
                t && this.lootLayer && this.lootLayer.spots ? e.text("".concat(this.lootLayer.spots.length)) : e.text("")
            }
        }, {
            key: "loadLoot",
            value: (c = Bd(regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (this.loot) {
                                t.next = 2;
                                break
                            }
                            return t.abrupt("return");
                        case 2:
                            return t.prev = 2, t.next = 5, this.getLoot();
                        case 5:
                            this.addLootLayer(), this.updateLootCount(), t.next = 13;
                            break;
                        case 9:
                            t.prev = 9, t.t0 = t.catch(2), t.t0 instanceof B && console.warn(t.t0), console.error("Couldn't load loot", t.t0);
                        case 13:
                        case "end":
                            return t.stop()
                    }
                }), t, this, [
                    [2, 9]
                ])
            }))), function () {
                return c.apply(this, arguments)
            })
        }, {
            key: "loadAreas",
            value: (s = Bd(regeneratorRuntime.mark((function t() {
                var e, n, r, o, i, a = this;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (this.areas && this.options.areas) {
                                t.next = 2;
                                break
                            }
                            return t.abrupt("return");
                        case 2:
                            return t.prev = 2, t.next = 5, this.areas.get(this.options.areas);
                        case 5:
                            e = t.sent, n = Nd(e);
                            try {
                                for (n.s(); !(r = n.n()).done;) "circle" == (o = r.value).type && (null == o.radius && (o.radius = 1500), void 0 !== this.options.areasSize && (o.radius = this.options.areasSize))
                            } catch (t) {
                                n.e(t)
                            } finally {
                                n.f()
                            }
                            void 0 !== this.options.areasFilter && this.options.areasFilter.length > 0 && (i = "type", e[0].title ? i = "title" : e[0].name && (i = "name"), e = e.filter((function (t) {
                                return a.options.areasFilter.includes(t[i])
                            }))), this.map.removeLayer(this.areasLayer), this.areasLayer = new Qh(3e4, this.map, e), this.areasLayer.setVisible(l()("#area-toggle").is(":checked")), this.map.addLayer(this.areasLayer), t.next = 19;
                            break;
                        case 15:
                            t.prev = 15, t.t0 = t.catch(2), t.t0 instanceof B && console.warn(t.t0), console.error("Couldn't load areas", t.t0);
                        case 19:
                        case "end":
                            return t.stop()
                    }
                }), t, this, [
                    [2, 15]
                ])
            }))), function () {
                return s.apply(this, arguments)
            })
        }, {
            key: "loadMeshes",
            value: (i = Bd(regeneratorRuntime.mark((function t() {
                var e, n = this;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (this.meshes && this.options.meshes) {
                                t.next = 2;
                                break
                            }
                            return t.abrupt("return");
                        case 2:
                            return t.prev = 2, t.next = 5, this.meshes.get(this.options.meshes);
                        case 5:
                            e = t.sent, this.map.removeLayer(this.meshLayer), console.log(e), this.meshLayer = new Oh(2e4, this.map, e.filter((function (t) {
                                return (!n.options.meshFilter || !n.options.meshFilter.length || n.options.meshFilter.find((function (e) {
                                    return (t.type || "").indexOf(e) > -1
                                })) || n.options.meshFilter.find((function (e) {
                                    return (t.className || "").indexOf(e) > -1
                                }))) && (!n.options.matFilter || !n.options.matFilter.length || n.options.matFilter.find((function (e) {
                                    return (t.material || "").indexOf(e) > -1
                                })))
                            })), {
                                showHeatmap: !this.options.clusterMeshes,
                                weight: function (t) {
                                    return n.options.clusterWeight
                                }
                            }), this.meshLayer.setVisible(l()("#object-toggle").is(":checked")), this.map.addLayer(this.meshLayer), t.next = 17;
                            break;
                        case 13:
                            t.prev = 13, t.t0 = t.catch(2), t.t0 instanceof B && console.warn(t.t0), console.error("Couldn't load meshes", t.t0);
                        case 17:
                        case "end":
                            return t.stop()
                    }
                }), t, this, [
                    [2, 13]
                ])
            }))), function () {
                return i.apply(this, arguments)
            })
        }, {
            key: "loadVersion",
            value: (r = Bd(regeneratorRuntime.mark((function t() {
                var e;
                return regeneratorRuntime.wrap((function (t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return e = new it, t.next = 3, e.load();
                        case 3:
                            this.version = t.sent, console.log("PUBG ".concat(this.version));
                        case 5:
                        case "end":
                            return t.stop()
                    }
                }), t, this)
            }))), function () {
                return r.apply(this, arguments)
            })
        }, {
            key: "getVehicleBitfield",
            value: function () {
                for (var t = new Yc, e = 0, n = 0, r = Object.entries(this.currentMap.vehicleCategories); n < r.length; n++) {
                    var o = Ud(r[n], 2),
                        i = (o[0], o[1]);
                    t.set(e, !1 !== i.display), e++
                }
                return t.toString(36)
            }
        }, {
            key: "getOverlayMax",
            value: function () {
                return this.currentMap.overlays.length
            }
        }, {
            key: "getOverlayBitfield",
            value: function () {
                var t, e = new Yc,
                    n = 0,
                    r = Nd(this.currentMap.overlays);
                try {
                    for (r.s(); !(t = r.n()).done;) {
                        var o = !1 !== t.value.display;
                        e.set(n, o), n++
                    }
                } catch (t) {
                    r.e(t)
                } finally {
                    r.f()
                }
                return e.toString(36)
            }
        }, {
            key: "updateQuery",
            value: function (t) {
                var e = Math.round(100 * t.zoom) / 100,
                    n = "?".concat(this.currentMap.id, "/").concat(e, "/").concat(t.center[0].toFixed(0), "x").concat(t.center[1].toFixed(0)).concat(0 != t.rotation ? "@" + t.rotation.toFixed(3) : "");
                this.currentMap.view != this.currentMap.defaultView && (n += "/t-".concat(this.currentMap.view)), n += "/".concat(this.options.vehicles ? "V" : "v").concat(this.getVehicleBitfield()), n += "/".concat(this.options.buildingsEnabled ? "B" : "b"), this.options.buildingsEnabled && this.currentMap.buildings.length > 0 && (n += this.currentMap.buildings.map((function (t) {
                    return encodeURIComponent(t)
                })).join("|")), n += "/o".concat(this.getOverlayBitfield(), ":").concat(this.getOverlayMax()), n += "/".concat(this.options.loot ? "L" : "l").concat(this.options.lootCluster ? "B" : "b").concat(this.options.lootCategory), history.replaceState(null, null, document.location.pathname + n + (null != this.options.tweakString ? "/" + this.options.tweakString : ""))
            }
        }, {
            key: "parseQuery",
            value: function (t) {
                var e = this,
                    n = /^(?:#|\?)([^\/]+)(?:\/(\d+(?:\.\d+)?)\/(\d*(?:\.\d*)?)x(\d*(?:\.\d*)?)(?:@(-?\d*\.\d*))?)?/g,
                    r = n.exec(t);
                if (null == r) return {};
                var o = r[1],
                    i = Number(r[2]),
                    a = Number(r[3]),
                    s = Number(r[4]),
                    u = Number(r[5]),
                    c = isNaN(a) || isNaN(s) ? void 0 : [a, s];
                t = t.slice(n.lastIndex);
                var l, h, f, p, d, y, g, v, m, _, b, x = /\/(v|V)([a-z0-9]+)/g,
                    w = /\/(l|L)(b|B)([a-zA-Z]+)/g,
                    S = /\/o([a-z0-9]+)(?::([a-z0-9]+))?/g,
                    C = /\/t-([a-z0-9_-]+)/g,
                    E = /\/(b|B)((?:[a-zA-Z0-9-_]+\|?)*)/g,
                    T = [x, w, S, C, E];
                (r = x.exec(t)) && (l = "V" == r[1], h = parseInt(r[2], 36)), (r = w.exec(t)) && (f = "L" == r[1], p = "B" == r[2], d = r[3]), (r = S.exec(t)) && (y = parseInt(r[1], 36), g = r[2] ? parseInt(r[2], 36) : void 0), (r = C.exec(t)) && (b = r[1]), (r = E.exec(t)) && (v = "B" == r[1], m = r[2].split("|").map((function (t) {
                    return decodeURIComponent(t)
                })));
                var O, P = Math.max.apply(Math, [0].concat(function (t) {
                        if (Array.isArray(t)) return Wd(t)
                    }(O = T.map((function (t) {
                        return t.lastIndex
                    }))) || function (t) {
                        if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t)
                    }(O) || Xd(O) || function () {
                        throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }())),
                    A = (t = t.slice(P)).indexOf("/") + 1;
                _ = A > 0 ? t.slice(A) : void 0;
                var R = {
                        mapId: o,
                        viewId: b,
                        ol: {
                            center: c,
                            rotation: isNaN(u) ? void 0 : u,
                            zoom: isNaN(i) ? void 0 : i
                        },
                        vehicles: l,
                        vehicleBitfield: h,
                        loot: f,
                        lootCluster: p,
                        lootCategory: d,
                        overlayBitfield: y,
                        overlayMax: g,
                        buildingsEnabled: v,
                        buildingsList: m,
                        tweakString: _
                    },
                    I = {};
                if (_) {
                    var k = function (t, n) {
                        for (var r = e.options, o = 0; o < t.length && o < 2 && "object" === Gd(r = r[t[o]]); o++);
                        var i = Gd(r);
                        switch (r instanceof Array && (i = "string[]"), i) {
                            case "number":
                                return Number(n);
                            case "boolean":
                                return "false" != n && "0" != n && "" != n;
                            case "string":
                            case "undefined":
                                return n;
                            case "string[]":
                                return 0 === n.length ? [] : n.split("|");
                            default:
                                return console.warn("base ", t, r, Gd(r)), n
                        }
                    };
                    I = _.split("&").map((function (t) {
                        return t.split("=")
                    })).reduce((function (t, e) {
                        var n = e[0].split("."),
                            r = decodeURIComponent(e[1]);
                        if (n.length > 1) {
                            var o = {};
                            o[n[1]] = k(n, r), t[n[0]] = Object.assign({}, t[n[0]], o)
                        } else t[n[0]] = k(n, r);
                        return t
                    }), {})
                }
                return Yd(R, I)
            }
        }, {
            key: "getMap",
            value: function (t) {
                return R.find((function (e) {
                    return e.id == t
                })) || R[0]
            }
        }]) && function (t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
            }
        }(e.prototype, n), t
    }();

    function $d() {
        return ($d = Bd(regeneratorRuntime.mark((function t() {
            var e, n;
            return regeneratorRuntime.wrap((function (t) {
                for (;;) switch (t.prev = t.next) {
                    case 0:
                        return e = new K, t.next = 3, e.load();
                    case 3:
                        if (t.t0 = t.sent, t.t0) {
                            t.next = 6;
                            break
                        }
                        t.t0 = {};
                    case 6:
                        n = t.t0, console.log("bid", "ea0ac4430308", n.BuildId, "Debug"), n.BuildId && "ea0ac4430308" != n.BuildId && setTimeout((function () {
                            return document.location.reload(!0)
                        }), 1e3);
                    case 9:
                    case "end":
                        return t.stop()
                }
            }), t)
        })))).apply(this, arguments)
    }
    f()(Kd.prototype), l()((function () {
        ! function () {
            $d.apply(this, arguments)
        }();
        var t = new Kd;
        window.app = t;
        var e = new ql({
            POPUP_VISIBLE: !0
        });

        function n() {
            var t = .01 * window.innerHeight;
            document.documentElement.style.setProperty("--vh", "".concat(t, "px"))
        }
        l()("#hide-controls-button").on("click", (function () {
            l()("#popout").toggleClass("hidden"), e.POPUP_VISIBLE = !l()("#popout").hasClass("hidden")
        })), e.POPUP_VISIBLE || l()("#popout").toggleClass("hidden"), n(), l()(window).on("resize", n)
    }))
}]);
//# sourceMappingURL=app.js.map